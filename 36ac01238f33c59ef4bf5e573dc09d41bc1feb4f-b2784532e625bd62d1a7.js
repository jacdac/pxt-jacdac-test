(self["webpackChunkjacdac_docs"] = self["webpackChunkjacdac_docs"] || []).push([[0],{

/***/ 96540:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"
}), 'Add');
exports.Z = _default;

/***/ }),

/***/ 62394:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"
}), 'Cable');
exports.Z = _default;

/***/ }),

/***/ 91535:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"
}), 'Circle');
exports.Z = _default;

/***/ }),

/***/ 38192:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"
}), 'DeviceThermostat');
exports.Z = _default;

/***/ }),

/***/ 83619:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"
}), 'Devices');
exports.Z = _default;

/***/ }),

/***/ 80610:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"
}), 'Fingerprint');
exports.Z = _default;

/***/ }),

/***/ 76750:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 20H2v-2h5.75c-.73-2.81-2.94-5.01-5.75-5.74.64-.16 1.31-.26 2-.26 4.42 0 8 3.58 8 8zm10-7.74c-.64-.16-1.31-.26-2-.26-2.93 0-5.48 1.58-6.88 3.93.29.66.53 1.35.67 2.07.13.65.2 1.32.2 2h8v-2h-5.75c.74-2.81 2.95-5.01 5.76-5.74zm-6.36-1.24c.78-2.09 2.23-3.84 4.09-5C15.44 6.16 12 9.67 12 14v.02c.95-1.27 2.2-2.3 3.64-3zm-4.22-2.17C10.58 6.66 8.88 4.89 6.7 4 8.14 5.86 9 8.18 9 10.71c0 .21-.03.41-.04.61.43.24.83.52 1.22.82.21-1.18.65-2.29 1.24-3.29z"
}), 'Grass');
exports.Z = _default;

/***/ }),

/***/ 90469:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19.5 9.5c-1.03 0-1.9.62-2.29 1.5h-2.92c-.39-.88-1.26-1.5-2.29-1.5s-1.9.62-2.29 1.5H6.79c-.39-.88-1.26-1.5-2.29-1.5C3.12 9.5 2 10.62 2 12s1.12 2.5 2.5 2.5c1.03 0 1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5s1.9-.62 2.29-1.5h2.92c.39.88 1.26 1.5 2.29 1.5 1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z"
}), 'LinearScale');
exports.Z = _default;

/***/ }),

/***/ 64362:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _interopRequireDefault = __webpack_require__(95318);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"
}), 'MusicNote');
exports["default"] = _default;

/***/ }),

/***/ 8857:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"
}), 'RadioButtonChecked');
exports.Z = _default;

/***/ }),

/***/ 34282:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"
}), 'RestartAlt');
exports.Z = _default;

/***/ }),

/***/ 94229:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
}), 'Settings');
exports.Z = _default;

/***/ }),

/***/ 48852:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M11 19h2v3h-2zm-9-8h3v2H2zm17 0h3v2h-3zm-3.106 6.8014 1.4072-1.4071 2.1213 2.1213-1.4071 1.4071zm-11.3099.7071 2.1214-2.1213 1.4071 1.4072-2.1213 2.1213zM15 8.02V3H9v5.02c-1.21.92-2 2.35-2 3.98 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.06-2-3.98zM11 5h2v2.1c-.32-.06-.66-.1-1-.1s-.68.04-1 .1V5z"
}), 'Tungsten');
exports.Z = _default;

/***/ }),

/***/ 8433:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _interopRequireDefault = __webpack_require__(95318);
__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;
var _createSvgIcon = _interopRequireDefault(__webpack_require__(64938));
var _jsxRuntime = __webpack_require__(85893);
var _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
  d: "M21.98 14H22h-.02zM5.35 13c1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.4.98 3.31 1v-2c-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1v2c1.9 0 2.17-1 3.35-1zm13.32 2c-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.1 1-3.34 1-1.24 0-1.38-1-3.33-1-1.95 0-2.1 1-3.34 1v2c1.95 0 2.11-1 3.34-1 1.24 0 1.38 1 3.33 1 1.95 0 2.1-1 3.34-1 1.19 0 1.42 1 3.33 1 1.94 0 2.09-1 3.33-1 1.19 0 1.42 1 3.33 1v-2c-1.24 0-1.38-1-3.33-1zM5.35 9c1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.42 1 3.33 1 1.95 0 2.09-1 3.33-1 1.19 0 1.4.98 3.31 1V8c-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1-1.95 0-2.09 1-3.33 1-1.19 0-1.42-1-3.33-1C3.38 7 3.24 8 2 8v2c1.9 0 2.17-1 3.35-1z"
}), 'Water');
exports.Z = _default;

/***/ }),

/***/ 51223:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(5112);
var create = __webpack_require__(70030);
var defineProperty = (__webpack_require__(3070).f);

var UNSCOPABLES = wellKnownSymbol('unscopables');
var ArrayPrototype = Array.prototype;

// Array.prototype[@@unscopables]
// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
if (ArrayPrototype[UNSCOPABLES] == undefined) {
  defineProperty(ArrayPrototype, UNSCOPABLES, {
    configurable: true,
    value: create(null)
  });
}

// add a key to Array.prototype[@@unscopables]
module.exports = function (key) {
  ArrayPrototype[UNSCOPABLES][key] = true;
};


/***/ }),

/***/ 77475:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var isArray = __webpack_require__(43157);
var isConstructor = __webpack_require__(4411);
var isObject = __webpack_require__(70111);
var wellKnownSymbol = __webpack_require__(5112);

var SPECIES = wellKnownSymbol('species');
var $Array = Array;

// a part of `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray) {
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? $Array : C;
};


/***/ }),

/***/ 65417:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arraySpeciesConstructor = __webpack_require__(77475);

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
};


/***/ }),

/***/ 7207:
/***/ (function(module) {

var $TypeError = TypeError;
var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

module.exports = function (it) {
  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');
  return it;
};


/***/ }),

/***/ 6790:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isArray = __webpack_require__(43157);
var lengthOfArrayLike = __webpack_require__(26244);
var doesNotExceedSafeInteger = __webpack_require__(7207);
var bind = __webpack_require__(49974);

// `FlattenIntoArray` abstract operation
// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray
var flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {
  var targetIndex = start;
  var sourceIndex = 0;
  var mapFn = mapper ? bind(mapper, thisArg) : false;
  var element, elementLen;

  while (sourceIndex < sourceLen) {
    if (sourceIndex in source) {
      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];

      if (depth > 0 && isArray(element)) {
        elementLen = lengthOfArrayLike(element);
        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;
      } else {
        doesNotExceedSafeInteger(targetIndex + 1);
        target[targetIndex] = element;
      }

      targetIndex++;
    }
    sourceIndex++;
  }
  return targetIndex;
};

module.exports = flattenIntoArray;


/***/ }),

/***/ 49974:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var uncurryThis = __webpack_require__(1702);
var aCallable = __webpack_require__(19662);
var NATIVE_BIND = __webpack_require__(34374);

var bind = uncurryThis(uncurryThis.bind);

// optional / simple context binding
module.exports = function (fn, that) {
  aCallable(fn);
  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ 60490:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(35005);

module.exports = getBuiltIn('document', 'documentElement');


/***/ }),

/***/ 43157:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var classof = __webpack_require__(84326);

// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es-x/no-array-isarray -- safe
module.exports = Array.isArray || function isArray(argument) {
  return classof(argument) == 'Array';
};


/***/ }),

/***/ 70030:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/* global ActiveXObject -- old IE, WSH */
var anObject = __webpack_require__(19670);
var definePropertiesModule = __webpack_require__(36048);
var enumBugKeys = __webpack_require__(80748);
var hiddenKeys = __webpack_require__(3501);
var html = __webpack_require__(60490);
var documentCreateElement = __webpack_require__(80317);
var sharedKey = __webpack_require__(6200);

var GT = '>';
var LT = '<';
var PROTOTYPE = 'prototype';
var SCRIPT = 'script';
var IE_PROTO = sharedKey('IE_PROTO');

var EmptyConstructor = function () { /* empty */ };

var scriptTag = function (content) {
  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
};

// Create object with fake `null` prototype: use ActiveX Object with cleared prototype
var NullProtoObjectViaActiveX = function (activeXDocument) {
  activeXDocument.write(scriptTag(''));
  activeXDocument.close();
  var temp = activeXDocument.parentWindow.Object;
  activeXDocument = null; // avoid memory leak
  return temp;
};

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var NullProtoObjectViaIFrame = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = documentCreateElement('iframe');
  var JS = 'java' + SCRIPT + ':';
  var iframeDocument;
  iframe.style.display = 'none';
  html.appendChild(iframe);
  // https://github.com/zloirock/core-js/issues/475
  iframe.src = String(JS);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(scriptTag('document.F=Object'));
  iframeDocument.close();
  return iframeDocument.F;
};

// Check for document.domain and active x support
// No need to use active x approach when document.domain is not set
// see https://github.com/es-shims/es5-shim/issues/150
// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
// avoid IE GC bug
var activeXDocument;
var NullProtoObject = function () {
  try {
    activeXDocument = new ActiveXObject('htmlfile');
  } catch (error) { /* ignore */ }
  NullProtoObject = typeof document != 'undefined'
    ? document.domain && activeXDocument
      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
      : NullProtoObjectViaIFrame()
    : NullProtoObjectViaActiveX(activeXDocument); // WSH
  var length = enumBugKeys.length;
  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
  return NullProtoObject();
};

hiddenKeys[IE_PROTO] = true;

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es-x/no-object-create -- safe
module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    EmptyConstructor[PROTOTYPE] = anObject(O);
    result = new EmptyConstructor();
    EmptyConstructor[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = NullProtoObject();
  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
};


/***/ }),

/***/ 36048:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(19781);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(3353);
var definePropertyModule = __webpack_require__(3070);
var anObject = __webpack_require__(19670);
var toIndexedObject = __webpack_require__(45656);
var objectKeys = __webpack_require__(81956);

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es-x/no-object-defineproperties -- safe
exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var props = toIndexedObject(Properties);
  var keys = objectKeys(Properties);
  var length = keys.length;
  var index = 0;
  var key;
  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
  return O;
};


/***/ }),

/***/ 81956:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var internalObjectKeys = __webpack_require__(16324);
var enumBugKeys = __webpack_require__(80748);

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es-x/no-object-keys -- safe
module.exports = Object.keys || function keys(O) {
  return internalObjectKeys(O, enumBugKeys);
};


/***/ }),

/***/ 86535:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(82109);
var flattenIntoArray = __webpack_require__(6790);
var aCallable = __webpack_require__(19662);
var toObject = __webpack_require__(47908);
var lengthOfArrayLike = __webpack_require__(26244);
var arraySpeciesCreate = __webpack_require__(65417);

// `Array.prototype.flatMap` method
// https://tc39.es/ecma262/#sec-array.prototype.flatmap
$({ target: 'Array', proto: true }, {
  flatMap: function flatMap(callbackfn /* , thisArg */) {
    var O = toObject(this);
    var sourceLen = lengthOfArrayLike(O);
    var A;
    aCallable(callbackfn);
    A = arraySpeciesCreate(O, 0);
    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    return A;
  }
});


/***/ }),

/***/ 99244:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

// this method was added to unscopables after implementation
// in popular engines, so it's moved to a separate module
var addToUnscopables = __webpack_require__(51223);

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('flatMap');


/***/ }),

/***/ 10662:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ CmdButton; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(15861);
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(63366);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(41796);
/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(90948);
/* harmony import */ var gatsby_theme_material_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16821);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);
/* harmony import */ var _mui_icons_material_Error__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(89572);
/* harmony import */ var _ui_IconButtonWithTooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(48147);
/* harmony import */ var _hooks_useAnalytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(92513);
/* harmony import */ var _hooks_useMounted__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(96173);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(86010);
/* harmony import */ var _hooks_useSnackbar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(37862);
/* harmony import */ var _jacdac_useBus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26040);
/* harmony import */ var _widgets_OptionalTooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(86992);
var _excluded=["onClick","className","style","children","icon","title","disabled","disableReset","autoRun","trackName","trackProperties","ackResetDelay","color"];// tslint:disable-next-line: match-default-export-name no-submodule-imports
var PREFIX="CmdButton";var classes={ack:PREFIX+"Ack",error:PREFIX+"Error"};var Root=(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .ZP)("span")(_ref=>{var{theme}=_ref;return{["& ."+classes.ack]:{color:"#fff",fontWeight:theme.typography.fontWeightMedium,backgroundColor:theme.palette.success.main},["& ."+classes.error]:{color:"#fff",backgroundColor:(theme.palette.mode==="light"?_mui_material__WEBPACK_IMPORTED_MODULE_9__/* .lighten */ .$n:_mui_material__WEBPACK_IMPORTED_MODULE_9__/* .darken */ ._j)(theme.palette.error.main,0.6)}};});var ACK_RESET_DELAY=500;var ERROR_RESET_DELAY=2000;function CmdButton(props){var{onClick,className,style,children,icon,title,disabled,disableReset,autoRun,trackName,trackProperties,ackResetDelay,color}=props,others=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z)(props,_excluded);var bus=(0,_jacdac_useBus__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)();var{setError:setAppError}=(0,_hooks_useSnackbar__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)();var{0:working,1:setWorking}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);var{0:ack,1:setAck}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);var{0:error,1:setError}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);var{trackEvent}=(0,_hooks_useAnalytics__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP)();var mounted=(0,_hooks_useMounted__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)();var _disabled=disabled||working;var run=/*#__PURE__*/function(){var _ref2=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function*(){if(working)return;// already working
if(trackName)trackEvent("cmd."+trackName,trackProperties);try{setError(undefined);setAck(false);setWorking(true);yield onClick(mounted);if(!mounted())return;setAck(true);if(!disableReset){yield bus.delay(ackResetDelay||ACK_RESET_DELAY);if(!mounted())return;setAck(false);}}catch(e){if(!mounted())return;setAppError(e);setError(e);if(!disableReset){yield bus.delay(ERROR_RESET_DELAY);if(!mounted())return;setError(undefined);}}finally{if(mounted())setWorking(false);}});return function run(){return _ref2.apply(this,arguments);};}();var handleClick=/*#__PURE__*/function(){var _ref3=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z)(function*(ev){ev.stopPropagation();ev.preventDefault();run();});return function handleClick(_x){return _ref3.apply(this,arguments);};}();var statusIcon=error?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_mui_icons_material_Error__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z,null):undefined;var modeClassName=error?classes.error:ack?classes.ack:undefined;var elClassName=(0,clsx__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z)(className,modeClassName);// run once
(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(autoRun&&mounted())run();},[autoRun]);return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Root,null,!children&&icon?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_ui_IconButtonWithTooltip__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z,Object.assign({className:elClassName,style:style,onClick:handleClick,"aria-label":title,title:title,disabled:_disabled,color:color},others),statusIcon||icon):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_widgets_OptionalTooltip__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z,{title:title,placement:"bottom"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(gatsby_theme_material_ui__WEBPACK_IMPORTED_MODULE_0__/* .Button */ .zx,Object.assign({className:elClassName,style:style,startIcon:icon,endIcon:statusIcon,onClick:handleClick,"aria-label":title,title:"",disabled:_disabled,color:color},others),children)));}

/***/ }),

/***/ 51055:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ RegisterInput; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(15861);
// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(2658);
// EXTERNAL MODULE: ./node_modules/@mui/material/Box/Box.js + 1 modules
var Box = __webpack_require__(71508);
// EXTERNAL MODULE: ./src/components/devices/DeviceName.tsx
var DeviceName = __webpack_require__(9400);
// EXTERNAL MODULE: ./src/components/ui/Alert.tsx
var Alert = __webpack_require__(46259);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/constants.ts
var constants = __webpack_require__(3964);
// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(15725);
// EXTERNAL MODULE: ./node_modules/@mui/material/FormControlLabel/FormControlLabel.js + 1 modules
var FormControlLabel = __webpack_require__(50542);
// EXTERNAL MODULE: ./node_modules/@mui/material/Slider/Slider.js + 4 modules
var Slider = __webpack_require__(92486);
// EXTERNAL MODULE: ./node_modules/@mui/material/Switch/Switch.js + 1 modules
var Switch = __webpack_require__(89149);
// EXTERNAL MODULE: ./node_modules/@mui/material/Select/Select.js + 5 modules
var Select = __webpack_require__(97920);
// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 1 modules
var MenuItem = __webpack_require__(33797);
// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 1 modules
var TextField = __webpack_require__(94659);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/pretty.ts
var pretty = __webpack_require__(34743);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/spec.ts + 1 modules
var spec = __webpack_require__(62070);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/utils.ts
var utils = __webpack_require__(46196);
// EXTERNAL MODULE: ./src/components/widgets/ButtonWidget.tsx
var ButtonWidget = __webpack_require__(79211);
// EXTERNAL MODULE: ./src/components/widgets/GaugeWidget.tsx
var GaugeWidget = __webpack_require__(13070);
// EXTERNAL MODULE: ./src/components/widgets/useWidgetSize.ts
var useWidgetSize = __webpack_require__(89196);
// EXTERNAL MODULE: ./src/components/widgets/useWidgetTheme.ts
var useWidgetTheme = __webpack_require__(2874);
// EXTERNAL MODULE: ./src/components/ui/useUnitConverter.ts
var useUnitConverter = __webpack_require__(63634);
;// CONCATENATED MODULE: ./src/components/widgets/ValueWithUnitWidget.tsx
/// <reference path="../../../jacdac-ts/jacdac-spec/spectool/jdspec.d.ts" />
function useDebouncedValueTextLength(valueText){var valueTextLength=valueText.length;var debouncedRef=(0,react.useRef)(valueTextLength);var alpha=0.05;if(debouncedRef.current<valueTextLength)debouncedRef.current=valueTextLength;else debouncedRef.current=debouncedRef.current*(1-alpha)+valueTextLength*alpha;return Math.ceil(debouncedRef.current);}function ValueWithUnitWidget(props){var{step,secondaryLabel,icon,unit,tabIndex,color,onChange}=props;var{name:unitName,converter:unitConverter,inverter:unitInverter}=(0,useUnitConverter/* default */.Z)(unit);// map all values with unit converters
var{value,min,max}={value:unitConverter(props.value),min:unitConverter(props.min),max:unitConverter(props.max)};var precision=step===undefined?1:step<1?Math.ceil(-Math.log10(step)):0;var hasValue=!isNaN(value);var valueText=hasValue?(0,utils/* renderWithPrecision */.Y_)(value,precision):"--";var valueTextLength=useDebouncedValueTextLength(valueText);var{textPrimary}=(0,useWidgetTheme/* default */.Z)(color);var valueVariant=valueTextLength<7?"h2":valueTextLength<9?"h3":valueTextLength<12?"h4":"h6";var valueStyle={color:textPrimary,minWidth:valueTextLength/2+"em",fontVariantNumeric:"tabular-nums"};var unitStyle={color:textPrimary};var captionStyle={color:textPrimary};var handleChange=(event,newValue)=>{var v=newValue;var iv=unitInverter(v);onChange(iv);};return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,direction:"column",tabIndex:tabIndex,"aria-label":valueText+" "+(unitName||"")},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,direction:"row",alignContent:"flex-end"},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Typography/* default */.Z,{role:"timer",align:"right",variant:valueVariant,style:valueStyle},icon,valueText)),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,direction:"column",alignContent:"space-between"},unitName&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Typography/* default */.Z,{style:unitStyle,variant:"caption"},unitName)),secondaryLabel&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Typography/* default */.Z,{style:captionStyle,variant:"caption"},secondaryLabel)))))),onChange&&value!==undefined&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(Slider/* default */.ZP,{valueLabelDisplay:"off",color:"secondary",min:min,max:max,step:step,value:value,onChange:handleChange,"aria-label":unitName||secondaryLabel})));}
// EXTERNAL MODULE: ./node_modules/@mui/material/SvgIcon/SvgIcon.js + 1 modules
var SvgIcon = __webpack_require__(33502);
;// CONCATENATED MODULE: ./src/components/icons/HumidityIcon.tsx
/* harmony default export */ var HumidityIcon = (props=>/*#__PURE__*/react.createElement(SvgIcon/* default */.Z,Object.assign({titleAccess:"humidity logo"},props),/*#__PURE__*/react.createElement("path",{d:"M8.8-.03A49.327 49.327 0 00.956 11.112a8.824 8.824 0 1015.693 0A49.327 49.327 0 008.801-.029zm0 3.132a47.244 47.244 0 015.995 8.962 6.74 6.74 0 11-11.986 0A47.243 47.243 0 018.8 3.102z"})));
;// CONCATENATED MODULE: ./src/components/icons/TemperatureIcon.tsx
/* harmony default export */ var TemperatureIcon = (props=>/*#__PURE__*/react.createElement(SvgIcon/* default */.Z,Object.assign({titleAccess:"Temperature icon"},props),/*#__PURE__*/react.createElement("path",{d:"M11.365 14.761a.635.635 0 000-1.27h-1.35a.635.635 0 000 1.27zM11.365 12.062a.635.635 0 000-1.27h-1.35a.635.635 0 000 1.27zM11.365 9.363a.635.635 0 000-1.27h-1.35a.635.635 0 000 1.27zM11.365 6.663a.635.635 0 000-1.27h-1.35a.635.635 0 000 1.27zM11.365 3.964a.635.635 0 000-1.27h-1.35a.635.635 0 000 1.27zM4.04 3.26v14.207a1.979 1.978 0 101.284-.004V3.26a.642.642 0 00-1.285 0z"}),/*#__PURE__*/react.createElement("path",{d:"M4.699 0a3.302 3.301 0 00-3.323 3.3v12.726a4.668 4.666 0 106.605.022V3.3A3.302 3.301 0 004.7 0zm-.047 1.303a2.01 2.008 0 012.041 2.009v13.37a3.354 3.352 0 11-4.017-.027V3.312a2.01 2.008 0 011.976-2.01z"})));
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/spectool/jdspec.ts
var jdspec = __webpack_require__(18763);
;// CONCATENATED MODULE: ./src/components/hooks/useUnitIcon.tsx
/* harmony default export */ var useUnitIcon = ((unit,props)=>{var{unit:runit}=(0,jdspec/* resolveUnit */.bM)(unit)||{};switch(runit){case"%RH":return/*#__PURE__*/react.createElement(HumidityIcon,props);case"°C":case"K":return/*#__PURE__*/react.createElement(TemperatureIcon,props);default:return null;}});
// EXTERNAL MODULE: ./src/components/ui/LoadingProgress.tsx
var LoadingProgress = __webpack_require__(2976);
;// CONCATENATED MODULE: ./src/components/fields/MemberInput.tsx
// tslint:disable-next-line: no-submodule-imports
function MemberInput(props){var _serviceSpecification;var{specification,serviceSpecification,serviceMemberSpecification,value,setValue,showDataType,color,variant,min,max,resolution,error,showLoading,off,toggleOff,controlled}=props;var{typicalMin,typicalMax,absoluteMin,absoluteMax,type}=specification;var{kind}=serviceMemberSpecification;var enumInfo=(_serviceSpecification=serviceSpecification.enums)===null||_serviceSpecification===void 0?void 0:_serviceSpecification[specification.type];var disabled=!setValue;var readOnly=disabled||controlled&&kind!=="ro";var{0:errorText,1:setErrorText}=(0,react.useState)("");var{0:textValue,1:setTextValue}=(0,react.useState)("");var valueString=(0,spec/* memberValueToString */.Mn)(value,specification);var name=specification.name==="_"?serviceMemberSpecification.name:specification.name;var label=name;var isWidget=variant==="widget";var widgetSize=(0,useWidgetSize/* default */.Z)();var unitIcon=useUnitIcon(specification.unit,{"aria-label":label});var{textPrimary}=(0,useWidgetTheme/* default */.Z)(color);var minValue=(0,utils/* pick */.ei)(min,typicalMin,absoluteMin,/^u/.test(type)?0:undefined);var maxValue=(0,utils/* pick */.ei)(max,typicalMax,absoluteMax);var errorValue=error?"±"+(0,utils/* roundWithPrecision */.JI)(error,1-Math.floor(Math.log10(error))).toLocaleString():undefined;var unit=(0,pretty/* prettyUnit */.QP)(specification.unit);var helperText=errorText||[(0,pretty/* prettyMemberUnit */.Zn)(specification,showDataType),errorValue].filter(v=>v!==undefined).join(", ");var inputId=(0,react.useId)();var inputType=specification.type==="string"||specification.type==="string0"?"string":specification.isSimpleType||(0,spec/* isIntegerType */.YF)(specification.type)?"number":"";// update coming from device
(0,react.useEffect)(()=>{setTextValue(valueString);},[valueString]);var handleChecked=(ev,checked)=>{setValue(checked);};var handleChange=ev=>{var newValue=ev.target.value;setTextValue(newValue);var r=(0,spec/* tryParseMemberValue */.Xg)(newValue,specification);if(r.value!==undefined)setValue(r.value);setErrorText(r.error);};// eslint-disable-next-line @typescript-eslint/no-explicit-any
var handleEnumChange=event=>{var v=enumInfo.isFlags?(0,pretty/* flagsToValue */.zi)(event.target.value):event.target.value;setValue(v);};var handleSliderChange=(ev,newValue)=>setValue(newValue);var handleSliderWidgetChange=newValue=>setValue(newValue);var percentValueFormat=value=>{// avoid super long floats
return(value*100>>0)+"%";};var valueLabelFormat=value=>{// avoid super long floats
return (0,utils/* roundWithPrecision */.JI)(value,1)+(unit||"");};var percentValueLabelFormat=v=>{return Math.round(v*100)+"%";};var offFormat=()=>"off";// value hasn't been loaded yet
if(serviceMemberSpecification.kind!=="command"&&value===undefined){if(showLoading)return/*#__PURE__*/react.createElement(LoadingProgress/* default */.Z,null);else return null;}//
if(specification.type==="pipe"){return/*#__PURE__*/react.createElement(react.Fragment,null,"pipe ",/*#__PURE__*/react.createElement("code",null,specification.name));}else if(specification.type==="bool"){if(isWidget&&!(0,spec/* isValueOrIntensity */.sX)(serviceMemberSpecification)){return/*#__PURE__*/react.createElement(ButtonWidget/* default */.Z,{label:!isWidget&&label,checked:!!value,color:color,size:widgetSize});}return/*#__PURE__*/react.createElement(FormControlLabel/* default */.Z,{control:/*#__PURE__*/react.createElement(Switch/* default */.Z,{checked:!!value,onChange:readOnly?undefined:handleChecked,color:color}),label:/*#__PURE__*/react.createElement("span",{style:{color:textPrimary}},label)});}else if(enumInfo!==undefined){return/*#__PURE__*/react.createElement(Select/* default */.Z,{"aria-label":label,disabled:disabled,multiple:enumInfo.isFlags,value:enumInfo.isFlags?(0,pretty/* valueToFlags */.Cg)(enumInfo,value):value,onChange:!controlled?handleEnumChange:undefined},Object.keys(enumInfo.members).map(n=>/*#__PURE__*/react.createElement(MenuItem/* default */.Z,{key:n,value:enumInfo.members[n]},n)));}else if(specification.unit==="/"){var signed=specification.storage<0;var _min=signed?-1:0;var _max=1;var step=resolution!==undefined?resolution:0.01;var digits=Math.ceil(-Math.log10(step));var nvalue=(0,utils/* roundWithPrecision */.JI)(value,digits);if(isWidget){var size="clamp(6rem, 12vw, 12vh)";return/*#__PURE__*/react.createElement(GaugeWidget/* default */.Z,{tabIndex:0,label:label,size:size,value:nvalue,color:color,variant:signed?"fountain":undefined,min:_min,max:_max,step:step,valueLabel:percentValueLabelFormat,onChange:readOnly?undefined:handleSliderWidgetChange,off:off,toggleOff:readOnly?undefined:toggleOff});}return/*#__PURE__*/react.createElement(Slider/* default */.ZP,{"aria-label":label,color:color,value:nvalue,valueLabelFormat:percentValueFormat,onChange:readOnly?undefined:handleSliderChange,min:_min,max:_max,step:step,valueLabelDisplay:"auto"});}else if((0,utils/* isSet */.DM)(minValue)&&(0,utils/* isSet */.DM)(maxValue)){var hasTypicalRange=(0,utils/* isSet */.DM)(typicalMin)&&(0,utils/* isSet */.DM)(typicalMax);var _step=resolution!==undefined?resolution:hasTypicalRange?(specification.typicalMax-specification.typicalMin)/100:(maxValue-minValue)/100;if(_step===0||isNaN(_step))// edge case
_step=undefined;var marks=hasTypicalRange&&(typicalMin!==minValue||typicalMax!==maxValue)?[{value:typicalMin},{value:typicalMax}]:undefined;if(isWidget)return/*#__PURE__*/react.createElement(ValueWithUnitWidget,{tabIndex:0,unit:specification.unit,value:value,min:minValue,max:maxValue,icon:unitIcon,step:_step,secondaryLabel:errorValue,color:color,onChange:readOnly?undefined:handleSliderWidgetChange});return/*#__PURE__*/react.createElement(Slider/* default */.ZP,{value:value,color:color,valueLabelFormat:off?offFormat:valueLabelFormat,onChange:readOnly?undefined:handleSliderChange,min:minValue,max:maxValue,step:_step,marks:marks,valueLabelDisplay:"auto"});}else if(specification.type==="bytes"){return/*#__PURE__*/react.createElement(TextField/* default */.Z,{id:inputId,spellCheck:false,value:textValue,label:label,inputProps:{["aria-label"]:label,["aria-readonly"]:disabled,readOnly:disabled},helperText:helperText,onChange:readOnly?undefined:handleChange,required:value===undefined,error:!!errorText,type:"text"});}else{// numbers or string or uintarrays
if(isWidget)// we need min/max to support a slider
return/*#__PURE__*/react.createElement(ValueWithUnitWidget,{tabIndex:0,value:(0,utils/* roundWithPrecision */.JI)(value,1),unit:specification.unit,color:color,size:widgetSize});return/*#__PURE__*/react.createElement(TextField/* default */.Z,{id:inputId,spellCheck:false,value:textValue,label:label,inputProps:{"aria-label":label,"aria-readonly":disabled,readOnly:disabled},helperText:helperText,onChange:readOnly?undefined:handleChange,required:value===undefined,error:!!errorText,type:inputType});}}
;// CONCATENATED MODULE: ./src/components/fields/MembersInput.tsx
function MembersInput(props){var{serviceSpecification,serviceMemberSpecification,specifications,values,setValues,showDataType,color,variant,min,max,resolution,error,off,toggleOff,controlled}=props;var setValue=index=>value=>{var c=values.slice(0);c[index]=value;setValues(c);};return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,spacing:1,direction:"column"},specifications.map((field,fieldi)=>{var value=values===null||values===void 0?void 0:values[fieldi];return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,key:fieldi,xs:12},/*#__PURE__*/react.createElement(MemberInput,{serviceSpecification:serviceSpecification,serviceMemberSpecification:serviceMemberSpecification,specification:field,showDataType:showDataType,value:value,color:color,setValue:values&&setValues&&setValue(fieldi),variant:variant,min:min===null||min===void 0?void 0:min[fieldi],max:max===null||max===void 0?void 0:max[fieldi],resolution:resolution===null||resolution===void 0?void 0:resolution[fieldi],error:error===null||error===void 0?void 0:error[fieldi],off:off,toggleOff:toggleOff,controlled:controlled}));}));}
// EXTERNAL MODULE: ./src/jacdac/Context.tsx
var Context = __webpack_require__(20528);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 5 modules
var toConsumableArray = __webpack_require__(15785);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js
var createClass = __webpack_require__(43144);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js
var inheritsLoose = __webpack_require__(94578);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/eventsource.ts
var eventsource = __webpack_require__(53304);
;// CONCATENATED MODULE: ./src/components/FieldDataSet.ts
var Example=/*#__PURE__*/function(){function Example(timestamp,data){this.timestamp=timestamp;this.data=data;}var _proto=Example.prototype;_proto.toVector=function toVector(startTimestamp){var t=this.timestamp-(startTimestamp||0);var s=(0,utils/* roundWithPrecision */.JI)(t/1000,3);return[s].concat(this.data);};return Example;}();var Recording=function Recording(name,colors,headers,rows,units){this.name=name;this.colors=colors;this.headers=headers;this.rows=rows;this.units=units;};var FielddataSet=/*#__PURE__*/function(_JDEventSource){(0,inheritsLoose/* default */.Z)(FielddataSet,_JDEventSource);// sd is the standard deviation of the sample, a measure of volatility
FielddataSet.create=function create(bus,registers,name,palette,maxRows){var fields=(0,utils/* arrayConcatMany */.ue)(registers.map(reg=>reg.fields));var colors=fields.map((f,i)=>palette[i%palette.length]);var set=new FielddataSet(bus,name,fields,colors);if(maxRows!==undefined)set.maxRows=maxRows;return set;};FielddataSet.createFromFile=function createFromFile(dataSet){var set=new FielddataSet(null,dataSet.name,null,dataSet.colors);dataSet.rows.forEach(row=>{var{timestamp,data}=row;set.addExample(timestamp,data);});set.units=dataSet.units;set.headers=dataSet.headers;set.colors=dataSet.colors;return set;};function FielddataSet(bus,name,fields,colors){var _this;if(colors===void 0){colors=["#000"];}_this=_JDEventSource.call(this)||this;_this.id=Math.random().toString();_this.maxRows=-1;_this.bus=bus;_this.name=name;_this.fields=fields;_this.colors=colors;_this.rows=[];if(fields!==undefined&&fields!==null){_this.headers=fields.map(field=>field.name);_this.units=fields.map(field=>field.unit);}return _this;}var _proto2=FielddataSet.prototype;_proto2.data=function data(flatten){if(flatten&&this.headers.length==1)return this.rows.map(row=>row.data[0]);else return this.rows.map(row=>row.data);};_proto2.indexOf=function indexOf(field){return this.fields.indexOf(field);};_proto2.colorOf=function colorOf(field,header){if(field)return this.colors[this.indexOf(field)];if(header)return this.colors[this.headers.indexOf(header)];return["#000"];};_proto2.addRow=function addRow(data){var timestamp=this.bus.timestamp;if(!data)data=this.fields.map(f=>f.value);this.addExample(timestamp,data);};_proto2.addData=function addData(data){this.addExample(Date.now(),data);};_proto2.addExample=function addExample(timestamp,data){this.rows.push(new Example(timestamp,data));// drop rows if needed
var refreshminmax=false;while(this.maxRows>0&&this.rows.length>this.maxRows*1.1){this.rows.shift();refreshminmax=true;}if(refreshminmax){// refresh entire mins/max
for(var r=0;r<this.rows.length;++r){var row=this.rows[r];if(r==0){this.mins=row.data.slice(0);this.maxs=row.data.slice(0);this.rms=row.data.slice(0);this.sd=new Array(row.data.length).fill(0);}else{var n=r;for(var i=0;i<row.data.length;++i){this.mins[i]=Math.min(this.mins[i],row.data[i]);this.maxs[i]=Math.max(this.maxs[i],row.data[i]);this.rms[i]=Math.sqrt((Math.pow(this.rms[i],2)*(n-1)+Math.pow(row.data[i],2))/n);this.sd[i]=Math.sqrt((Math.pow(this.sd[i],2)*(n-1)+Math.pow(this.rms[i]-row.data[i],2))/n);}}}}else{// incremental update
if(!this.mins){this.mins=data.slice(0);this.maxs=data.slice(0);this.rms=data.slice(0);this.sd=new Array(data.length).fill(0);}else{var _n=this.rows.length;for(var _i=0;_i<data.length;++_i){this.mins[_i]=Math.min(this.mins[_i],data[_i]);this.maxs[_i]=Math.max(this.maxs[_i],data[_i]);this.rms[_i]=Math.sqrt((Math.pow(this.rms[_i],2)*(_n-1)+Math.pow(data[_i],2))/_n);this.sd[_i]=Math.sqrt((Math.pow(this.sd[_i],2)*(_n-1)+Math.pow(this.rms[_i]-data[_i],2))/_n);}}}this.emit(constants/* CHANGE */.Ver);};_proto2.toCSV=function toCSV(sep,options){if(sep===void 0){sep=",";}var allheaders=["time"].concat((0,toConsumableArray/* default */.Z)(this.headers)).join(sep);var start=this.startTimestamp;var csv=[allheaders];if(options!==null&&options!==void 0&&options.units)csv.push(["s"].concat((0,toConsumableArray/* default */.Z)(this.units)).join(sep));this.rows.forEach(row=>csv.push(row.toVector(start).map(cell=>cell!==undefined?cell.toString():"").join(sep)));return csv.join("\n");};_proto2.toJSON=function toJSON(){return{name:this.name,rows:this.rows,headers:this.headers,units:this.units,colors:this.colors};};(0,createClass/* default */.Z)(FielddataSet,[{key:"startTimestamp",get:function get(){var row=this.rows[0];return row===null||row===void 0?void 0:row.timestamp;}},{key:"duration",get:function get(){var first=this.rows[0];var last=this.rows[this.rows.length-1];return first&&last&&last.timestamp-first.timestamp||0;}},{key:"length",get:function get(){return this.rows.length;}},{key:"width",get:function get(){return this.headers.length;}}]);return FielddataSet;}(eventsource/* JDEventSource */.aE);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/material/Paper/Paper.js + 2 modules
var Paper = __webpack_require__(64680);
// EXTERNAL MODULE: ./src/jacdac/useChange.ts
var useChange = __webpack_require__(63339);
;// CONCATENATED MODULE: ./src/components/Trend.tsx
var PREFIX="Trend";var classes={graph:PREFIX+"graph",mini:PREFIX+"mini"};var Root=(0,styled/* default */.ZP)("div")(_ref=>{var{theme}=_ref;return{["& ."+classes.graph]:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)},["& ."+classes.mini]:{display:"inline-block",width:"10rem"}};});function UnitTrendChart(props){var{dataSet,useGradient,data,unit,vpw,vph,dot,yAxis}=props;var{name:unitName,converter:unitConverter}=(0,useUnitConverter/* default */.Z)(unit);var{textPrimary}=(0,useWidgetTheme/* default */.Z)("primary");var shape=unit=="#"?"step":"line";var symmetric=unit=="g"?true:false;(0,useChange/* default */.Z)(dataSet);var indexes=dataSet.units.map((u,index)=>(u||"/")===unit?index:undefined).filter(index=>index!==undefined);var colors=indexes.map(i=>dataSet.colors[i]);var times=data.map(ex=>ex.timestamp);var maxt=Math.max.apply(null,times);var mint=Math.min.apply(null,times);var minv=unitConverter(unit=="/"?0:Math.min.apply(null,indexes.map(i=>dataSet.mins[i])));var maxv=unitConverter(unit=="/"?1:Math.max.apply(null,indexes.map(i=>dataSet.maxs[i])));var opposite=unit!="/"&&Math.sign(minv)!=Math.sign(maxv);if(isNaN(minv)&&isNaN(maxv)){minv=0;maxv=1;}if(symmetric){maxv=Math.max(Math.abs(minv),Math.abs(maxv));minv=-maxv;}var step=undefined;var precision=step===undefined?1:step<1?Math.ceil(-Math.log10(step)):0;minv=(0,utils/* roundWithPrecision */.JI)(minv,precision,Math.floor);maxv=(0,utils/* roundWithPrecision */.JI)(maxv,precision,Math.ceil);var rv=maxv-minv;var margin=2;var h=maxv-minv||10;var w=maxt-mint||10;var strokeWidth=0.25;var axisWidth=0.2;var axisColor="#ccc";var pointRadius=strokeWidth*1.5;var toffset=-pointRadius*3;var fontSize="0.3rem";var x=t=>{return(t-mint)/w*vpw;};var y=v=>{if(v===undefined||isNaN(v))v=minv;// adding random for lineragradient bug workaround
// which does not render perfectly
// horizontal lines
return(Math.random()*0.0001*rv-(unitConverter(v)-minv))/h*(vph-2*margin);};var lastRow=data[data.length-1];return/*#__PURE__*/react.createElement(react.Fragment,null,useGradient&&/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("linearGradient",{key:"gradaxis",id:"gradientaxis",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},/*#__PURE__*/react.createElement("stop",{offset:"0%",stopOpacity:"0",stopColor:axisColor}),/*#__PURE__*/react.createElement("stop",{offset:"5%",stopOpacity:"0",stopColor:axisColor}),/*#__PURE__*/react.createElement("stop",{offset:"40%",stopOpacity:"1",stopColor:axisColor}),/*#__PURE__*/react.createElement("stop",{offset:"100%",stopOpacity:"1",stopColor:axisColor})),indexes.map((index,i)=>/*#__PURE__*/react.createElement("linearGradient",{key:"grad"+i,id:"gradient"+index,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},/*#__PURE__*/react.createElement("stop",{offset:"0%",stopOpacity:"0",stopColor:colors[i]}),/*#__PURE__*/react.createElement("stop",{offset:"5%",stopOpacity:"0",stopColor:colors[i]}),/*#__PURE__*/react.createElement("stop",{offset:"40%",stopOpacity:"1",stopColor:colors[i]}),/*#__PURE__*/react.createElement("stop",{offset:"100%",stopOpacity:"1",stopColor:colors[i]})))),/*#__PURE__*/react.createElement("g",{transform:"translate("+toffset+", "+(vph-margin)+")"},yAxis&&/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("text",{x:margin,y:-vph+margin+margin/2,dominantBaseline:"hanging",fontSize:fontSize,fill:textPrimary},maxv,unitName),/*#__PURE__*/react.createElement("text",{x:margin,y:margin-margin/2,fontSize:fontSize,fill:textPrimary},minv,unitName)),opposite&&/*#__PURE__*/react.createElement("line",{x1:x(mint),x2:x(maxt),y1:y(0),y2:y(0),strokeWidth:axisWidth,stroke:useGradient?"url(#gradientaxis)":axisColor}),indexes.map((index,i)=>{var color=colors[i];var path=shape=="step"?data.map((row,ri)=>ri==0?"M "+x(row.timestamp)+" "+y(row.data[index]):"H "+x(row.timestamp)+" V "+y(row.data[index])).join(" "):data.map((row,ri)=>(ri==0?"M":"L")+" "+x(row.timestamp)+" "+y(row.data[index])).join(" ");return/*#__PURE__*/react.createElement("g",{key:"line"+index},/*#__PURE__*/react.createElement("path",{d:path,fill:"none",stroke:useGradient?"url(#gradient"+index+")":color,strokeWidth:strokeWidth,strokeLinejoin:"round"}),dot&&/*#__PURE__*/react.createElement("circle",{cx:x(lastRow.timestamp),cy:y(lastRow.data[index]),r:pointRadius,fill:color}));})));}function UnitTrend(props){var{dataSet,horizon,width,height,mini,gradient,yAxis}=props;var rows=(0,useChange/* default */.Z)(dataSet,_=>_===null||_===void 0?void 0:_.rows);var vpw=width||80;var vph=height||15;var data=rows.slice(-horizon);var useGradient=gradient||data.length<rows.length;return/*#__PURE__*/react.createElement(Paper/* default */.Z,{className:classes.graph,variant:"outlined",elevation:0,square:true},/*#__PURE__*/react.createElement("svg",{viewBox:"0 0 "+vpw+" "+vph,style:{maxHeight:mini?"5vh":"10vh",maxWidth:"100%"}},data.length>1&&/*#__PURE__*/react.createElement(UnitTrendChart,Object.assign({data:data,useGradient:useGradient,vpw:vpw,vph:vph,dot:true,yAxis:yAxis},props))));}function Trend(props){var{dataSet,mini,yAxis}=props;var units=(0,useChange/* default */.Z)(dataSet,_=>(0,utils/* unique */.Tw)(_===null||_===void 0?void 0:_.units.filter(u=>!!u)));return/*#__PURE__*/react.createElement(Root,{className:mini?classes.mini:undefined},units.map(unit=>/*#__PURE__*/react.createElement(UnitTrend,Object.assign({key:"graph"+unit,mini:mini,yAxis:yAxis,unit:unit},props))));}
// EXTERNAL MODULE: ./src/components/ui/DarkModeContext.tsx
var DarkModeContext = __webpack_require__(50553);
;// CONCATENATED MODULE: ./src/components/useChartPalette.ts
function useChartPalette(){var{darkMode}=(0,react.useContext)(DarkModeContext/* default */.ZP);var palette=(0,react.useMemo)(()=>{if(darkMode=="light")return["#003f5c","#ffa600","#665191","#a05195","#ff7c43","#d45087","#f95d6a","#2f4b7c"];else return["#60ccfe","#ffdd9e","#c3b9d8","#dcbbd7","#fecdb7","#eebcd1","#fcc1c6","#a1b6db"];},[darkMode]);return palette;}
// EXTERNAL MODULE: ./src/components/hooks/useInterval.ts
var useInterval = __webpack_require__(52302);
;// CONCATENATED MODULE: ./src/components/RegisterTrend.tsx
var DEFAULT_HORIZON=255;var DEFAULT_HEIGHT=12;function RegisterTrend(props){var{register,mini,horizon=DEFAULT_HORIZON,height,interval}=props;var{bus}=(0,react.useContext)(Context/* default */.Z);var palette=useChartPalette();var dataSet=(0,react.useMemo)(()=>FielddataSet.create(bus,[register],"output",palette,horizon*1.2),[register,palette]);var addRow=(0,react.useCallback)(()=>dataSet.addRow(),[dataSet]);// register on change if no intervals
(0,react.useEffect)(()=>interval?undefined:register===null||register===void 0?void 0:register.subscribe(constants/* REPORT_RECEIVE */.Gb8,addRow),[interval,register,addRow]);(0,useInterval/* default */.Z)(!!interval,addRow,interval);return/*#__PURE__*/react.createElement(Trend,{dataSet:dataSet,horizon:horizon,gradient:true,height:height||DEFAULT_HEIGHT,mini:mini,yAxis:true});}
// EXTERNAL MODULE: ./src/components/ui/IconButtonWithProgress.tsx + 1 modules
var IconButtonWithProgress = __webpack_require__(14955);
// EXTERNAL MODULE: ./src/components/hooks/useServiceServer.ts
var useServiceServer = __webpack_require__(75938);
;// CONCATENATED MODULE: ./src/components/hooks/useRegisterServer.ts
function useRegisterServer(register){var server=(0,useServiceServer/* default */.Z)(register===null||register===void 0?void 0:register.service);return server===null||server===void 0?void 0:server.register(register===null||register===void 0?void 0:register.code);}
// EXTERNAL MODULE: ./src/jacdac/useRegisterValue.ts
var useRegisterValue = __webpack_require__(9680);
// EXTERNAL MODULE: ./src/components/hooks/useRegister.ts
var useRegister = __webpack_require__(22878);
;// CONCATENATED MODULE: ./src/components/hooks/useReadingAuxilliaryValue.ts
function useReadingAuxilliaryValue(register,identifier,options){if(identifier===void 0){identifier=constants/* SystemReg.ReadingError */.ZJq.ReadingError|constants/* SystemReg.ReadingResolution */.ZJq.ReadingResolution|constants/* SystemReg.MaxReading */.ZJq.MaxReading|constants/* SystemReg.MinReading */.ZJq.MinReading|constants/* SystemReg.MinValue */.ZJq.MinValue|constants/* SystemReg.MaxValue */.ZJq.MaxValue|constants/* SystemReg.StreamingInterval */.ZJq.StreamingInterval|constants/* SystemReg.StreamingPreferredInterval */.ZJq.StreamingPreferredInterval;}var{service,code}=register||{};var{visible}=options||{visible:true};var reading=code===constants/* SystemReg.Reading */.ZJq.Reading||code===constants/* SystemReg.Value */.ZJq.Value;var auxilliaryRegister=(0,useRegister/* default */.Z)(reading?service:undefined,identifier);return (0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(auxilliaryRegister,{visible});}
// EXTERNAL MODULE: ./src/components/hooks/useSnackbar.ts
var useSnackbar = __webpack_require__(37862);
;// CONCATENATED MODULE: ./src/components/RegisterInput.tsx
// tslint:disable-next-line: no-submodule-imports
function RegisterInput(props){var{register,showRegisterName,showDeviceName,showServiceName,hideMissingValues,showTrend,showDataType,variant,off,toggleOff,visible,controlled}=props;var{service,specification}=register;var{device}=service;var{fields,code}=register;var{setError:setAppError}=(0,useSnackbar/* default */.Z)();var{0:working,1:setWorking}=(0,react.useState)(false);// eslint-disable-next-line @typescript-eslint/no-explicit-any
var{0:args,1:setArgs}=(0,react.useState)(register.unpackedValue||[]);var server=useRegisterServer(register);var hasSet=specification.kind==="rw"||server&&specification.kind!=="const";var hasData=(0,useChange/* default */.Z)(register,_=>!!_.data);var color=hasSet?"secondary":"primary";var regProps=visible!==undefined?{visible}:undefined;var isReading=code===constants/* SystemReg.Reading */.ZJq.Reading;var isValue=!isReading&&code===constants/* SystemReg.Value */.ZJq.Value;var min=useReadingAuxilliaryValue(register,isReading?constants/* SystemReg.MinReading */.ZJq.MinReading:isValue?constants/* SystemReg.MinValue */.ZJq.MinValue:undefined,regProps);var max=useReadingAuxilliaryValue(register,isReading?constants/* SystemReg.MaxReading */.ZJq.MaxReading:isValue?constants/* SystemReg.MaxValue */.ZJq.MaxValue:undefined,regProps);var readingError=useReadingAuxilliaryValue(register,constants/* SystemReg.ReadingError */.ZJq.ReadingError,regProps);var resolution=useReadingAuxilliaryValue(register,constants/* SystemReg.ReadingResolution */.ZJq.ReadingResolution,regProps);(0,react.useEffect)(()=>{var vs=register.unpackedValue;if(vs!==undefined)setArgs(vs);return visible?register.subscribe(constants/* REPORT_UPDATE */.rGZ,()=>{var vs=register.unpackedValue;if(vs!==undefined)setArgs(vs);}):undefined;},[register,visible]);var handleRefresh=()=>{register.refresh(true);};// eslint-disable-next-line @typescript-eslint/no-explicit-any
var sendArgs=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(values){if(working)return;try{setWorking(true);if(server)server.setValues(values);// don't send set commands to rw registers
if(!(0,spec/* isReadOnlyRegister */._F)(register.specification))yield register.sendSetPackedAsync(values,true);// force refresh in any case
register.scheduleRefresh();}catch(e){setAppError(e);}finally{setWorking(false);}});return function sendArgs(_x){return _ref.apply(this,arguments);};}();if(!specification)return/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:"error"},"Unknown member "+register.service+":"+register.code);if(!fields.length)return null;// nothing to see here
if(hideMissingValues&&!hasData)return null;var serviceName=register.service.name.toLocaleLowerCase().replace(/_/g," ");var registerName=(0,jdspec/* humanify */.lW)(specification.name);return/*#__PURE__*/react.createElement(react.Fragment,null,showDeviceName&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{component:"span",key:"devicenamename"},/*#__PURE__*/react.createElement(DeviceName/* default */.Z,{device:device}),"/"),showServiceName&&specification&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption",key:"servicename","aria-label":serviceName},serviceName),showRegisterName&&specification&&serviceName!==registerName&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption",key:"registername","aria-label":registerName}," "+registerName),!hasData&&/*#__PURE__*/react.createElement(Box/* default */.Z,null,/*#__PURE__*/react.createElement(IconButtonWithProgress/* default */.Z,{title:"refresh "+registerName,indeterminate:true,onClick:handleRefresh})),showTrend&&hasData&&/*#__PURE__*/react.createElement(RegisterTrend,{register:register,mini:false,horizon:24}),hasData&&/*#__PURE__*/react.createElement(MembersInput,{color:color,serviceSpecification:service.specification,serviceMemberSpecification:specification,specifications:fields.map(f=>f.specification),values:args,setValues:hasSet&&sendArgs,showDataType:showDataType,variant:variant,min:min,max:max,resolution:resolution,error:readingError,off:off,toggleOff:toggleOff,controlled:controlled}));}

/***/ }),

/***/ 98815:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ StartMissingSimulatorsButton; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15861);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _mui_icons_material_Devices__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(83619);
/* harmony import */ var _services_useRoleManagerClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23239);
/* harmony import */ var _jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63339);
/* harmony import */ var _CmdButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10662);
/* harmony import */ var _jacdac_ts_src_jdom_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(46196);
/* harmony import */ var _translations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(27761);
function StartMissingSimulatorsButton(props){var{trackName,children,disabledChildren,variant="outlined",hideOnDisabled}=props;var roleManagerClient=(0,_services_useRoleManagerClient__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)();var allRolesBound=(0,_jacdac_useChange__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(roleManagerClient,_=>_===null||_===void 0?void 0:_.allRolesBound());var handleStartSimulators=/*#__PURE__*/function(){var _ref=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(function*(){roleManagerClient===null||roleManagerClient===void 0?void 0:roleManagerClient.startSimulators();yield (0,_jacdac_ts_src_jdom_utils__WEBPACK_IMPORTED_MODULE_4__/* .delay */ .gw)(1000);});return function handleStartSimulators(){return _ref.apply(this,arguments);};}();var disabled=!roleManagerClient||allRolesBound;if(disabled&&hideOnDisabled)return null;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z,{size:"small",title:(0,_translations__WEBPACK_IMPORTED_MODULE_5__.tL)(disabled?"simDisabled":"simEnabled"),variant:variant,trackName:trackName,onClick:handleStartSimulators,disabled:disabled,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Devices__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z,null)},disabled&&disabledChildren!==undefined?disabledChildren:children);}

/***/ }),

/***/ 58503:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ Dashboard; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(63366);
// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(15725);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/utils.ts
var utils = __webpack_require__(46196);
// EXTERNAL MODULE: ./src/components/hooks/useDevices.ts
var useDevices = __webpack_require__(18891);
// EXTERNAL MODULE: ./src/components/ui/IconButtonWithTooltip.tsx + 1 modules
var IconButtonWithTooltip = __webpack_require__(48147);
// EXTERNAL MODULE: ./src/components/ui/GridHeader.tsx
var GridHeader = __webpack_require__(99834);
// EXTERNAL MODULE: ./node_modules/@mui/material/Paper/Paper.js + 2 modules
var Paper = __webpack_require__(64680);
// EXTERNAL MODULE: ./node_modules/@mui/material/Card/Card.js + 1 modules
var Card = __webpack_require__(65295);
// EXTERNAL MODULE: ./node_modules/@mui/material/CardContent/CardContent.js + 1 modules
var CardContent = __webpack_require__(42643);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/constants.ts
var constants = __webpack_require__(3964);
// EXTERNAL MODULE: ./src/jacdac/useChange.ts
var useChange = __webpack_require__(63339);
// EXTERNAL MODULE: ./node_modules/@mui/material/CircularProgress/CircularProgress.js + 1 modules
var CircularProgress = __webpack_require__(59062);
// EXTERNAL MODULE: ./src/jacdac/useDeviceProductIdentifier.ts
var useDeviceProductIdentifier = __webpack_require__(31246);
// EXTERNAL MODULE: ./jacdac-ts/src/jacdac.ts
var jacdac = __webpack_require__(21149);
// EXTERNAL MODULE: ./src/components/hooks/useServiceServer.ts
var useServiceServer = __webpack_require__(75938);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(15861);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/spec.ts + 1 modules
var spec = __webpack_require__(62070);
// EXTERNAL MODULE: ./src/components/RegisterInput.tsx + 12 modules
var RegisterInput = __webpack_require__(51055);
// EXTERNAL MODULE: ./src/jacdac/useRegisterValue.ts
var useRegisterValue = __webpack_require__(9680);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardServiceDefaultWidget.tsx
var _excluded=["valueRegister","intensityRegister","controlled"],_excluded2=["intensityRegister","controlled"],_excluded3=["register","controlled"];var collapsedRegisters=[constants/* SystemReg.Reading */.ZJq.Reading,constants/* SystemReg.Value */.ZJq.Value,constants/* SystemReg.Intensity */.ZJq.Intensity];function ValueWidget(props){var _intensityRegister$sp,_intensityRegister$sp2;var{valueRegister,intensityRegister,controlled}=props,others=(0,objectWithoutPropertiesLoose/* default */.Z)(props,_excluded);var{visible}=others;var hasIntensityBool=(intensityRegister===null||intensityRegister===void 0?void 0:(_intensityRegister$sp=intensityRegister.specification)===null||_intensityRegister$sp===void 0?void 0:(_intensityRegister$sp2=_intensityRegister$sp.fields[0])===null||_intensityRegister$sp2===void 0?void 0:_intensityRegister$sp2.type)==="bool";var intensity=(0,useRegisterValue/* useRegisterBoolValue */.I8)(hasIntensityBool&&intensityRegister,others);var off=hasIntensityBool?!intensity:undefined;var toggleOff=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(){yield intensityRegister.sendSetBoolAsync(off,true);});return function toggleOff(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/react.createElement(RegisterInput/* default */.Z,{register:valueRegister,variant:"widget",showServiceName:false,showRegisterName:false,hideMissingValues:true,off:off,toggleOff:hasIntensityBool?toggleOff:undefined,visible:visible,controlled:controlled});}function IntensityWidget(props){var _intensityRegister$sp3,_intensityRegister$sp4;var{intensityRegister,controlled}=props,others=(0,objectWithoutPropertiesLoose/* default */.Z)(props,_excluded2);var{visible}=others;var hasIntensityBool=(intensityRegister===null||intensityRegister===void 0?void 0:(_intensityRegister$sp3=intensityRegister.specification)===null||_intensityRegister$sp3===void 0?void 0:(_intensityRegister$sp4=_intensityRegister$sp3.fields[0])===null||_intensityRegister$sp4===void 0?void 0:_intensityRegister$sp4.type)==="bool";var[intensity]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(intensityRegister,others);var off=hasIntensityBool?!intensity:undefined;return/*#__PURE__*/react.createElement(RegisterInput/* default */.Z,{register:intensityRegister,variant:"widget",showServiceName:false,showRegisterName:false,hideMissingValues:true,off:off,visible:visible,controlled:controlled});}function DefaultRegisterWidget(props){var{register,controlled}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,_excluded3);if(register.specification.identifier==constants/* SystemReg.Value */.ZJq.Value){var intensityRegister=props.service.register(constants/* SystemReg.Intensity */.ZJq.Intensity);return/*#__PURE__*/react.createElement(ValueWidget,Object.assign({valueRegister:register,intensityRegister:intensityRegister,controlled:controlled},rest));}else if(register.specification.identifier===constants/* SystemReg.Intensity */.ZJq.Intensity)return/*#__PURE__*/react.createElement(IntensityWidget,Object.assign({intensityRegister:register,controlled:controlled},rest));else return/*#__PURE__*/react.createElement(RegisterInput/* default */.Z,{register:register,variant:"widget",showServiceName:false,showRegisterName:false,hideMissingValues:true,visible:props.visible,controlled:controlled});}function DashboardServiceDefaultWidget(props){var{service}=props;var{specification}=service;var registers=(0,react.useMemo)(()=>specification===null||specification===void 0?void 0:specification.packets.filter(pkt=>(0,spec/* isRegister */.x5)(pkt)&&collapsedRegisters.indexOf(pkt.identifier)>-1)// if value, skip bool intensity
.filter((pkt,i,pkts)=>!(pkt.identifier===constants/* SystemReg.Intensity */.ZJq.Intensity&&pkt.fields.length==1&&pkt.fields[0].type==="bool")||!pkts.some(pk=>pk.identifier===constants/* SystemReg.Value */.ZJq.Value))// map
.map(rspec=>service.register(rspec.identifier)),[service]);if(!(registers!==null&&registers!==void 0&&registers.length))// nothing to see here
return null;return/*#__PURE__*/react.createElement(react.Fragment,null,registers.map(register=>/*#__PURE__*/react.createElement(DefaultRegisterWidget,Object.assign({key:register.id,register:register},props))));}
// EXTERNAL MODULE: ./src/components/hooks/useRegister.ts
var useRegister = __webpack_require__(22878);
// EXTERNAL MODULE: ./src/components/ui/Suspense.tsx + 2 modules
var Suspense = __webpack_require__(19811);
// EXTERNAL MODULE: ./src/components/hooks/useThrottledValue.ts
var useThrottledValue = __webpack_require__(22907);
// EXTERNAL MODULE: ./node_modules/@mui/material/Box/Box.js + 1 modules
var Box = __webpack_require__(71508);
// EXTERNAL MODULE: ./node_modules/@mui/material/Slider/Slider.js + 4 modules
var Slider = __webpack_require__(92486);
// EXTERNAL MODULE: ./node_modules/@mui/material/FormControlLabel/FormControlLabel.js + 1 modules
var FormControlLabel = __webpack_require__(50542);
// EXTERNAL MODULE: ./node_modules/@mui/material/Switch/Switch.js + 1 modules
var Switch = __webpack_require__(89149);
// EXTERNAL MODULE: ./src/components/widgets/SvgWidget.tsx
var SvgWidget = __webpack_require__(98816);
// EXTERNAL MODULE: ./src/components/widgets/useWidgetTheme.ts
var useWidgetTheme = __webpack_require__(2874);
// EXTERNAL MODULE: ./src/components/hooks/useFireKey.ts
var useFireKey = __webpack_require__(38846);
;// CONCATENATED MODULE: ./src/components/widgets/FwdLEDWidget.tsx
var MIN_VISIBLE_OPACITY=0.5;function rgbToHsl(r,g,b){var[r$,g$,b$]=[r/255,g/255,b/255];var cMin=Math.min(r$,g$,b$);var cMax=Math.max(r$,g$,b$);var cDelta=cMax-cMin;var h;var s;var l;var maxAndMin=cMax+cMin;//lum
l=maxAndMin/2*100;if(cDelta===0)s=h=0;else{//hue
if(cMax===r$)h=60*((g$-b$)/cDelta%6);else if(cMax===g$)h=60*((b$-r$)/cDelta+2);else if(cMax===b$)h=60*((r$-g$)/cDelta+4);//sat
if(l>50)s=100*(cDelta/(2-maxAndMin));else s=100*(cDelta/maxAndMin);}// at least 30% luminosity
l=Math.max(l,40);return[Math.floor(h),Math.floor(s),Math.floor(l)];}function setRgba(el,r,g,b,a,radius){var hsl=rgbToHsl(r,g,b);var[h,s,l]=hsl;var fill="hsla("+h+", "+s+"%, "+l+"%, "+a+")";el.setAttribute("fill",fill);if(radius!==undefined){var nr=radius*(1+(l-60)/200);el.setAttribute("r",""+nr);}}function setRgbaLeds(pixelsContainer,colors,alpha,radius){var pixels=pixelsContainer===null||pixelsContainer===void 0?void 0:pixelsContainer.children;if(!colors||!pixels)return;var pn=Math.min(pixels.length,colors.length/3);var ci=0;for(var i=0;i<pn;++i){var pixel=pixels.item(i);setRgba(pixel,colors[ci],colors[ci+1],colors[ci+2],alpha,radius);ci+=3;}}function brightnessToOpacity(actualBrightness){// tune opacity to account for global opacity
var alpha=MIN_VISIBLE_OPACITY;var opacity=actualBrightness<=0?0:alpha+(1-alpha)*(actualBrightness||0);return opacity;}function FwdLEDWidget(props){var{lightVariant,numPixels,actualBrightness,subscribeColors,widgetSize,onLedClick,colors}=props;var{background,controlBackground}=(0,useWidgetTheme/* default */.Z)();var pathRef=(0,react.useRef)(undefined);var pixelsRef=(0,react.useRef)(undefined);var neoradius=6;var neocircleradius=neoradius+1;var isJewel=lightVariant===constants/* LedStripVariant.Jewel */.t1x.Jewel;var isRing=lightVariant===constants/* LedStripVariant.Ring */.t1x.Ring;var opacity=brightnessToOpacity(actualBrightness);// paint svg via dom
var paint=(0,react.useCallback)(()=>{setRgbaLeds(pixelsRef.current,colors(),opacity,neocircleradius);},[colors,opacity,neocircleradius]);// reposition pixels along the path
(0,react.useEffect)(()=>{var _pixelsRef$current;var p=pathRef.current;var pixelGroup=Object.values((_pixelsRef$current=pixelsRef.current)===null||_pixelsRef$current===void 0?void 0:_pixelsRef$current.children).map(g=>g.children);var pixels=pixelGroup.map(g=>g[1]);var pixelBoxes=pixelGroup.map(g=>g[0]);if(!p||!pixels)return;var offset=isJewel?1:0;var pn=pixels.length;var length=p.getTotalLength();var extra=isRing||isJewel?0:1;var step=length/(pn-offset);var MAGIC_NUMBER=length*(1/16+0.25);for(var i=offset;i<pn;++i){var pixel=pixels[i];var box=pixelBoxes[i];var boxSize=1.3*pixel.r.baseVal.value;var rotation=360*(i/pn+9/16);var pos=i-offset;var point=p.getPointAtLength((MAGIC_NUMBER+step*(pos+extra/2.0))%length);pixel.setAttribute("cx",""+point.x);pixel.setAttribute("cy",""+point.y);box.setAttribute("x",""+(point.x-boxSize));box.setAttribute("y",""+(point.y-boxSize));box.setAttribute("width",""+2*boxSize);box.setAttribute("height",""+2*boxSize);box.setAttribute("transform","rotate("+rotation+", "+point.x+", "+point.y+")");}paint();},[lightVariant,numPixels,paint,pathRef.current,pixelsRef.current]);// render when new colors are in
(0,react.useEffect)(()=>subscribeColors===null||subscribeColors===void 0?void 0:subscribeColors(paint),[paint,subscribeColors]);var d="";var n=numPixels-(isJewel?1:0);var neoperimeter=n*(2.7*neoradius);var margin=1.8*neoradius;var ringradius=2.2*neoperimeter/(2*Math.PI);var width=2*(margin+ringradius);var height=width;var hm=height-2*margin;d="M "+(width>>1)+","+margin+" a "+ringradius+","+ringradius+" 0 0,1 0,"+hm+" a "+ringradius+","+ringradius+" 0 0,1 0, -"+hm;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:width,height:height,size:widgetSize},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},/*#__PURE__*/react.createElement("g",{transform:"scale("+width/(1+117+2*15.5-2*9.5+2*3.25+2*(8-3.25))+")"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("g",{id:"jacdac-connector"},/*#__PURE__*/react.createElement("path",{fill:"#AAA",d:"M22.369 14.045H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 12c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.656.173h18.332c.9 0 1.631.712 1.631 1.59v.91c0 .878-.73 1.59-1.631 1.59zM4.124 12c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 12c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077zM4.187 18c0-.404-.167-.791-.464-1.077a1.618 1.618 0 0 0-1.121-.446c-.42 0-.824.16-1.12.446A1.493 1.493 0 0 0 1.016 18c0 .404.167.791.464 1.077.297.285.7.446 1.121.446.42 0 .823-.16 1.12-.446.298-.286.465-.673.465-1.077zm16.157 2.045H4.098a2.692 2.692 0 0 1-2.695.173C.54 19.788 0 18.933 0 18s.54-1.788 1.403-2.218a2.692 2.692 0 0 1 2.695.173h16.246c.915 0 1.656.712 1.656 1.59v.91c0 .878-.741 1.59-1.656 1.59zM24 6.455c0 .878-.73 1.59-1.631 1.59H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 6c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.65.168l.006.005h18.332c.9 0 1.631.712 1.631 1.59ZM4.124 6c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 6c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077z"}))),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("path",{id:"outline",fill:"white",stroke:"black",strokeWidth:"1",d:" M 0.5, 0.5 m 5.25, 8 a 8,8 0 0 1 8,-8 h 117 a 8,8 0 0 1 8,8 v 32 a 4.25,4.25 0 0 1 -4.25,4.25 h -9.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 15.5 a 3.5,3.5 0 0 1 3.5,3.5 v 19 a 3.5,3.5 0 0 1 -3.5,3.5 h -15.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 9.5 a 4.25,4.25 0 0 1 4.25,4.25 v 32 a 8,8 0 0 1 -8,8 h -117 a 8,8 0 0 1 -8,-8 v -32 a 4.25,4.25 0 0 1 4.25,-4.25 h 9.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -15.5 a 3.5,3.5 0 0 1 -3.5,-3.5 v -19 a 3.5,3.5 0 0 1 3.5,-3.5 h 15.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -9.5 a 4.25,4.25 0 0 1 -4.25,-4.25 v -16.5 a 4.25,4.25 0 0 0 0,-8.5 z "})),/*#__PURE__*/react.createElement("g",{transform:"translate(125,12)"},/*#__PURE__*/react.createElement("circle",{fill:"black",r:"1.75"}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:"1.5",fill:"none",d:" m -2.5 -3 a 4 4 0 0 0 0 6 M -4 -4.5 a 6.25 6.25 0 0 0 0 9 M 2.5 -3 a 4 4 0 0 1 0 6 M 4 -4.5 a 6.25 6.25 0 0 1 0 9 "})),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(120 60) scale(0.8)"}),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(24 60) translate(0 11) rotate(180) scale(0.8) translate(0 -11) "}),/*#__PURE__*/react.createElement("text",{x:16,y:15,fontSize:10},"LED")),/*#__PURE__*/react.createElement("path",{ref:pathRef,d:d,fill:"transparent"}),/*#__PURE__*/react.createElement("g",{ref:pixelsRef,transform:"translate("+width/2+" "+height/2+") scale(0.65) translate("+-width/2+" "+-height/2+")"},Array(numPixels).fill(0).map((_,i)=>{var handleClick=onLedClick?()=>onLedClick(i):undefined;var fireClick=(0,useFireKey/* default */.Z)(handleClick);return/*#__PURE__*/react.createElement("g",{className:(fireClick?"clickeable":"")+" pixel",key:"pixel"+i,onPointerDown:handleClick,onKeyDown:fireClick},/*#__PURE__*/react.createElement("rect",{x:(width>>1)-(neocircleradius>>1),y:(height>>1)-(neocircleradius>>1),rx:2,fill:"#fffde0",stroke:"#5b5b5b",strokeWidth:1}),/*#__PURE__*/react.createElement("circle",{r:neocircleradius,cx:width>>1,cy:height>>1,stroke:controlBackground,strokeWidth:1+(i==0?0.5:0),"aria-label":"pixel "+i},/*#__PURE__*/react.createElement("title",null,"pixel ",i)));}))));}
// EXTERNAL MODULE: ./src/components/hooks/useAnimationFrame.ts
var useAnimationFrame = __webpack_require__(68455);
;// CONCATENATED MODULE: ./src/components/widgets/FwdPumpWidget.tsx
function FwdPumpWidget(props){var{size,active}=props;var svgDiameter=110;var impellerRef=(0,react.useRef)();var impellerRotationRef=(0,react.useRef)(0);var impellerRotationRate=190;(0,useAnimationFrame/* default */.Z)(active?timeDelta=>{var impeller=impellerRef.current;impellerRotationRef.current=(impellerRotationRef.current+impellerRotationRate/timeDelta)%360;impeller.setAttribute("transform","rotate("+impellerRotationRef.current+")");return true;}:undefined,[active]);return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{size:size,width:1,viewBox:svgDiameter/-2+" "+svgDiameter/-2+" "+svgDiameter+" "+svgDiameter},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("g",{id:"fwd-pump-strut"},/*#__PURE__*/react.createElement("rect",{x:-2,y:7,width:4,height:4}))),/*#__PURE__*/react.createElement("g",{ref:impellerRef},/*#__PURE__*/react.createElement("circle",{r:6,fill:"transparent",stroke:"black",strokeWidth:3}),/*#__PURE__*/react.createElement("circle",{r:12,fill:"transparent",stroke:"black",strokeWidth:5}),/*#__PURE__*/react.createElement("use",{href:"#fwd-pump-strut",x:0,y:0,transform:"rotate(10)"}),/*#__PURE__*/react.createElement("use",{href:"#fwd-pump-strut",x:0,y:0,transform:"rotate(-110)"}),/*#__PURE__*/react.createElement("use",{href:"#fwd-pump-strut",x:0,y:0,transform:"rotate(130)"}),/*#__PURE__*/react.createElement("circle",{r:10,fill:"transparent",stroke:"white",strokeWidth:0.5}),/*#__PURE__*/react.createElement("path",{id:"fwd-pump-prop",fill:"black",stroke:"#a2a2a2",strokeWidth:0.5,d:" M 14,-1 q 0,2 3,2 t 12,-0.5 t 14,3.6 t -1,11 t -16,9.5 t -18,-4 Q 4,16 3.5,13.5 z "}),/*#__PURE__*/react.createElement("use",{href:"#fwd-pump-prop",x:"0",y:"0",transform:"rotate(90)"}),/*#__PURE__*/react.createElement("use",{href:"#fwd-pump-prop",x:"0",y:"0",transform:"rotate(180)"}),/*#__PURE__*/react.createElement("use",{href:"#fwd-pump-prop",x:"0",y:"0",transform:"rotate(270)"}),/*#__PURE__*/react.createElement("circle",{r:14,fill:"transparent",stroke:"white",strokeWidth:1})),/*#__PURE__*/react.createElement("circle",{r:45,stroke:"#a2a2a2",strokeOpacity:"60%",strokeWidth:12,fill:"transparent"}));}
// EXTERNAL MODULE: ./src/components/widgets/PowerButton.tsx
var PowerButton = __webpack_require__(15073);
// EXTERNAL MODULE: ./src/components/widgets/svgutils.ts
var svgutils = __webpack_require__(65885);
;// CONCATENATED MODULE: ./src/components/widgets/FwdServoWidget.tsx
function FwdServoWidget(props){var{widgetSize,toggleOff,angle,offset,color,enabled,rotationRate,visible}=props;var{background,active,textProps}=(0,useWidgetTheme/* default */.Z)(color);var continuous=rotationRate!==undefined;var offsetRef=(0,react.useRef)(0);var armRef=(0,react.useRef)();var textRef=(0,react.useRef)();var cx=78;var cy=55;var a=enabled?angle+(offset||0):90;var transform="rotate("+(-a+90)+", "+cx+", "+cy+")";var h=111.406;var w=158.50195;var pr=14;var pri=6;var text=enabled?Math.round(a)+"\xB0":"off";(0,useAnimationFrame/* default */.Z)(continuous&&enabled&&visible&&rotationRate!==undefined?time=>{var arm=armRef.current;if(!arm)return;var text=textRef.current;var offset=offsetRef.current;offset=(offset+time/1000*rotationRate)%360;offsetRef.current=offset;var transform="rotate("+offset+", "+cx+", "+cy+")";arm.setAttribute("transform",transform);text.childNodes[0].nodeValue=Math.round(rotationRate/360*60)+" rpm";return true;}:undefined,[continuous,visible,enabled,rotationRate]);function generateGearPath(cx,cy,id,od,teeth){function*pathDiameter(){while(true){yield id/2;yield od/2;}}var drawDiameter=pathDiameter();var makePoint=(dia,offset)=>(0,svgutils/* polarToCartesian */.op)(cx,cy,dia,offset);var segmentOffset=180/(2*teeth);var dia=0;var updateDia=()=>{dia=drawDiameter.next().value;return true;};updateDia();var drawPoint=(dia,offset)=>{var{x,y}=makePoint(dia,offset);return x+","+y;};var gearPath="M "+drawPoint(dia,0);gearPath+="C "+drawPoint(dia,segmentOffset)+" "+(updateDia()&&drawPoint(dia,segmentOffset))+" "+drawPoint(dia,2*segmentOffset);for(var i=3;i<4*teeth;i+=2){updateDia();gearPath+="S "+drawPoint(dia,i*segmentOffset)+" "+drawPoint(dia,(i+1)*segmentOffset);}return gearPath;}var fwdGearPaths={small:generateGearPath(cx,cy,18,27,10),large:generateGearPath(cx,cy,66,80,30)};return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{title:"servo at angle "+angle,width:w,height:h,size:widgetSize},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},/*#__PURE__*/react.createElement("rect",{fill:continuous?"#333":"#666",x:0,y:10.687,width:158.62,height:89.75,rx:4,ry:4}),!continuous&&/*#__PURE__*/react.createElement("path",{transform:transform,fill:"white",d:fwdGearPaths.large}),!continuous&&/*#__PURE__*/react.createElement("g",{transform:"translate(-51 0)"},/*#__PURE__*/react.createElement("path",{transform:"rotate("+3*a+", "+cx+", "+cy+")",fill:"white",d:fwdGearPaths.small})),/*#__PURE__*/react.createElement("path",{fill:continuous?"#555":"#999",fillOpacity:continuous?"100%":"70%",d:"M123.8 55.641 c0-24.994-20.26-45.256-45.254-45.256-17.882.016-34.077 9.446-41.328 25.79-2.655.024-4.192.076-6.35.07-11.158 0-20.204 9.046-20.204 20.204 0 11.158 9.046 20.203 20.203 20.203 2.389-.005 4.354-.332 6.997-.256 7.56 15.59 23.356 24.485 40.682 24.5 24.992 0 45.254-20.264 45.254-45.256z"}),/*#__PURE__*/react.createElement("path",{ref:armRef,fill:enabled?"#deddd8":background,stroke:active,transform:transform,d:"M93.782 55.623c-.032-3.809-.19-6.403-.352-7.023h-.002c-.93-3.558-6.621-6.73-14.793-6.73-8.17 0-14.649 3.016-14.795 6.73-.25 6.419-4.049 62.795 13.561 62.806 14.308.008 16.52-39.277 16.38-55.783zm-8.05.08a7.178 7.178 0 010 .012 7.178 7.178 0 01-7.179 7.176 7.178 7.178 0 01-7.177-7.176 7.178 7.178 0 017.177-7.178 7.178 7.178 0 017.178 7.166z"}),/*#__PURE__*/react.createElement("text",Object.assign({ref:textRef},textProps,{x:w/2,y:30,textAnchor:"middle",fontSize:"1em",fontWeight:"bold",lengthAdjust:"0.3em",fill:"#fff",stroke:"#000",strokeWidth:"0.05em",shapeRendering:"crispEdges"}),text),toggleOff&&/*#__PURE__*/react.createElement(PowerButton/* default */.Z,{r:pr,ri:pri,cx:w-pr-4,cy:pr+14,color:color,strokeWidth:1.8,off:!enabled,onClick:toggleOff})));}
// EXTERNAL MODULE: ./src/components/dashboard/DashboardRegisterValueFallback.tsx
var DashboardRegisterValueFallback = __webpack_require__(47644);
// EXTERNAL MODULE: ./src/components/ui/SwitchWithLabel.tsx
var SwitchWithLabel = __webpack_require__(68320);
// EXTERNAL MODULE: ./src/components/widgets/ColorButtons.tsx
var ColorButtons = __webpack_require__(27362);
;// CONCATENATED MODULE: ./src/components/widgets/FwdLightsWidget.tsx
function FwdLightsWidget(props){var{percentBrightness,noReading}=props;var w=418.06001;var h=345.2565;var throttledPercentBrightness=(0,useThrottledValue/* default */.Z)(percentBrightness,120);// y range for blockerY is 81 to 265 for a difference of 184
var blockerY=81+184*throttledPercentBrightness/100;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("linearGradient",{id:"linear-gradient",x1:"209.03",y1:"273.94074",x2:"209.03",y2:"80.64402",gradientUnits:"userSpaceOnUse"},/*#__PURE__*/react.createElement("stop",{offset:"0",stopColor:"#fff"}),/*#__PURE__*/react.createElement("stop",{offset:"1",stopColor:"#aa3dce"}))),/*#__PURE__*/react.createElement("polygon",{points:"389.43003 273.94074 28.62997 273.94074 59.23836 80.64402 358.82164 80.64402 389.43003 273.94074",fill:"url(#linear-gradient)"}),/*#__PURE__*/react.createElement("rect",{y:blockerY,width:"418.06001",height:"189",fill:"#ffffff"}),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("rect",{x:"125.17074",y:"138.28437",width:"167.71853",height:"66.14374",rx:"12",ry:"12",fill:"#eaeaea"}),/*#__PURE__*/react.createElement("text",{x:"48",transform:"translate(162.94204 186.52623)",fontFamily:"Galano Grotesque Bold",fontSize:"42.9648px",fontWeight:"700",textAnchor:"middle"},noReading?"--":percentBrightness,"%"),/*#__PURE__*/react.createElement("text",{transform:"translate(225.0679 186.52623)",fontFamily:"Galano Grotesque Bold",fontSize:"42.9648px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"}))),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("rect",{x:"59.55134",y:"55.32425",width:"298.95733",height:"25.67732",rx:"4.5556",ry:"4.5556",fill:"none",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"3px"}),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"68.46754",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"68.46754",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"77.25269",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"77.25269",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"86.03785",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"86.03785",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"94.823",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"94.823",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"103.60815",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"103.60815",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"112.39331",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"112.39331",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"121.17846",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"121.17846",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"129.96362",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"129.96362",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"138.74877",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"138.74877",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"147.53393",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"147.53393",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"156.31908",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"156.31908",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"165.10423",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"165.10423",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"173.88939",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"173.88939",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"182.67454",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"182.67454",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"191.4597",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"191.4597",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"200.24485",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"200.24485",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"209.03",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"209.03",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"217.81516",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"217.81516",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"226.60031",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"226.60031",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"235.38547",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"235.38547",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"244.17062",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"244.17062",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"252.95578",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"252.95578",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"261.74093",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"261.74093",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"270.52608",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"270.52608",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"279.31124",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"279.31124",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"288.09639",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"288.09639",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"296.88155",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"296.88155",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"305.6667",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"305.6667",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"314.45185",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"314.45185",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"323.23701",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"323.23701",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"332.02216",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"332.02216",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"340.80732",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"340.80732",cy:"72.47672",r:"2.3687"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{cx:"349.59247",cy:"63.92905",r:"2.3687"}),/*#__PURE__*/react.createElement("circle",{cx:"349.59247",cy:"72.47672",r:"2.3687"})))));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardFwdUniqueComponents.tsx
function createLightsWidget(props){var{service}=props;var brightnessRegister=(0,useRegister/* default */.Z)(service,jacdac.LightBulbReg.Brightness);var[brightness]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(brightnessRegister,props);var percentBrightness=0;var noReading=false;if(isNaN(brightness)){noReading=true;}else{percentBrightness=Math.round(brightness/0.0038909912109375*100);percentBrightness=Math.min(100,Math.max(0,percentBrightness));}var handleBrightnessChange=(ev,newValue)=>{var rawBrightness=newValue/100*0.0038909912109375;brightnessRegister.sendSetPackedAsync([rawBrightness],true);};return/*#__PURE__*/react.createElement(Box/* default */.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"}},/*#__PURE__*/react.createElement(Box/* default */.Z,{sx:{width:"80%"}},/*#__PURE__*/react.createElement(FwdLightsWidget,{percentBrightness:percentBrightness,noReading:noReading}),/*#__PURE__*/react.createElement(Slider/* default */.ZP,{value:percentBrightness,onChange:handleBrightnessChange})));}function createPumpWidget(props){var{service}=props;var activeRegister=(0,useRegister/* default */.Z)(service,jacdac.RelayReg.Active);var active=(0,useRegisterValue/* useRegisterBoolValue */.I8)(activeRegister,props);var handleClose=(_,checked)=>activeRegister===null||activeRegister===void 0?void 0:activeRegister.sendSetBoolAsync(checked,true);if(active===undefined)return/*#__PURE__*/react.createElement(DashboardRegisterValueFallback/* default */.Z,{register:activeRegister});return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement(FwdPumpWidget,{active:active,size:"clamp(7em, 13vw, 14vh)"}),/*#__PURE__*/react.createElement(SwitchWithLabel/* default */.Z,{label:active?"Running":"Stopped",checked:active,onChange:handleClose}));}function createServoWidget(props){var{service,visible}=props;var enabledRegister=(0,useRegister/* default */.Z)(service,jacdac.ServoReg.Enabled);var enabled=(0,useRegisterValue/* useRegisterBoolValue */.I8)(enabledRegister,props);var angleRegister=(0,useRegister/* default */.Z)(service,jacdac.ServoReg.Angle);var[reportedAngle=90]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(angleRegister,{visible});// sec/60deg
var responseSpeedRegister=(0,useRegister/* default */.Z)(service,jacdac.ServoReg.ResponseSpeed);var[responseSpeed=jacdac.SG90_RESPONSE_SPEED]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(responseSpeedRegister,{visible});var rotationalSpeed=60/responseSpeed;var angle=(0,useThrottledValue/* default */.Z)(reportedAngle,rotationalSpeed);var offsetRegister=(0,useRegister/* default */.Z)(service,jacdac.ServoReg.Offset);var[offset]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(offsetRegister,props);var clientVariantRegister=(0,useRegister/* default */.Z)(service,jacdac.BaseReg.ClientVariant);var[clientVariant]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(clientVariantRegister,props);var minAngleRegister=(0,useRegister/* default */.Z)(service,jacdac.ServoReg.MinAngle);var[minAngle=0]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(minAngleRegister,props);var maxAngleRegister=(0,useRegister/* default */.Z)(service,jacdac.ServoReg.MaxAngle);var[maxAngle=270]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(maxAngleRegister,props);var{0:continuous,1:setContinuous}=(0,react.useState)(/cont=1/.test(clientVariant)||false);var throttle=(angle-minAngle)/(maxAngle-minAngle)*200-100;var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var toggleOff=()=>enabledRegister.sendSetBoolAsync(!enabled,true);var widgetSize="clamp(7rem, 16vw, 16vh)";var readOnly=false;var label=continuous?"Throttle (%)":"Angle";var angleFormat=a=>""+Math.round(a);var continuousFormat=throttle=>{return Math.round(throttle)+"%";};var handleContinuousChange=(ev,newValue)=>{var newAngle=(0.5+newValue/200)*(maxAngle-minAngle)+minAngle;angleRegister.sendSetPackedAsync([newAngle],true);};var handleAngleChange=(ev,newValue)=>angleRegister.sendSetPackedAsync([newValue],true);var handleVariantChange=event=>{var isContinuous=event.target.checked;if(clientVariant!==undefined){clientVariantRegister.sendSetStringAsync("cont="+(isContinuous?"1":"0"),true);}setContinuous(isContinuous);if(!isContinuous)handleAngleChange(undefined,(maxAngle-minAngle)/2+minAngle);};return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,alignContent:"center"},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(FormControlLabel/* default */.Z,{value:"servo-mode",control:/*#__PURE__*/react.createElement(Switch/* default */.Z,{checked:continuous,onChange:handleVariantChange}),label:continuous?"Continuous":"Positional",labelPlacement:"end"}),/*#__PURE__*/react.createElement(FwdServoWidget,{angle:angle,offset:offset,color:color,enabled:enabled,toggleOff:toggleOff,widgetSize:widgetSize,rotationRate:continuous?throttle*rotationalSpeed/100:undefined,visible:visible})),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},continuous?/*#__PURE__*/react.createElement(Slider/* default */.ZP,{"aria-label":label,color:color,value:throttle,valueLabelFormat:continuousFormat,onChange:readOnly?undefined:handleContinuousChange,min:-100,max:100,step:10,valueLabelDisplay:"auto"}):/*#__PURE__*/react.createElement(Slider/* default */.ZP,{"aria-label":label,color:color,value:angle,valueLabelFormat:angleFormat,onChange:readOnly?undefined:handleAngleChange,min:minAngle,max:maxAngle,step:5,valueLabelDisplay:"auto"})));}function createLEDWidget(props){var{service}=props;var pixelsRegister=(0,useRegister/* default */.Z)(service,jacdac.LedReg.Pixels);var hasData=(0,useChange/* default */.Z)(pixelsRegister,_=>!!(_!==null&&_!==void 0&&_.data));var{0:penColor,1:setPenColor}=(0,react.useState)(0x0000ff);var colorsRef=(0,react.useRef)(new Uint8Array(0));var clientRef=(0,react.useRef)(new jacdac.JDEventSource());var{0:ledControls,1:setLedControls}=(0,react.useState)(false);var handleColorChange=newColor=>setPenColor(current=>newColor===current?undefined:newColor);var handleLedClick=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(index){var pixels=colorsRef.current;if(index>=pixels.length*3)return;var newPixels=pixels.slice(0);var k=index*3;var r=penColor>>16&0xff;var g=penColor>>8&0xff;var b=penColor&0xff;if(newPixels[k]==r&&newPixels[k+1]==g&&newPixels[k+2]==b){r=0;g=0;b=0;}newPixels[k]=r;newPixels[k+1]=g;newPixels[k+2]=b;yield pixelsRegister.sendSetPackedAsync([newPixels],true);colorsRef.current=newPixels;clientRef.current.emit(jacdac.RENDER);});return function handleLedClick(_x){return _ref.apply(this,arguments);};}();(0,react.useEffect)(()=>{if(!pixelsRegister)return undefined;var updatePixels=()=>{var[pixels]=pixelsRegister.unpackedValue||[];if(pixels&&!(0,jacdac.bufferEq)(colorsRef.current,pixels)){colorsRef.current=pixels.slice(0);clientRef.current.emit(jacdac.RENDER);}};updatePixels();return pixelsRegister.subscribe(jacdac.REPORT_UPDATE,updatePixels);},[pixelsRegister]);var colors=(0,react.useCallback)(()=>colorsRef.current,[]);var numPixelsRegister=(0,useRegister/* default */.Z)(service,jacdac.LedReg.NumPixels);var[numPixels]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(numPixelsRegister,props);var actualBrightnessRegister=(0,useRegister/* default */.Z)(service,jacdac.LedReg.ActualBrightness);var[actualBrightness=0.5]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(actualBrightnessRegister,props);var subscribeColors=(0,react.useCallback)(handler=>clientRef.current.subscribe(jacdac.RENDER,handler),[]);var colourPalette=[{name:"red",value:0xff0000},{name:"orange",value:0xff7f00},{name:"yellow",value:0xffff00},{name:"green",value:0x00ff00},{name:"blue",value:0x0000ff},{name:"purple",value:0xa033e5},{name:"pink",value:0xff007f},{name:"white",value:0xffffff},{name:"black",value:0x000000}];var handlePanelToggle=event=>{setLedControls(event.target.checked);};var ready=numPixels!==undefined&&hasData;return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,flexWrap:"nowrap"},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},ready&&/*#__PURE__*/react.createElement(FwdLEDWidget,{widgetSize:ledControls?"clamp(8rem, 12vw, 15vh)":"clamp(6rem, 12vw, 15vh)",colors:colors,subscribeColors:subscribeColors,numPixels:numPixels,lightVariant:jacdac.LedStripVariant.Ring,actualBrightness:actualBrightness,onLedClick:handleLedClick}),/*#__PURE__*/react.createElement(FormControlLabel/* default */.Z,{value:"led-control",control:/*#__PURE__*/react.createElement(Switch/* default */.Z,{checked:ledControls,onChange:handlePanelToggle}),label:"Palette",labelPlacement:"end"})),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},ledControls&&/*#__PURE__*/react.createElement(ColorButtons/* default */.Z,{color:penColor,onColorChange:handleColorChange,colors:colourPalette})));}
// EXTERNAL MODULE: ./src/components/hooks/useSvgButtonProps.ts
var useSvgButtonProps = __webpack_require__(56212);
;// CONCATENATED MODULE: ./src/components/widgets/FwdDialButtonWidget.tsx
function FwdDialButtonWidget(props){var{checked,label,color,size,onDown,onUp}=props;var{background,controlBackground,active}=(0,useWidgetTheme/* default */.Z)(color);var buttonProps=(0,useSvgButtonProps/* default */.Z)(label,onDown,onUp);var w=64;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,size:size},/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.06,y:w*0.70,height:w*0.14,width:w*0.12,fill:"#a2a2a2",stroke:"#5b5b5b",strokeWidth:0.5}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.14,y:w*0.82,height:w*0.08,width:w*0.06,fill:"#0f5a96"}),/*#__PURE__*/react.createElement("rect",{x:w/2+w*0.08,y:w*0.82,height:w*0.08,width:w*0.06,fill:"#0f5a96"}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.14,y:w*0.79,height:w*0.03,width:w*0.28,fill:"#1ad672"}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.14,y:w*0.77,height:w*0.02,width:w*0.28,fill:"#a2a2a2"}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.08,y:w*0.77,height:w*0.08,width:w*0.16,fill:"#a2a2a2"}),/*#__PURE__*/react.createElement("rect",{x:1,y:w-w/10,rx:1,width:w-2,height:w/12,fill:"white",stroke:"black",strokeWidth:0.4}),/*#__PURE__*/react.createElement("g",{transform:"translate(0 "+(checked?w*0.05:0)+")"},/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.15,y:w*0.25,height:w*0.45,width:w*0.3,fill:"#deddd8",stroke:"#5b5b5b",strokeWidth:0.5}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.108,y:w*0.30,height:w*.28,width:w*0.06,fill:"#deddd8",stroke:"#5b5b5b",strokeWidth:0.5}),/*#__PURE__*/react.createElement("rect",{x:w/2+w*0.045,y:w*0.30,height:w*.28,width:w*0.06,fill:"#deddd8",stroke:"#5b5b5b",strokeWidth:0.5}),/*#__PURE__*/react.createElement("rect",{x:w/2+w*0.110,y:w*0.30,height:w*.28,width:w*0.05,fill:"#deddd8",stroke:"#5b5b5b",strokeWidth:0.5}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.160,y:w*0.30,height:w*.28,width:w*0.05,fill:"#deddd8",stroke:"#5b5b5b",strokeWidth:0.5}),/*#__PURE__*/react.createElement("rect",{x:w/2-w*0.040,y:w*0.30,height:w*.28,width:w*0.08,fill:"#deddd8",stroke:"#5b5b5b",strokeWidth:0.5})),/*#__PURE__*/react.createElement("rect",Object.assign({x:w*0.15,width:w*0.70,y:0,height:w*0.9,fillOpacity:0,fill:background},buttonProps,{strokeOpacity:0})));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdDialWidget.tsx
function FwdDialWidget(props){var{size,color,position,angle}=props;var{background,controlBackground,active,textProps}=(0,useWidgetTheme/* default */.Z)(color);var label=""+position;var w=10;var r=0.06;var fs=Math.max(0.2,0.4-label.length*0.1);return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{title:"rotary encoder at position "+position,size:size,width:w,height:w,viewBox:"0 0 1 1"},/*#__PURE__*/react.createElement("g",{transform:"scale("+1/(1+117+2*15.5-2*9.5+2*3.25+2*(8-3.25))+")"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("g",{id:"jacdac-connector"},/*#__PURE__*/react.createElement("path",{fill:"#AAA",d:"M22.369 14.045H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 12c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.656.173h18.332c.9 0 1.631.712 1.631 1.59v.91c0 .878-.73 1.59-1.631 1.59zM4.124 12c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 12c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077zM4.187 18c0-.404-.167-.791-.464-1.077a1.618 1.618 0 0 0-1.121-.446c-.42 0-.824.16-1.12.446A1.493 1.493 0 0 0 1.016 18c0 .404.167.791.464 1.077.297.285.7.446 1.121.446.42 0 .823-.16 1.12-.446.298-.286.465-.673.465-1.077zm16.157 2.045H4.098a2.692 2.692 0 0 1-2.695.173C.54 19.788 0 18.933 0 18s.54-1.788 1.403-2.218a2.692 2.692 0 0 1 2.695.173h16.246c.915 0 1.656.712 1.656 1.59v.91c0 .878-.741 1.59-1.656 1.59zM24 6.455c0 .878-.73 1.59-1.631 1.59H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 6c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.65.168l.006.005h18.332c.9 0 1.631.712 1.631 1.59ZM4.124 6c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 6c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077z"}))),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("path",{fill:"white",stroke:"black",strokeWidth:"1",d:" M 0.5, 0.5 m 5.25, 8 a 8,8 0 0 1 8,-8 h 117 a 8,8 0 0 1 8,8 v 32 a 4.25,4.25 0 0 1 -4.25,4.25 h -9.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 15.5 a 3.5,3.5 0 0 1 3.5,3.5 v 19 a 3.5,3.5 0 0 1 -3.5,3.5 h -15.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 9.5 a 4.25,4.25 0 0 1 4.25,4.25 v 32 a 8,8 0 0 1 -8,8 h -117 a 8,8 0 0 1 -8,-8 v -32 a 4.25,4.25 0 0 1 4.25,-4.25 h 9.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -15.5 a 3.5,3.5 0 0 1 -3.5,-3.5 v -19 a 3.5,3.5 0 0 1 3.5,-3.5 h 15.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -9.5 a 4.25,4.25 0 0 1 -4.25,-4.25 v -16.5 a 4.25,4.25 0 0 0 0,-8.5 z "})),/*#__PURE__*/react.createElement("g",{transform:"translate(125,12)"},/*#__PURE__*/react.createElement("circle",{fill:"black",r:"1.75"}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:"1.5",fill:"none",d:" m -2.5 -3 a 4 4 0 0 0 0 6 M -4 -4.5 a 6.25 6.25 0 0 0 0 9 M 2.5 -3 a 4 4 0 0 1 0 6 M 4 -4.5 a 6.25 6.25 0 0 1 0 9 "})),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(120 60) scale(0.8)"}),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(24 60) translate(0 11) rotate(180) scale(0.8) translate(0 -11) "}),/*#__PURE__*/react.createElement("text",{fontFamily:"Galano Grotesque Bold",x:16,y:15,fontSize:10},"Dial")),/*#__PURE__*/react.createElement("g",{transform:"translate(0.5 0.5) scale(0.5) rotate("+angle+") translate(-0.5 -0.5)"},/*#__PURE__*/react.createElement("path",{fill:background,d:"M.67.029a.037.037 0 01-.072-.02A.5.5 0 00.538 0a.037.037 0 01-.075 0 .5.5 0 00-.061.008.038.038 0 01-.073.02.5.5 0 00-.056.025.037.037 0 01-.064.04A.5.5 0 00.16.13.037.037 0 01.11.186a.5.5 0 00-.035.05.037.037 0 01-.035.066.5.5 0 00-.02.058.037.037 0 01-.016.074A.5.5 0 000 .495.037.037 0 01.005.57a.5.5 0 00.013.06.038.038 0 01.025.07.5.5 0 00.028.056.037.037 0 01.043.06.5.5 0 00.042.046.037.037 0 01.058.047.5.5 0 00.053.032.037.037 0 01.069.03.5.5 0 00.059.016.037.037 0 01.074.01.5.5 0 00.062 0 .037.037 0 01.074-.01.5.5 0 00.06-.016.037.037 0 01.068-.03.5.5 0 00.053-.032.037.037 0 01.058-.047.5.5 0 00.042-.045.037.037 0 01.043-.061A.5.5 0 00.957.7.037.037 0 01.982.63.5.5 0 00.995.57.037.037 0 011 .495.5.5 0 00.996.434.038.038 0 01.98.36.5.5 0 00.96.302.037.037 0 01.925.236.5.5 0 00.89.186.037.037 0 01.839.13.5.5 0 00.79.092.037.037 0 01.727.053.5.5 0 00.671.03z"}),/*#__PURE__*/react.createElement("path",{fill:controlBackground,d:"M.1.499a.4.4 0 10.8 0 .4.4 0 10-.8 0z"}),/*#__PURE__*/react.createElement("circle",{cx:0.5,cy:0.19,r:r,fill:active})),/*#__PURE__*/react.createElement("text",Object.assign({x:0.5,y:0.5,fontFamily:"Galano Grotesque Bold",fontSize:fs},textProps),label));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdLineWidget.tsx
function FwdLineWidget(props){var{size,color,value,buttonProps}=props;var{background,controlBackground,active}=(0,useWidgetTheme/* default */.Z)(color);var w=48;var h=48;var m=4;var sw=20;var dx=w>>1;var x=(w-sw-dx)/2;var sh=32;var dark="#000";var bright=active;var isLit=value>0.5;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:size},/*#__PURE__*/react.createElement("g",{transform:"translate("+x+", "+(h-m-sh)+")"},/*#__PURE__*/react.createElement("rect",{x:0,y:5.5*sh/8,width:2*sw,height:sh/5,fill:"#a4a4a4"}),/*#__PURE__*/react.createElement("rect",{x:0,y:sh/8,width:2*sw,height:sh/5,fill:"#a4a4a4"}),/*#__PURE__*/react.createElement("rect",Object.assign({x:sw/2,y:0,rx:1,width:sw,height:sh,fill:background},buttonProps)),/*#__PURE__*/react.createElement("rect",{x:sw*0.6,y:sh*0.10,height:sh/3,width:sw*0.8,fill:isLit?bright:dark,stroke:controlBackground,strokeWidth:1,style:{userSelect:"none",pointerEvents:"none"}}),/*#__PURE__*/react.createElement("rect",{x:sw*0.6,y:sh*0.60,height:sh/3,width:sw*0.8,fill:isLit?bright:dark,stroke:controlBackground,strokeWidth:1,style:{userSelect:"none",pointerEvents:"none"}})));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdSoilMoistureWidget.tsx
function FwdSoilMoistureWidget(props){var{value,color,size}=props;var{active,textProps}=(0,useWidgetTheme/* default */.Z)(color);var clipId=(0,react.useId)();var hasValue=!isNaN(value);var tvalue=hasValue?Math.round(value*100)+"%":"--";var w=3;var h=6;var ch=5.4*value;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:size},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},hasValue&&/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("clipPath",{id:clipId},/*#__PURE__*/react.createElement("rect",{x:0,y:h-ch,width:w,height:ch}))),/*#__PURE__*/react.createElement("path",{fill:"white",stroke:"black",strokeWidth:0.02,d:" M 0.05 -.05 v 0.05 a .2 .2 0 00 .1 .2 h .35 v 4.4 l .9 1 l .9 -1 v -4.4 h .35 a .2 -.2 0 00 .1 -.2 v -0.05 Z "}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:0.02,fill:active,d:" M 0.05 -.05 v 0.05 a .2 .2 0 00 .1 .2 h .35 v 4.4 l .9 1 l .9 -1 v -4.4 h .35 a .2 -.2 0 00 .1 -.2 v -0.05 Z ",clipPath:"url(#"+clipId+")"}),/*#__PURE__*/react.createElement("path",{stroke:"#000000",strokeLinecap:"butt",strokeWidth:".02",shapeRendering:"crispEdges",d:" M .6 .5 h 1.6 "}),/*#__PURE__*/react.createElement("text",{className:"galanoAltA",fill:"black",x:"1.4",y:".5",fontSize:".25",letterSpacing:"-.01em",textAnchor:"middle",dominantBaseline:"ideographic",shapeRendering:"crispEdges"},"max"),/*#__PURE__*/react.createElement("text",Object.assign({x:w/2,y:h*0.5,fontSize:"0.6",strokeWidth:".02",stroke:value>.5?"#000":"#fff"},textProps,{fill:value>.5?"#fff":"#000"}),tvalue)));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdSolarWidget.tsx
function FwdSolarWidget(props){var{value,color,size}=props;var{active,textProps}=(0,useWidgetTheme/* default */.Z)(color);var clipId=(0,react.useId)();var hasValue=!isNaN(value);var tvalue=hasValue?Math.round(value*100)+"%":"--";var w=64;var widgetScale=0.45;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:w,size:size},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},/*#__PURE__*/react.createElement("g",{transform:"scale("+w/(1+117+2*15.5-2*9.5+2*3.25+2*(8-3.25))+")"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("g",{id:"jacdac-connector"},/*#__PURE__*/react.createElement("path",{fill:"#AAA",d:"M22.369 14.045H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 12c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.656.173h18.332c.9 0 1.631.712 1.631 1.59v.91c0 .878-.73 1.59-1.631 1.59zM4.124 12c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 12c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077zM4.187 18c0-.404-.167-.791-.464-1.077a1.618 1.618 0 0 0-1.121-.446c-.42 0-.824.16-1.12.446A1.493 1.493 0 0 0 1.016 18c0 .404.167.791.464 1.077.297.285.7.446 1.121.446.42 0 .823-.16 1.12-.446.298-.286.465-.673.465-1.077zm16.157 2.045H4.098a2.692 2.692 0 0 1-2.695.173C.54 19.788 0 18.933 0 18s.54-1.788 1.403-2.218a2.692 2.692 0 0 1 2.695.173h16.246c.915 0 1.656.712 1.656 1.59v.91c0 .878-.741 1.59-1.656 1.59zM24 6.455c0 .878-.73 1.59-1.631 1.59H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 6c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.65.168l.006.005h18.332c.9 0 1.631.712 1.631 1.59ZM4.124 6c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 6c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077z"}))),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("path",{id:"outline",fill:"white",stroke:"black",strokeWidth:"1",d:" M 0.5, 0.5 m 5.25, 8 a 8,8 0 0 1 8,-8 h 117 a 8,8 0 0 1 8,8 v 32 a 4.25,4.25 0 0 1 -4.25,4.25 h -9.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 15.5 a 3.5,3.5 0 0 1 3.5,3.5 v 19 a 3.5,3.5 0 0 1 -3.5,3.5 h -15.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 9.5 a 4.25,4.25 0 0 1 4.25,4.25 v 32 a 8,8 0 0 1 -8,8 h -117 a 8,8 0 0 1 -8,-8 v -32 a 4.25,4.25 0 0 1 4.25,-4.25 h 9.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -15.5 a 3.5,3.5 0 0 1 -3.5,-3.5 v -19 a 3.5,3.5 0 0 1 3.5,-3.5 h 15.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -9.5 a 4.25,4.25 0 0 1 -4.25,-4.25 v -16.5 a 4.25,4.25 0 0 0 0,-8.5 z "})),/*#__PURE__*/react.createElement("g",{transform:"translate(125,12)"},/*#__PURE__*/react.createElement("circle",{fill:"black",r:"1.75"}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:"1.5",fill:"none",d:" m -2.5 -3 a 4 4 0 0 0 0 6 M -4 -4.5 a 6.25 6.25 0 0 0 0 9 M 2.5 -3 a 4 4 0 0 1 0 6 M 4 -4.5 a 6.25 6.25 0 0 1 0 9 "})),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(120 60) scale(0.8)"}),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(24 60) translate(0 11) rotate(180) scale(0.8) translate(0 -11) "}),/*#__PURE__*/react.createElement("text",{fontFamily:"Galano Grotesque Bold",x:16,y:15,fontSize:10},"Solar")),/*#__PURE__*/react.createElement("g",{transform:"scale("+widgetScale+") translate("+w/(2*widgetScale)+" "+w/(2*widgetScale)+")",x:w/(2*widgetScale),y:w/(2*widgetScale)},/*#__PURE__*/react.createElement("path",{stroke:"black",fill:active,fillOpacity:value,strokeWidth:1,x:0,y:0,d:"\n              m -9.25 -11.5\n              h 18.5\n              a 15 15 0 0 1 0 20\n              h -18.5\n              a 15 15 0 0 1 0 -20\n              z\n              "}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:0.5,fill:"none",x:0,y:0,d:"\n              m -11.5 -9\n              h 15\n              a 1.25 1.25 0 0 1 0 2.5\n              h -7.5\n              a 1.25 1.25 0 0 0 0 2.5\n              h 7.5\n              a 1.25 1.25 0 0 1 0 2.5\n              h -7.5\n              a 1.25 1.25 0 0 0 0 2.5\n              h 7.5\n              a 1.25 1.25 0 0 1 0 2.5\n              h -7.5\n              a 1.25 1.25 0 0 0 0 2.5\n              h 15\n              "})),/*#__PURE__*/react.createElement("text",Object.assign({className:"galanoAltA",x:w/2,y:w*0.7,fontSize:"8",lengthAdjust:".5em"},textProps,{fill:"#000"}),tvalue)));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdSonarWidget.tsx
function FwdSonarWidget(props){var{value,color,size}=props;var{active,textProps}=(0,useWidgetTheme/* default */.Z)(color);var clipId=(0,react.useId)();var hasValue=!isNaN(value);var tvalue=hasValue?(value/100).toFixed(2)+" m":"--";var w=60;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:w*1.2,size:size},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},/*#__PURE__*/react.createElement("g",{transform:"scale("+w/(1+141+2*15.5-2*9.5+2*3.25+2*(8-3.25))+")"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("g",{id:"jacdac-connector"},/*#__PURE__*/react.createElement("path",{fill:"#AAA",d:"M22.369 14.045H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 12c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.656.173h18.332c.9 0 1.631.712 1.631 1.59v.91c0 .878-.73 1.59-1.631 1.59zM4.124 12c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 12c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077zM4.187 18c0-.404-.167-.791-.464-1.077a1.618 1.618 0 0 0-1.121-.446c-.42 0-.824.16-1.12.446A1.493 1.493 0 0 0 1.016 18c0 .404.167.791.464 1.077.297.285.7.446 1.121.446.42 0 .823-.16 1.12-.446.298-.286.465-.673.465-1.077zm16.157 2.045H4.098a2.692 2.692 0 0 1-2.695.173C.54 19.788 0 18.933 0 18s.54-1.788 1.403-2.218a2.692 2.692 0 0 1 2.695.173h16.246c.915 0 1.656.712 1.656 1.59v.91c0 .878-.741 1.59-1.656 1.59zM24 6.455c0 .878-.73 1.59-1.631 1.59H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 6c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.65.168l.006.005h18.332c.9 0 1.631.712 1.631 1.59ZM4.124 6c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 6c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077z"}))),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("path",{fill:"white",stroke:"black",strokeWidth:"1",transform:"rotate(180 72.5 69.5) translate(-12 -60)",d:" M 0.5, 0.5 m 5.25, 8 a 8,8 0 0 1 8,-8 h 117 a 8,8 0 0 1 8,8 v 32 a 4.25,4.25 0 0 1 -4.25,4.25 h -9.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 15.5 a 3.5,3.5 0 0 1 3.5,3.5 v 19 a 3.5,3.5 0 0 1 -3.5,3.5 h -15.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 21.5 a 4.25,4.25 0 0 1 4.25,4.25 v 66.75 a 8,8 0 0 1 -8,8 h -141 a 8,8 0 0 1 -8,-8 v -66.75 a 4.25,4.25 0 0 1 4.25,-4.25 h 21.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -15.5 a 3.5,3.5 0 0 1 -3.5,-3.5 v -19 a 3.5,3.5 0 0 1 3.5,-3.5 h 15.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -9.5 a 4.25,4.25 0 0 1 -4.25,-4.25 v -16.5 a 4.25,4.25 0 0 0 0,-8.5 z "})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{fill:"#deddd8",r:"28",stroke:"black",strokeWidth:"1",transform:"translate(33 38)"}),/*#__PURE__*/react.createElement("circle",{fill:"white",r:"22",stroke:"black",strokeWidth:"1",transform:"translate(33 38)"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("circle",{fill:"#deddd8",r:"28",stroke:"black",strokeWidth:"1",transform:"translate(137 38)"}),/*#__PURE__*/react.createElement("circle",{fill:"white",r:"22",stroke:"black",strokeWidth:"1",transform:"translate(137 38)"})),/*#__PURE__*/react.createElement("g",{transform:"translate(132,185)"},/*#__PURE__*/react.createElement("circle",{fill:"black",r:"1.75",transform:"scale(1.2)"}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:"1.5",fill:"none",transform:"scale(1.2)",d:" m -2.5 -3 a 4 4 0 0 0 0 6 M -4 -4.5 a 6.25 6.25 0 0 0 0 9 M 2.5 -3 a 4 4 0 0 1 0 6 M 4 -4.5 a 6.25 6.25 0 0 1 0 9 "})),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(132 120) scale(0.8)"}),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(38 120) translate(0 11) rotate(180) scale(0.8) translate(0 -11) "}),/*#__PURE__*/react.createElement("text",{className:"galanoAltA",x:26,y:190,fontSize:11},"Sonar")),/*#__PURE__*/react.createElement("text",Object.assign({x:w/2,y:w/2,fontSize:"8"},textProps,{fill:"#000"}),tvalue)));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdTouchWidget.tsx
function FwdTouchWidget(props){var{checked,label,color,size,onDown,onUp}=props;var{background,controlBackground,active}=(0,useWidgetTheme/* default */.Z)(color);var buttonProps=(0,useSvgButtonProps/* default */.Z)(label,onDown,onUp);var w=90;var mo=checked?3:5;var r=w/2;var cx=r;var cy=r;var ri=r-mo;var rn=8;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:w,size:size},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},/*#__PURE__*/react.createElement("g",{transform:"scale("+w/(1+117+2*15.5-2*9.5+2*3.25+2*(8-3.25))+")"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("g",{id:"jacdac-connector"},/*#__PURE__*/react.createElement("path",{fill:"#AAA",d:"M22.369 14.045H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 12c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.656.173h18.332c.9 0 1.631.712 1.631 1.59v.91c0 .878-.73 1.59-1.631 1.59zM4.124 12c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 12c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077zM4.187 18c0-.404-.167-.791-.464-1.077a1.618 1.618 0 0 0-1.121-.446c-.42 0-.824.16-1.12.446A1.493 1.493 0 0 0 1.016 18c0 .404.167.791.464 1.077.297.285.7.446 1.121.446.42 0 .823-.16 1.12-.446.298-.286.465-.673.465-1.077zm16.157 2.045H4.098a2.692 2.692 0 0 1-2.695.173C.54 19.788 0 18.933 0 18s.54-1.788 1.403-2.218a2.692 2.692 0 0 1 2.695.173h16.246c.915 0 1.656.712 1.656 1.59v.91c0 .878-.741 1.59-1.656 1.59zM24 6.455c0 .878-.73 1.59-1.631 1.59H4.037a2.618 2.618 0 0 1-2.656.173A2.493 2.493 0 0 1 0 6c0-.933.533-1.788 1.381-2.218a2.618 2.618 0 0 1 2.65.168l.006.005h18.332c.9 0 1.631.712 1.631 1.59ZM4.124 6c0-.404-.164-.791-.457-1.077a1.581 1.581 0 0 0-1.104-.446c-.414 0-.811.16-1.104.446A1.504 1.504 0 0 0 1.002 6c0 .404.164.791.457 1.077.293.285.69.446 1.104.446.414 0 .811-.16 1.104-.446.293-.286.457-.673.457-1.077z"}))),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("path",{id:"outline",fill:"white",stroke:"black",strokeWidth:"1",d:" M 0.5, 0.5 m 5.25, 8 a 8,8 0 0 1 8,-8 h 117 a 8,8 0 0 1 8,8 v 32 a 4.25,4.25 0 0 1 -4.25,4.25 h -9.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 15.5 a 3.5,3.5 0 0 1 3.5,3.5 v 19 a 3.5,3.5 0 0 1 -3.5,3.5 h -15.5 a 4.25,4.25 0 0 0 -4.25,4.25 v 3 a 4.25,4.25 0 0 0 4.25,4.25 h 9.5 a 4.25,4.25 0 0 1 4.25,4.25 v 32 a 8,8 0 0 1 -8,8 h -117 a 8,8 0 0 1 -8,-8 v -32 a 4.25,4.25 0 0 1 4.25,-4.25 h 9.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -15.5 a 3.5,3.5 0 0 1 -3.5,-3.5 v -19 a 3.5,3.5 0 0 1 3.5,-3.5 h 15.5 a 4.25,4.25 0 0 0 4.25,-4.25 v -3 a 4.25,4.25 0 0 0 -4.25,-4.25 h -9.5 a 4.25,4.25 0 0 1 -4.25,-4.25 v -16.5 a 4.25,4.25 0 0 0 0,-8.5 z "})),/*#__PURE__*/react.createElement("g",{transform:"translate(125,12)"},/*#__PURE__*/react.createElement("circle",{fill:"black",r:"1.75"}),/*#__PURE__*/react.createElement("path",{stroke:"black",strokeWidth:"1.5",fill:"none",d:" m -2.5 -3 a 4 4 0 0 0 0 6 M -4 -4.5 a 6.25 6.25 0 0 0 0 9 M 2.5 -3 a 4 4 0 0 1 0 6 M 4 -4.5 a 6.25 6.25 0 0 1 0 9 "})),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(120 60) scale(0.8)"}),/*#__PURE__*/react.createElement("use",{href:"#jacdac-connector",transform:"translate(24 60) translate(0 11) rotate(180) scale(0.8) translate(0 -11) "}),/*#__PURE__*/react.createElement("text",{x:16,y:15,fontSize:10},"Touch")),/*#__PURE__*/react.createElement("g",Object.assign({transform:"translate("+w/2+" "+(w/2+w*0.125)+") scale(0.45)"},buttonProps),/*#__PURE__*/react.createElement("rect",{x:-w/2,y:-2*w/3,rx:"10",width:w,height:4*w/3,fill:"white",fillOpacity:"0",stroke:"#CCC",strokeWidth:"1.2"}),/*#__PURE__*/react.createElement("circle",{x:"0",y:"0",r:3*w/8,fill:checked?active:"white",stroke:"black",strokeWidth:"2"}),/*#__PURE__*/react.createElement("circle",{x:"0",y:"0",r:2*w/8,fill:"none",stroke:"black",strokeWidth:"2"}),/*#__PURE__*/react.createElement("circle",{x:"0",y:"0",r:w/8,fill:"none",stroke:"black",strokeWidth:"2"}))));}
// EXTERNAL MODULE: ./src/components/hooks/useEvent.ts
var useEvent = __webpack_require__(34452);
;// CONCATENATED MODULE: ./src/components/widgets/FwdDcCurrentWidget.tsx
function FwdDcCurrentWidget(props){var{value}=props;var valueRounded=Math.round(value*1000);var output=!isNaN(valueRounded)?valueRounded.toString():"--";var w=368.71687;var h=345.2565;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:"clamp(14rem, 12vw, 16vh)"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("clipPath",{id:"clippath"},/*#__PURE__*/react.createElement("rect",{x:"490.1135",y:"-1548.21978",width:"524.16588",height:"483.05483",fill:"none"}))),/*#__PURE__*/react.createElement("g",{clipPath:"url(#clippath)"},/*#__PURE__*/react.createElement("image",{width:"5578",height:"3719",transform:"translate(-3510.27994 -3121.75345) scale(.93445)",href:"../Solar Kit/Photos/Edited/Solar-Kit-4.jpg"})),/*#__PURE__*/react.createElement("rect",{x:"103.35544",y:"144.89522",width:"169.21949",height:"60.57698",rx:"12",ry:"12",fill:"#eaeaea"}),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("text",{x:"187",y:"186",textAnchor:"middle",fontFamily:"Galano Grotesque Bold",fontSize:"33px"},output+" mA")),/*#__PURE__*/react.createElement("path",{d:"M288.1721,140.576v-10.4366c0-3.10744,2.51908-5.62652,5.62652-5.62652h24.89158c4.5759,0,8.28539-3.7095,8.28539-8.28539V47.79053c0-8.22083-6.6643-14.88512-14.88512-14.88512H63.29626c-8.16522,0-14.79998,6.63476-14.79998,14.88512v69.72724c0,2.68889,2.17978,4.86867,4.86867,4.86867h27.05919c2.81144,0,5.09057,2.27913,5.09057,5.09057v13.63496c0,2.81144-2.27913,5.09057-5.09057,5.09057h-36.4318c-3.4786,0-6.29857,2.81997-6.29857,6.29857v38.01239c0,3.4786,2.81997,6.29857,6.29857,6.29857h36.4318c2.81144,0,5.09057,2.27913,5.09057,5.09057v13.7201c0,2.81144-2.27913,5.09057-5.09057,5.09057h-27.05919c-2.68889,0-4.86867,2.17978-4.86867,4.86867v69.72672c0,8.17409,6.62641,14.8005,14.8005,14.8005h248.7937c8.25088,0,14.88512-6.63476,14.88512-14.8005v-67.41578c0-4.5759-3.7095-8.28539-8.28539-8.28539h-24.89158c-3.10744,0-5.62652-2.51908-5.62652-5.62652v-10.51547c0-3.07647,2.47094-5.58254,5.54711-5.62596l37.43901-.52849c3.67108-.05182,6.61989-3.04255,6.61989-6.714v-37.67984c0-3.70842-3.00627-6.71469-6.71469-6.71469h-37.26479c-3.10744,0-5.62652-2.51908-5.62652-5.62652ZM105.82622,106.07539c-7.5862,0-13.69523-6.10944-13.69523-13.69564,0-7.519,6.10903-13.62803,13.69523-13.62803,7.519,0,13.62844,6.10903,13.62844,13.62803,0,7.5862-6.10944,13.69564-13.62844,13.69564ZM270.22904,106.07539c-7.5862,0-13.69523-6.10944-13.69523-13.69564,0-7.519,6.10903-13.62803,13.69523-13.62803,7.519,0,13.62844,6.10903,13.62844,13.62803,0,7.5862-6.10944,13.69564-13.62844,13.69564ZM105.82622,268.54405c-7.5862,0-13.69523-6.10944-13.69523-13.69564,0-7.519,6.10903-13.62803,13.69523-13.62803,7.519,0,13.62844,6.10903,13.62844,13.62803,0,7.5862-6.10944,13.69564-13.62844,13.69564ZM270.22904,268.54405c-7.5862,0-13.69523-6.10944-13.69523-13.69564,0-7.519,6.10903-13.62803,13.69523-13.62803,7.519,0,13.62844,6.10903,13.62844,13.62803,0,7.5862-6.10944,13.69564-13.62844,13.69564Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"3px"}),/*#__PURE__*/react.createElement("text",{transform:"translate(64.37013 59.63505)",fill:"#231f20",fontFamily:"Galano Grotesque Bold",fontSize:"18.03547px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"Ene"),/*#__PURE__*/react.createElement("tspan",{x:"32.78809",y:"0",letterSpacing:"-.00298em"},"r"),/*#__PURE__*/react.createElement("tspan",{x:"40.61621",y:"0",letterSpacing:"-.00005em"},"gy")),/*#__PURE__*/react.createElement("polyline",{points:"222.33128 32.892 222.33128 97.79248 153.45928 97.79248 153.45928 32.892",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"3px"}),/*#__PURE__*/react.createElement("rect",{x:"166.55527",y:"50.52918",width:"3.97968",height:"32.23539",fill:"#231f20"}),/*#__PURE__*/react.createElement("rect",{x:"206.04022",y:"50.52918",width:"3.97968",height:"32.23539",fill:"#231f20"}),/*#__PURE__*/react.createElement("rect",{x:"160.28315",y:"272.61115",width:"62.3716",height:"36.88643",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"3px"}),/*#__PURE__*/react.createElement("circle",{cx:"302.97526",cy:"51.69522",r:"2.69611",fill:"#231f20"}),/*#__PURE__*/react.createElement("path",{d:"M299.49108,47.64961s-3.6736,4.41763,0,8.09123",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("path",{d:"M295.95698,45.41754s-3.6736,6.85494,0,12.55536",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("path",{d:"M306.32161,47.64961s3.6736,4.41763,0,8.09123",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("path",{d:"M309.85571,45.41754s3.6736,6.85494,0,12.55536",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("rect",{x:"50.75519",y:"158.50149",width:"29.62724",height:"5.8156",rx:"2.9078",ry:"2.9078",fill:"#878787"}),/*#__PURE__*/react.createElement("rect",{x:"46.60789",y:"168.52832",width:"33.77454",height:"5.8156",rx:"2.9078",ry:"2.9078",fill:"#878787"}),/*#__PURE__*/react.createElement("rect",{x:"46.60789",y:"178.55516",width:"33.77454",height:"5.8156",rx:"2.9078",ry:"2.9078",fill:"#878787"})),/*#__PURE__*/react.createElement("circle",{cx:"77.56749",cy:"161.35779",r:"1.58428",fill:"#fff"}),/*#__PURE__*/react.createElement("circle",{cx:"77.56749",cy:"171.49622",r:"1.58428",fill:"#fff"}),/*#__PURE__*/react.createElement("circle",{cx:"77.56749",cy:"181.63465",r:"1.58428",fill:"#fff"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("rect",{x:"293.87718",y:"178.55516",width:"29.62724",height:"5.8156",rx:"2.9078",ry:"2.9078",transform:"translate(617.3816 362.92592) rotate(-180)",fill:"#878787"}),/*#__PURE__*/react.createElement("rect",{x:"293.87718",y:"168.52832",width:"33.77454",height:"5.8156",rx:"2.9078",ry:"2.9078",transform:"translate(621.52889 342.87224) rotate(180)",fill:"#878787"}),/*#__PURE__*/react.createElement("rect",{x:"293.87718",y:"158.50149",width:"33.77454",height:"5.8156",rx:"2.9078",ry:"2.9078",transform:"translate(621.52889 322.81857) rotate(-180)",fill:"#878787"})),/*#__PURE__*/react.createElement("circle",{cx:"296.69212",cy:"181.51446",r:"1.58428",fill:"#fff"}),/*#__PURE__*/react.createElement("circle",{cx:"296.69212",cy:"171.37603",r:"1.58428",fill:"#fff"}),/*#__PURE__*/react.createElement("circle",{cx:"296.69212",cy:"161.2376",r:"1.58428",fill:"#fff"})));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdDcVoltageWidget.tsx
function FwdDcVoltageWidget(props){var{value}=props;var output=!isNaN(value)?value.toFixed(2)+" V":"--";var w=368.71687;var h=345.2565;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:"clamp(14rem, 12vw, 16vh)"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("clipPath",{id:"clippath"},/*#__PURE__*/react.createElement("rect",{x:"107.36679",y:"-1548.21978",width:"524.16588",height:"483.05483",fill:"none"}))),/*#__PURE__*/react.createElement("g",{clipPath:"url(#clippath)"},/*#__PURE__*/react.createElement("image",{width:"5578",height:"3719",transform:"translate(-3893.02666 -3121.75345) scale(.93445)",href:"../Solar Kit/Photos/Edited/Solar-Kit-4.jpg"})),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("rect",{x:"90.43719",y:"215.24283",width:"187.8425",height:"66.14374",rx:"12",ry:"12",fill:"#eaeaea"}),/*#__PURE__*/react.createElement("text",{x:"185",y:"260",textAnchor:"middle",fontFamily:"Galano Grotesque Bold",fontSize:"33px"},output)),/*#__PURE__*/react.createElement("path",{d:"M182.58682,54.50374h42.25907c2.17727,0,3.51374,2.3847,2.37729,4.24184l-25.69844,41.99502c-1.13646,1.85714.20002,4.24184,2.37729,4.24184h7.33562c2.18723,0,3.52211,2.40427,2.36561,4.26074l-45.98031,73.81049c-1.65763,2.66094-5.76641.9821-5.08633-2.07826l12.28284-55.27278c.38679-1.74057-.93768-3.39168-2.72071-3.39168h-19.93698c-2.06101,0-3.40908-2.15962-2.50387-4.01119l30.42504-62.23304c.4676-.95645,1.43923-1.56297,2.50387-1.56297Z",fill:"none",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"3px"}));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdPhWidget.tsx
function checkIfInRange(lowerBound,number){if(lowerBound===2){if(number<lowerBound+1){return true;}}else if(lowerBound===11){if(number>=lowerBound){return true;}}else{if(number>=lowerBound&&number<lowerBound+1){return true;}}return false;}function FwdAcidityWidget(props){var{value}=props;value=Math.round(value*10)/10;var output=!isNaN(value)?value.toFixed(1):"--";var w=747.30349;var h=1811.90357;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:"clamp(14rem, 12vw, 16vh)"},/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"70.77937",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(2,value)?"#e8904d":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"240.48166",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(3,value)?"#f4be52":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"410.18395",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(4,value)?"#fbe24e":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"579.88624",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(5,value)?"#c7d254":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"749.58853",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(6,value)?"#8bbe5d":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"919.29081",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(7,value)?"#4fae74":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"1088.9931",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(8,value)?"#58b7c0":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"1258.69539",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(9,value)?"#5a8db4":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"1428.39768",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(10,value)?"#3e729d":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("rect",{x:"76.66432",y:"1598.09997",width:"196.15317",height:"156.38136",rx:"16.2749",ry:"16.2749",fill:checkIfInRange(11,value)?"#335d94":"none",stroke:"#343333",strokeMiterlimit:"10",strokeWidth:"2px"}),/*#__PURE__*/react.createElement("text",{transform:"translate(150.08126 182.37109)",fill:checkIfInRange(2,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"2")),/*#__PURE__*/react.createElement("text",{transform:"translate(148.77633 351.89135)",fill:checkIfInRange(3,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"3")),/*#__PURE__*/react.createElement("text",{transform:"translate(146.5715 521.41142)",fill:checkIfInRange(4,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"4")),/*#__PURE__*/react.createElement("text",{transform:"translate(148.82126 690.93149)",fill:checkIfInRange(5,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"5")),/*#__PURE__*/react.createElement("text",{transform:"translate(147.2463 860.45157)",fill:checkIfInRange(6,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"6")),/*#__PURE__*/react.createElement("text",{transform:"translate(151.65622 1029.97164)",fill:checkIfInRange(7,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"7")),/*#__PURE__*/react.createElement("text",{transform:"translate(148.95578 1199.49172)",fill:checkIfInRange(8,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"8")),/*#__PURE__*/react.createElement("text",{transform:"translate(147.2463 1369.01179)",fill:checkIfInRange(9,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"9")),/*#__PURE__*/react.createElement("text",{transform:"translate(127.35666 1538.53186)",fill:checkIfInRange(10,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"10")),/*#__PURE__*/react.createElement("text",{transform:"translate(139.73166 1708.05171)",fill:checkIfInRange(11,value)?"#fff":"#343333",fontFamily:"Galano Grotesque Bold",fontSize:"90px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"11")),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("text",{transform:"translate(386.61799 844.04452)",fontFamily:"Galano Grotesque Bold",fontSize:"138.91557px",fontWeight:"700"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"pH")),/*#__PURE__*/react.createElement("text",{transform:"translate(390.99543 1075.90292)",fontFamily:"Galano Grotesque Bold",fontSize:"138.91557px",fontWeight:"700"},output),/*#__PURE__*/react.createElement("line",{x1:"395.24584",y1:"918.71434",x2:"579.52441",y2:"918.71434",fill:"none",stroke:"#000",strokeMiterlimit:"10",strokeWidth:"5px"})));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdTemperatureWidget.tsx
function FwdTemperatureWidget(props){var{value}=props;value=Math.round(value*10)/10;var output=!isNaN(value)?value.toFixed(1):"--";var w=578.01962;var h=674.6128;var blockerHeight=0;var sixtyHeight=0;var minusFortyHeight=408;// the scale of -40 to 60 is 100 degrees so simply adding 40 gives you percent
// this needs to be inverted because increased height moves the blocker down rather than up
var percent=100-(value+40);if(value>=60){blockerHeight=sixtyHeight;}else if(value<=-40){blockerHeight=minusFortyHeight;}else{blockerHeight=percent/100*minusFortyHeight;}return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:"clamp(14rem, 12vw, 16vh)"},/*#__PURE__*/react.createElement("defs",null,/*#__PURE__*/react.createElement("linearGradient",{id:"linear-gradient",x1:"134.89087",y1:"56.34342",x2:"134.89087",y2:"624.1735",gradientUnits:"userSpaceOnUse"},/*#__PURE__*/react.createElement("stop",{offset:"0",stopColor:"#ce1408"}),/*#__PURE__*/react.createElement("stop",{offset:".25",stopColor:"#e5eb19"}),/*#__PURE__*/react.createElement("stop",{offset:".5277",stopColor:"#66f217"}),/*#__PURE__*/react.createElement("stop",{offset:".58468",stopColor:"#54ea38"}),/*#__PURE__*/react.createElement("stop",{offset:".72799",stopColor:"#2ad987"}),/*#__PURE__*/react.createElement("stop",{offset:".79381",stopColor:"#1ad3a7"}),/*#__PURE__*/react.createElement("stop",{offset:"1",stopColor:"#0a00e9"}))),/*#__PURE__*/react.createElement("rect",{x:"351.47799",y:"229.88855",width:"174.33836",height:"131.43859",rx:"12",ry:"12",fill:"#eaeaea"}),/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("text",{x:"437",y:"295",textAnchor:"middle",fontFamily:"Galano Grotesque Bold",fontSize:"50.44879px"},output),/*#__PURE__*/react.createElement("text",{transform:"translate(408 338.09526)",fontFamily:"Galano Grotesque Bold",fontSize:"42px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"\xBA")),/*#__PURE__*/react.createElement("text",{transform:"translate(429.18295 338.09526)",fontFamily:"Galano Grotesque Bold",fontSize:"42px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"C"))),/*#__PURE__*/react.createElement("text",{transform:"translate(235.68582 470)",fontFamily:"Galano Grotesque Bold",fontSize:"36px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"-40")),/*#__PURE__*/react.createElement("text",{transform:"translate(237.41384 389.3)",fontFamily:"Galano Grotesque Bold",fontSize:"36px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0",letterSpacing:"-.00298em"},"-20")),/*#__PURE__*/react.createElement("text",{transform:"translate(237.41384 310)",fontFamily:"Galano Grotesque Bold",fontSize:"36px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"0")),/*#__PURE__*/react.createElement("text",{transform:"translate(237.41384 230.5)",fontFamily:"Galano Grotesque Bold",fontSize:"36px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0",letterSpacing:"-.00298em"},"20")),/*#__PURE__*/react.createElement("text",{transform:"translate(235.68582 149)",fontFamily:"Galano Grotesque Bold",fontSize:"36px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"40")),/*#__PURE__*/react.createElement("text",{transform:"translate(235.77615 71)",fontFamily:"Galano Grotesque Bold",fontSize:"36px"},/*#__PURE__*/react.createElement("tspan",{x:"0",y:"0"},"60")),/*#__PURE__*/react.createElement("path",{d:"M226.21588,552.39322c0,50.43994-40.88995,91.33008-91.32996,91.33008-50.43005,0-91.32001-40.89014-91.32001-91.33008,0-39.66992,25.29993-73.44971,60.64996-86.04004V62.18326c0-12.02002,9.75-21.77979,21.78003-21.77979h17.79999c12.02002,0,21.77002,9.75977,21.77002,21.77979v404.16992c35.34998,12.6001,60.64996,46.37012,60.64996,86.04004Z",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"5px"}),/*#__PURE__*/react.createElement("path",{d:"M206.6759,552.39322c0,39.64014-32.14001,71.78027-71.78998,71.78027-39.64001,0-71.78009-32.14014-71.78009-71.78027,0-28.65967,16.81006-53.3999,41.11005-64.90967,5.56-2.64014,11.52002-4.57031,17.75-5.70996V60.48356c0-2.28027,1.85004-4.14014,4.14001-4.14014h17.58002c2.27997,0,4.14001,1.85986,4.14001,4.14014v421.29004c6.22998,1.13965,12.17999,3.06982,17.73999,5.70996,24.31,11.50977,41.10999,36.25,41.10999,64.90967Z",fill:"url(#linear-gradient)"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"459.79054",x2:"220.21958",y2:"459.79054",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"419.26115",x2:"205.82287",y2:"419.26115",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"338.88615",x2:"205.82287",y2:"338.88615",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"258.51114",x2:"205.82287",y2:"258.51114",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"178.13613",x2:"205.82287",y2:"178.13613",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"97.76112",x2:"205.82287",y2:"97.76112",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"379.64694",x2:"220.21958",y2:"379.64694",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"299.50334",x2:"220.21958",y2:"299.50334",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"219.35974",x2:"220.21958",y2:"219.35974",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"139.21614",x2:"220.21958",y2:"139.21614",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("line",{x1:"185.57349",y1:"59.07254",x2:"220.21958",y2:"59.07254",fill:"none",stroke:"#231f20",strokeMiterlimit:"10",strokeWidth:"4px"}),/*#__PURE__*/react.createElement("rect",{x:"118",y:"55",width:"34",height:blockerHeight,fill:"white"}));}
;// CONCATENATED MODULE: ./src/components/widgets/FwdFloatWidget.tsx
function FwdFloatWidget(props){var{checked,color,size}=props;var{active}=(0,useWidgetTheme/* default */.Z)(color);var w=324.08417;var h=710.79329;return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h,size:size},/*#__PURE__*/react.createElement("g",{className:"fwdEduWidget"},/*#__PURE__*/react.createElement("g",null,/*#__PURE__*/react.createElement("path",{d:"M282.80411,160.94757v23.78003c0,3.1001-2,5.61011-4.45996,5.61011h-54.57007v51.56006h-12.83008v25.77979h-16.69995v366.06006h28.40015v.43994c0,23.74023-19.25,43-42.99023,43h-38.7998c-23.73999,0-42.98999-19.25977-42.98999-43v-.43994h28.3999v-366.06006h-16.68994v-25.77979h-12.83008v-51.56006h-54.57007c-2.46997,0-4.45996-2.51001-4.45996-5.61011v-23.78003c0-3.09985,1.98999-5.60986,4.45996-5.60986h64.05005V40.32769c0-14.42993,11.04004-26.13013,24.65991-26.13013h58.74023c13.61987,0,24.66992,11.7002,24.66992,26.13013v115.01001h64.05005c2.45996,0,4.45996,2.51001,4.45996,5.60986Z",fill:"none",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"}),/*#__PURE__*/react.createElement("line",{x1:"106.22403",y1:"155.3377",x2:"214.2941",y2:"155.3377",fill:"none",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"}),/*#__PURE__*/react.createElement("line",{x1:"96.74405",y1:"190.3377",x2:"223.77408",y2:"190.3377",fill:"none",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"}),/*#__PURE__*/react.createElement("line",{x1:"210.944",y1:"241.89776",x2:"109.57413",y2:"241.89776",fill:"none",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"}),/*#__PURE__*/react.createElement("line",{x1:"126.26407",y1:"267.67755",x2:"194.24405",y2:"267.67755",fill:"none",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"}),/*#__PURE__*/react.createElement("line",{x1:"126.26407",y1:"633.7376",x2:"194.24405",y2:"633.7376",fill:"none",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"})),/*#__PURE__*/react.createElement("rect",{className:"float-transition",x:"39.38252",y:checked?"297.9536":"390.33026",fill:checked?active:"#fff",width:"241.75308",height:"221.71515",rx:"15.54198",ry:"15.54198",stroke:"#231f20",strokeMiterlimit:"2",strokeWidth:"2"})));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardFwdEduWidgets.tsx
var ProductId;(function(ProductId){ProductId[ProductId["BreakoutBoard1"]=873600795]="BreakoutBoard1";ProductId[ProductId["BreakoutBoard2"]=943529908]="BreakoutBoard2";ProductId[ProductId["LedRing"]=1054009247]="LedRing";ProductId[ProductId["FloatSensor"]=884365778]="FloatSensor";ProductId[ProductId["Dial"]=932148851]="Dial";ProductId[ProductId["MoistureSensor"]=870361737]="MoistureSensor";ProductId[ProductId["LineSensor"]=1000568338]="LineSensor";ProductId[ProductId["TouchSensor"]=1064434129]="TouchSensor";ProductId[ProductId["EnergySensor"]=919046000]="EnergySensor";ProductId[ProductId["Lights"]=827772839]="Lights";ProductId[ProductId["PhSensor"]=1067983758]="PhSensor";ProductId[ProductId["SonarSensor"]=926591985]="SonarSensor";ProductId[ProductId["SolarSensor"]=1005257879]="SolarSensor";ProductId[ProductId["TemperatureSensor"]=827772841]="TemperatureSensor";})(ProductId||(ProductId={}));function hasCustomFwdWidget(device){var productId=(0,useDeviceProductIdentifier/* default */.Z)(device);var productIds=Object.values(ProductId);return productIds.includes(productId);}function buttonWidgetProps(service,server){var{0:pressed,1:setPressed}=(0,react.useState)(false);var downEvent=(0,useEvent/* default */.Z)(service,jacdac.ButtonEvent.Down);var upEvent=(0,useEvent/* default */.Z)(service,jacdac.ButtonEvent.Up);(0,react.useEffect)(()=>downEvent.subscribe(jacdac.EVENT,()=>setPressed(true)),[downEvent]);(0,react.useEffect)(()=>upEvent.subscribe(jacdac.EVENT,()=>setPressed(false)),[upEvent]);return{onDown:()=>server===null||server===void 0?void 0:server.down(),onUp:()=>server===null||server===void 0?void 0:server.up(),checked:pressed,label:"button "+(pressed?"down":"up")};}function lineWidgetProps(value,register,server){var handleDown=()=>{server.reading.setValues([value>0?0:1.0]);register.refresh();};return{buttonProps:(0,useSvgButtonProps/* default */.Z)("line detector",server&&handleDown)};}function dialWidgetProps(value,service){var clicksPerTurnRegister=(0,useRegister/* default */.Z)(service,jacdac.RotaryEncoderReg.ClicksPerTurn);var[clicksPerTurn=20]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(clicksPerTurnRegister);return{position:value,angle:value/clicksPerTurn*360};}function lazifyWidget(widget,widgetProps){return/*#__PURE__*/react.createElement(Suspense/* default */.Z,{fallback:/*#__PURE__*/react.createElement(CircularProgress/* default */.Z,{"aria-label":"loading...",color:widgetProps.color,disableShrink:true,variant:"indeterminate",size:"1rem"})},/*#__PURE__*/(0,react.createElement)(widget,widgetProps));}function FwdEduSubstituteWidget(dashboardProps){var _service$readingRegis,_service$readingRegis2;var{service}=dashboardProps;var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var size="clamp(6rem, 12vw, 14vh)";// semi-generics
var registerNumber=(service===null||service===void 0?void 0:(_service$readingRegis=service.readingRegister)===null||_service$readingRegis===void 0?void 0:(_service$readingRegis2=_service$readingRegis.specification)===null||_service$readingRegis2===void 0?void 0:_service$readingRegis2.identifier)||257;var valueReg=(0,useRegister/* default */.Z)(service,registerNumber);var[value]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(valueReg,dashboardProps);var widgetProps={color:color,size:size,value:value};var productId=(0,useDeviceProductIdentifier/* default */.Z)(service.device);switch(productId){case ProductId.BreakoutBoard1:case ProductId.BreakoutBoard2:if(service.serviceClass===jacdac.SRV_SERVO){return createServoWidget(dashboardProps);}return createPumpWidget(dashboardProps);case ProductId.LedRing:return createLEDWidget(dashboardProps);case ProductId.Lights:{return createLightsWidget(dashboardProps);}case ProductId.FloatSensor:return lazifyWidget(FwdFloatWidget,Object.assign({},widgetProps,buttonWidgetProps(service,server)));case ProductId.Dial:if(service.serviceClass===jacdac.SRV_BUTTON){return lazifyWidget(FwdDialButtonWidget,Object.assign({},widgetProps,buttonWidgetProps(service,server)));}return lazifyWidget(FwdDialWidget,Object.assign({},widgetProps,dialWidgetProps(value,service)));case ProductId.MoistureSensor:return lazifyWidget(FwdSoilMoistureWidget,Object.assign({},widgetProps,{size:"clamp(14rem, 12vw, 16vh)"}));case ProductId.LineSensor:return lazifyWidget(FwdLineWidget,Object.assign({},widgetProps,{size:"clamp(4rem, 8vw, 12vh)"},lineWidgetProps(value,valueReg,server)));case ProductId.TouchSensor:return lazifyWidget(FwdTouchWidget,Object.assign({},widgetProps,buttonWidgetProps(service,server)));case ProductId.EnergySensor:if(service.serviceClass===jacdac.SRV_DC_CURRENT_MEASUREMENT){return lazifyWidget(FwdDcCurrentWidget,Object.assign({},widgetProps,{currentOrVoltage:"current"}));}return lazifyWidget(FwdDcVoltageWidget,Object.assign({},widgetProps,{currentOrVoltage:"voltage"}));case ProductId.PhSensor:return lazifyWidget(FwdAcidityWidget,Object.assign({},widgetProps,{size:"clamp(14rem, 12vw, 16vh)"}));case ProductId.SonarSensor:return lazifyWidget(FwdSonarWidget,{color:widgetProps.color,value:widgetProps.value*100,size:"clamp(6rem, 15vw, 20vh"});case ProductId.SolarSensor:return lazifyWidget(FwdSolarWidget,widgetProps);case ProductId.TemperatureSensor:return lazifyWidget(FwdTemperatureWidget,Object.assign({},widgetProps,{size:"clamp(14rem, 12vw, 16vh)"}));}return DashboardServiceDefaultWidget(dashboardProps);}
// EXTERNAL MODULE: ./src/components/widgets/ButtonWidget.tsx
var ButtonWidget = __webpack_require__(79211);
// EXTERNAL MODULE: ./src/components/widgets/OptionalTooltip.tsx
var OptionalTooltip = __webpack_require__(86992);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardButton.tsx
function DashboardButton(props){var{service}=props;var{0:pressed,1:setPressed}=(0,react.useState)(false);var analogRegister=(0,useRegister/* default */.Z)(service,constants/* ButtonReg.Analog */.CP7.Analog);var analog=(0,useRegisterValue/* useRegisterBoolValue */.I8)(analogRegister);// don't track reading, use events only
var downEvent=(0,useEvent/* default */.Z)(service,constants/* ButtonEvent.Down */.XKP.Down);var upEvent=(0,useEvent/* default */.Z)(service,constants/* ButtonEvent.Up */.XKP.Up);(0,react.useEffect)(()=>downEvent.subscribe(constants/* EVENT */.Ks0,()=>setPressed(true)),[downEvent]);(0,react.useEffect)(()=>upEvent.subscribe(constants/* EVENT */.Ks0,()=>setPressed(false)),[upEvent]);if(!analog)return/*#__PURE__*/react.createElement(BinaryButton,Object.assign({},props,{pressed:pressed}));else return/*#__PURE__*/react.createElement(AnalogButton,Object.assign({},props,{pressed:pressed}));}function BinaryButton(props){var{service,pressed}=props;var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var label="button "+(pressed?"down":"up");var handleDown=()=>server===null||server===void 0?void 0:server.down();var handleUp=()=>server===null||server===void 0?void 0:server.up();var widgetSize="clamp(3rem, 10vw, 10vh)";return/*#__PURE__*/react.createElement(OptionalTooltip/* default */.Z,{title:!server?"Use the physical button!":undefined},/*#__PURE__*/react.createElement(ButtonWidget/* default */.Z,{checked:!!pressed,color:color,onDown:server?handleDown:undefined,onUp:server?handleUp:undefined,label:label,size:widgetSize}));}var ACTIVE_SPEED=0.05;var INACTIVE_SPEED=0.1;var LABEL_PRECISION=2;function AnalogButton(props){var{service,pressed,visible}=props;var{mixins}=service;var pressureRegister=(0,useRegister/* default */.Z)(service,constants/* ButtonReg.Pressure */.CP7.Pressure);var[pressure]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(pressureRegister,{visible});// find threshold if any
var thresholdRegister=(0,react.useMemo)(()=>{var _mixins$find;return(_mixins$find=mixins.find(cfg=>!!cfg.register(constants/* SystemReg.ActiveThreshold */.ZJq.ActiveThreshold)))===null||_mixins$find===void 0?void 0:_mixins$find.register(constants/* SystemReg.ActiveThreshold */.ZJq.ActiveThreshold);},[service]);var[threshold]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(thresholdRegister,{visible});var widgetSize="clamp(3rem, 10vw, 10vh)";var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var label="button pressure "+(0,utils/* roundWithPrecision */.JI)(pressure,LABEL_PRECISION);var{background,controlBackground,active}=(0,useWidgetTheme/* default */.Z)(color);var{0:down,1:setDown}=(0,react.useState)(false);var handleDown=()=>{setDown(true);};var handleUp=()=>{setDown(false);};var buttonProps=(0,useSvgButtonProps/* default */.Z)(label,server&&handleDown,server&&handleUp);(0,useAnimationFrame/* default */.Z)(()=>{if(!server)return false;var[p]=server.reading.values();var keepAnimating=true;if(down){if(p>1-ACTIVE_SPEED){server.reading.setValues([1]);keepAnimating=false;}else server.reading.setValues([p+ACTIVE_SPEED]);}else{if(p<INACTIVE_SPEED){server.reading.setValues([0]);keepAnimating=false;}else server.reading.setValues([p-INACTIVE_SPEED]);}server.reading.sendGetAsync();// refresh ui
return keepAnimating;},[down]);var w=64;var mo=pressed?3:5;var r=w/2;var cx=r;var cy=r;var rp=r-mo;var ri=rp-mo;var ps=mo;var range=360;/*
        {buttonVariant === AnalogButtonVariant.Capacitive && <path transform={`translate(20,20)`} aria-hidden={true}
            pointerEvents="none"
            style={{ userSelect: "none" }}
            fill={background}
            d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path>}
            */return/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,size:widgetSize},/*#__PURE__*/react.createElement("rect",{x:0,y:0,rx:2,ry:2,width:w,height:w,fill:background}),pressure&&/*#__PURE__*/react.createElement("path",{d:(0,svgutils/* describeArc */.x8)(cx,cy,rp,0,pressure*range),stroke:active,strokeLinecap:"round",strokeWidth:ps}),threshold!==undefined&&/*#__PURE__*/react.createElement("circle",{cx:cx,cy:mo,r:mo/3,"aria-label":"active threshold "+(0,utils/* roundWithPrecision */.JI)(threshold,LABEL_PRECISION),fill:controlBackground,transform:"rotate("+range*threshold+", "+cx+", "+cy+")"}),/*#__PURE__*/react.createElement("circle",Object.assign({cx:cx,cy:cy,r:ri,fill:pressed?active:controlBackground},buttonProps)));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardRotaryEncoder.tsx
function DashboardRotaryEncoder(props){var{service}=props;var positionRegister=(0,useRegister/* default */.Z)(service,constants/* RotaryEncoderReg.Position */.$v5.Position);var[position=0]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(positionRegister,props);var clicksPerTurnRegister=(0,useRegister/* default */.Z)(service,constants/* RotaryEncoderReg.ClicksPerTurn */.$v5.ClicksPerTurn);var[clicksPerTurn=12]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(clicksPerTurnRegister,props);var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var{background,controlBackground,active,textProps}=(0,useWidgetTheme/* default */.Z)(color);var label=""+position;var widgetSize="clamp(6rem, 15vw, 15vh)";var w=37.794;var r=0.06;var fs=Math.max(0.2,0.5-label.length*0.1);var handleChange=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(ev,newValue){server===null||server===void 0?void 0:server.reading.setValues([newValue]);positionRegister.refresh();clicksPerTurnRegister.refresh();});return function handleChange(_x,_x2){return _ref.apply(this,arguments);};}();var throttled=(0,useThrottledValue/* default */.Z)(position,clicksPerTurn,1.5);var angle=throttled/clicksPerTurn*360;var range=Math.abs(Math.round(position/clicksPerTurn));var min=(-range-1)*clicksPerTurn;var max=(range+1)*clicksPerTurn;var marks=[{value:0}];return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,direction:"column"},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{title:"rotary encoder at position "+position,size:widgetSize,width:w,height:w,viewBox:"0 0 1 1"},/*#__PURE__*/react.createElement("g",{transform:"rotate("+angle+", 0.5, 0.5)"},/*#__PURE__*/react.createElement("path",{fill:background,d:"M.67.029a.037.037 0 01-.072-.02A.5.5 0 00.538 0a.037.037 0 01-.075 0 .5.5 0 00-.061.008.038.038 0 01-.073.02.5.5 0 00-.056.025.037.037 0 01-.064.04A.5.5 0 00.16.13.037.037 0 01.11.186a.5.5 0 00-.035.05.037.037 0 01-.035.066.5.5 0 00-.02.058.037.037 0 01-.016.074A.5.5 0 000 .495.037.037 0 01.005.57a.5.5 0 00.013.06.038.038 0 01.025.07.5.5 0 00.028.056.037.037 0 01.043.06.5.5 0 00.042.046.037.037 0 01.058.047.5.5 0 00.053.032.037.037 0 01.069.03.5.5 0 00.059.016.037.037 0 01.074.01.5.5 0 00.062 0 .037.037 0 01.074-.01.5.5 0 00.06-.016.037.037 0 01.068-.03.5.5 0 00.053-.032.037.037 0 01.058-.047.5.5 0 00.042-.045.037.037 0 01.043-.061A.5.5 0 00.957.7.037.037 0 01.982.63.5.5 0 00.995.57.037.037 0 011 .495.5.5 0 00.996.434.038.038 0 01.98.36.5.5 0 00.96.302.037.037 0 01.925.236.5.5 0 00.89.186.037.037 0 01.839.13.5.5 0 00.79.092.037.037 0 01.727.053.5.5 0 00.671.03z"}),/*#__PURE__*/react.createElement("path",{fill:controlBackground,d:"M.1.499a.4.4 0 10.8 0 .4.4 0 10-.8 0z"}),/*#__PURE__*/react.createElement("circle",{cx:0.5,cy:0.19,r:r,fill:active})),/*#__PURE__*/react.createElement("text",Object.assign({x:0.5,y:0.5,fontSize:fs},textProps),label))),server&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Slider/* default */.ZP,{color:color,min:min,max:max,step:1,value:position,valueLabelDisplay:"off",onChange:handleChange,marks:marks})));}
// EXTERNAL MODULE: ./src/components/translations.ts
var translations = __webpack_require__(27761);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardSwitch.tsx
function DashboardSwitch(props){var{service}=props;var labelId=(0,react.useId)();var activeRegister=(0,useRegister/* default */.Z)(service,constants/* SwitchReg.Active */.FNv.Active);var variantRegister=(0,useRegister/* default */.Z)(service,constants/* SwitchReg.Variant */.FNv.Variant);var on=(0,useRegisterValue/* useRegisterBoolValue */.I8)(activeRegister,props);var[switchVariant]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(variantRegister,props);var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var widgetSize="clamp(5em, 25vw, 100%)";var title=!server?"Use the physical switch!":undefined;var handleToggle=()=>{var _server$toggle;return server===null||server===void 0?void 0:(_server$toggle=server.toggle)===null||_server$toggle===void 0?void 0:_server$toggle.call(server);};if(on===undefined)return/*#__PURE__*/react.createElement(DashboardRegisterValueFallback/* default */.Z,{register:activeRegister});switch(switchVariant){case constants/* SwitchVariant.PushButton */.fhu.PushButton:return/*#__PURE__*/react.createElement(OptionalTooltip/* default */.Z,{title:title},/*#__PURE__*/react.createElement(ButtonWidget/* default */.Z,{checked:on,color:color,label:(0,translations.tL)(on?"active":"inactive"),onDown:server&&handleToggle,size:widgetSize}));default:return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement(OptionalTooltip/* default */.Z,{title:title},/*#__PURE__*/react.createElement(Switch/* default */.Z,{"aria-labelledby":labelId,color:color,checked:on,onChange:server&&handleToggle})),/*#__PURE__*/react.createElement("label",{id:labelId},(0,translations.tL)(on?"on":"off")));}}
// EXTERNAL MODULE: ./jacdac-ts/src/servers/gamepadserver.ts
var gamepadserver = __webpack_require__(97684);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardGamepad.tsx
var buttonLabels={[constants/* GamepadButtons.Left */.p69.Left]:"\u25C4",[constants/* GamepadButtons.Up */.p69.Up]:"\u25B2",[constants/* GamepadButtons.Down */.p69.Down]:"\u25BC",[constants/* GamepadButtons.Right */.p69.Right]:"\u25BA"};function decay(value,rate,precision){var nv=value*rate;if(Math.abs(nv)<precision)nv=0;return nv;}function GamepadWidget(props){var{service}=props;var register=(0,useRegister/* default */.Z)(service,constants/* GamepadReg.Direction */.XTX.Direction);var[buttons,x,y]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(register,props);var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var hostValues=()=>{var[,x,y]=server.reading.values();return[x,y];};var onUpdate=(newx,newy)=>{server.updateDirection(newx,newy);register.refresh();};var{active,background,controlBackground}=(0,useWidgetTheme/* default */.Z)(color);var dragSurfaceRef=(0,react.useRef)();var{0:grabbing,1:setGrabbing}=(0,react.useState)(false);var w=40;var w2=w>>1;var cx=w2;var cy=w2;var rp=2;var rc=6;var rj=10;var pw=12;var ph=8;var jx=cx+(x||0)*rj;var jy=cy+(y||0)*rj;var jw=1;var updateGamepadDrag=(x,y)=>{var bounds=dragSurfaceRef.current.getBoundingClientRect();var dx=(x-bounds.left)*(w/bounds.width)-w2;var dy=(y-bounds.top)*(w/bounds.height)-w2;var angle=Math.atan2(dy,dx);var distance=Math.min(Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2)),rj)/rj;var newx=distance*Math.cos(angle);var newy=distance*Math.sin(angle);onUpdate(newx,newy);};var handlePointerDown=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(ev){ev.preventDefault();var circle=ev.target;circle.setPointerCapture(ev.pointerId);setGrabbing(true);updateGamepadDrag(ev.clientX,ev.clientY);});return function handlePointerDown(_x){return _ref.apply(this,arguments);};}();var handlePointerUp=ev=>{ev.preventDefault();var circle=ev.target;circle.releasePointerCapture(ev.pointerId);setGrabbing(false);};var handlePointerMove=/*#__PURE__*/function(){var _ref2=(0,asyncToGenerator/* default */.Z)(function*(ev){ev.preventDefault();if(grabbing)updateGamepadDrag(ev.clientX,ev.clientY);});return function handlePointerMove(_x2){return _ref2.apply(this,arguments);};}();(0,useAnimationFrame/* default */.Z)(()=>{if(!server||grabbing)return false;// let use do its thing
var[ax,ay]=hostValues();var nx=decay(ax,0.95,16);var ny=decay(ay,0.95,16);// async
onUpdate(nx,ny);return nx!==0||ny!==0;},[server,grabbing]);var handleStyle={cursor:grabbing?"grabbing":"grab"};return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement("circle",{ref:dragSurfaceRef,className:"Gamepad-background",cx:cx,cy:cy,r:"16",fill:background}),/*#__PURE__*/react.createElement("rect",{className:"dpad-up",x:"16",y:"6",width:ph,height:pw,rx:rp,fill:buttons&constants/* GamepadButtons.Up */.p69.Up?active:controlBackground}),/*#__PURE__*/react.createElement("rect",{className:"dpad-down",x:"16",y:"22",width:ph,height:pw,rx:rp,fill:buttons&constants/* GamepadButtons.Down */.p69.Down?active:controlBackground}),/*#__PURE__*/react.createElement("rect",{className:"dpad-right",x:"22",y:"16",width:pw,height:ph,ry:rp,fill:buttons&constants/* GamepadButtons.Right */.p69.Right?active:controlBackground}),/*#__PURE__*/react.createElement("rect",{className:"dpad-left",x:"6",y:"16",width:pw,height:ph,ry:rp,fill:buttons&constants/* GamepadButtons.Left */.p69.Left?active:controlBackground}),/*#__PURE__*/react.createElement("circle",{className:"dpad-center",cx:cx,cy:cy,r:rc,fill:controlBackground}),server?/*#__PURE__*/react.createElement("circle",{className:"Gamepad-handle",cx:jx,cy:jy,r:rc,fill:background,stroke:active,strokeWidth:jw,tabIndex:0,role:"button","aria-label":"Gamepad handle","arial-live":"polite",onPointerMove:handlePointerMove,onPointerDown:handlePointerDown,onPointerUp:handlePointerUp,style:handleStyle}):/*#__PURE__*/react.createElement("circle",{className:"Gamepad-handle",cx:jx,cy:jy,r:rc,fill:background,stroke:active,strokeWidth:jw,role:"button","aria-label":"Gamepad handle","arial-live":"polite"}));}function ArcadeButton(props){var{cx,cy,ro,color,pressure,ri,button,server,onRefresh}=props;var{textProps,active,background,controlBackground}=(0,useWidgetTheme/* default */.Z)(color);var checked=(pressure||0)>0;var title=constants/* GamepadButtons */.p69[button];var label=buttonLabels[button]||title[0];var handleDown=server?()=>{server.down(button);//, 0.7)
onRefresh();}:undefined;var handleUp=server?()=>{server.up(button);onRefresh();}:undefined;var buttonProps=(0,useSvgButtonProps/* default */.Z)(title,handleDown,handleUp);return/*#__PURE__*/react.createElement("g",{transform:"translate("+cx+","+cy+")",role:"button","aria-live":"polite","aria-label":"button "+title+" "+(checked?"down":"up")},/*#__PURE__*/react.createElement("circle",{cx:0,cy:0,r:ro,fill:background}),/*#__PURE__*/react.createElement("circle",Object.assign({cx:0,cy:0,r:ri,fill:checked?active:controlBackground},buttonProps),/*#__PURE__*/react.createElement("title",null,title)),/*#__PURE__*/react.createElement("text",Object.assign({cx:0,cy:0,fontSize:ri},textProps),label));}function DashboardGamepad(props){var{service}=props;var variantRegister=(0,useRegister/* default */.Z)(service,constants/* GamepadReg.Variant */.XTX.Variant);var[variant]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(variantRegister,props);var buttonsAvailableRegister=(0,useRegister/* default */.Z)(service,constants/* GamepadReg.ButtonsAvailable */.XTX.ButtonsAvailable);var[buttonsAvailable]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(buttonsAvailableRegister,props);// if variant is not specific, infer from buttons
if(variant===undefined){if(buttonsAvailable&gamepadserver/* GAMEPAD_GAMEPAD_EXTRA_BUTTONS */.su)variant=constants/* GamepadVariant.Gamepad */.OIc.Gamepad;else if(!buttonsAvailable||buttonsAvailable===constants/* GamepadButtons.A */.p69.A)variant=constants/* GamepadVariant.Thumb */.OIc.Thumb;}var directionRegister=(0,useRegister/* default */.Z)(service,constants/* GamepadReg.Direction */.XTX.Direction);var[buttons]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(directionRegister,props);var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var{background}=(0,useWidgetTheme/* default */.Z)(color);// buttonsAvailable should be defined by now
var analog=!(buttonsAvailable&gamepadserver/* GAMEPAD_DPAD_BUTTONS */._i);var hasABButtons=!!(buttonsAvailable&(constants/* GamepadButtons.A */.p69.A|constants/* GamepadButtons.B */.p69.B));var w=256;var h=128;var cw=w/12;var ch=h/4;var ro=cw-2;var ri=ro-4;var sro=ro-10;var sri=sro-2;var scy=sro;var pos=(0,react.useMemo)(()=>[{id:constants/* GamepadButtons.Left */.p69.Left,cx:cw*1.5,cy:2*ch,small:false},{id:constants/* GamepadButtons.Up */.p69.Up,cx:cw*3,cy:ch,small:false},{id:constants/* GamepadButtons.Right */.p69.Right,cx:cw*4.5,cy:2*ch,small:false},{id:constants/* GamepadButtons.Down */.p69.Down,cx:cw*3,cy:3*ch,small:false},{id:constants/* GamepadButtons.A */.p69.A,cx:cw*10.5,cy:ch*1.25,small:false},{id:constants/* GamepadButtons.B */.p69.B,cx:cw*9.5,cy:ch*2.75,small:false},{id:constants/* GamepadButtons.X */.p69.X,cx:cw*8.5,cy:ch*0.75,small:false},{id:constants/* GamepadButtons.Y */.p69.Y,cx:cw*7.5,cy:ch*2.25,small:false},{id:constants/* GamepadButtons.Menu */.p69.Menu,cx:cw*6,cy:scy,small:true},{id:constants/* GamepadButtons.Select */.p69.Select,cx:cw*5,cy:scy,small:true},{id:constants/* GamepadButtons.Exit */.p69.Exit,cx:cw*7,cy:scy,small:true},{id:constants/* GamepadButtons.Reset */.p69.Reset,cx:cw*8,cy:scy,small:true}].filter(p=>!!(p.id&buttonsAvailable)),[buttonsAvailable]);var handleRefresh=/*#__PURE__*/function(){var _ref3=(0,asyncToGenerator/* default */.Z)(function*(){return yield directionRegister.refresh();});return function handleRefresh(){return _ref3.apply(this,arguments);};}();var abx=cw*8+1;var aby=ch*3+4;var abr=cw/2;var abw=cw*5-6;var padcx=3*cw;var padcy=2*ch;var padr=2.6*cw;// need button info
if(buttonsAvailable===undefined)return/*#__PURE__*/react.createElement(DashboardRegisterValueFallback/* default */.Z,{register:buttonsAvailableRegister});return/*#__PURE__*/react.createElement(OptionalTooltip/* default */.Z,{title:!server?"Use the physical Gamepad!":undefined},/*#__PURE__*/react.createElement(SvgWidget/* default */.Z,{width:w,height:h},!analog&&/*#__PURE__*/react.createElement("circle",{cx:padcx,cy:padcy,r:padr,fill:"none",stroke:background,strokeWidth:4}),analog&&/*#__PURE__*/react.createElement("g",{transform:"scale("+padr/16+") translate("+-1.8+","+-1.8+")"},/*#__PURE__*/react.createElement(GamepadWidget,props)),hasABButtons&&/*#__PURE__*/react.createElement("rect",{transform:"rotate(-66, "+abx+", "+aby+")",x:abx,y:aby,rx:abr,ry:abr,width:abw,height:cw*2.2,fill:"none",stroke:background,strokeWidth:4}),pos.map(_ref4=>{var{id,cx,cy,small}=_ref4;return/*#__PURE__*/react.createElement(ArcadeButton,{key:id,cx:cx,cy:cy,ro:small?sro:ro,ri:small?sri:ri,button:id,server:server,onRefresh:handleRefresh,pressure:buttons&id?1:0,color:color});})));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardServiceWidget.tsx
// bundled
// lazy devices
var DashboardServo=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6301).then(__webpack_require__.bind(__webpack_require__, 36301)));var DashboardAccelerometer=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(7327)]).then(__webpack_require__.bind(__webpack_require__, 97327)));var DashboardBuzzer=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(317), __webpack_require__.e(9797)]).then(__webpack_require__.bind(__webpack_require__, 99797)));var DashboardLED=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(317), __webpack_require__.e(3818)]).then(__webpack_require__.bind(__webpack_require__, 13818)));var DashboardLEDStrip=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(5913)]).then(__webpack_require__.bind(__webpack_require__, 95913)));var DashboardLEDSingle=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(815)]).then(__webpack_require__.bind(__webpack_require__, 70815)));var DashboardRoleManager=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(195)]).then(__webpack_require__.bind(__webpack_require__, 40195)));var DashboardTrafficLight=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 988).then(__webpack_require__.bind(__webpack_require__, 10988)));var DashboardCharacterScreen=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 5959).then(__webpack_require__.bind(__webpack_require__, 85959)));var DashboardCursorCharacterScreen=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 9287).then(__webpack_require__.bind(__webpack_require__, 59287)));var DashboardBrailleDisplay=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 7953).then(__webpack_require__.bind(__webpack_require__, 77953)));var DashboardRainGauge=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6329).then(__webpack_require__.bind(__webpack_require__, 16329)));var DashboardDotMatrix=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 5937).then(__webpack_require__.bind(__webpack_require__, 15937)));var DashboardWindDirection=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8685).then(__webpack_require__.bind(__webpack_require__, 68685)));var DashboardMatrixKeypad=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6760).then(__webpack_require__.bind(__webpack_require__, 36760)));var DashboardReflectedLight=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 1560).then(__webpack_require__.bind(__webpack_require__, 1560)));var DashboardPower=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(4225)]).then(__webpack_require__.bind(__webpack_require__, 94225)));var DashboardSpeechSynthesis=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 579).then(__webpack_require__.bind(__webpack_require__, 20579)));var DashboardSoilMoisture=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 1914).then(__webpack_require__.bind(__webpack_require__, 81914)));var DashboardRealTimeClock=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 5457).then(__webpack_require__.bind(__webpack_require__, 15457)));var DashboardSatNav=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 248).then(__webpack_require__.bind(__webpack_require__, 40248)));var DashboardSevenSegmentDisplay=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 9253).then(__webpack_require__.bind(__webpack_require__, 69253)));var DashboardMotion=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 4177).then(__webpack_require__.bind(__webpack_require__, 44177)));var DashboardWaterLevel=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 3656).then(__webpack_require__.bind(__webpack_require__, 53656)));var DashboardColor=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8827).then(__webpack_require__.bind(__webpack_require__, 28827)));var DashboardSoundPlayer=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(5137)]).then(__webpack_require__.bind(__webpack_require__, 65137)));var DashboardSoundLevel=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(2866)]).then(__webpack_require__.bind(__webpack_require__, 93111)));var DashboardSoundSpectrum=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(4556)]).then(__webpack_require__.bind(__webpack_require__, 54556)));var DashboardRandomNumberGenerator=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6192).then(__webpack_require__.bind(__webpack_require__, 86192)));var DashboardCompass=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 3389).then(__webpack_require__.bind(__webpack_require__, 33389)));var DashboardGyroscope=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(3737), __webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(2532)]).then(__webpack_require__.bind(__webpack_require__, 32532)));var DashboardSolenoid=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6076).then(__webpack_require__.bind(__webpack_require__, 16076)));var DashboardBitRadio=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 2125).then(__webpack_require__.bind(__webpack_require__, 22125)));var DashboardHIDKeyboard=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8519).then(__webpack_require__.bind(__webpack_require__, 88519)));var DashboardHIDMouse=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6370).then(__webpack_require__.bind(__webpack_require__, 76370)));var DashboardHIDJoystick=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(4990)]).then(__webpack_require__.bind(__webpack_require__, 84990)));var DashboardCloudConfiguration=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(1471)]).then(__webpack_require__.bind(__webpack_require__, 41471)));var DashboardWifi=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(8253)]).then(__webpack_require__.bind(__webpack_require__, 88253)));var DashboardVibrationMotor=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(2209)]).then(__webpack_require__.bind(__webpack_require__, 12209)));var DashboardCODALMessageBus=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8821).then(__webpack_require__.bind(__webpack_require__, 8821)));var DashboardRelay=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 3111).then(__webpack_require__.bind(__webpack_require__, 73111)));var DashboardGPIO=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(317), __webpack_require__.e(1366)]).then(__webpack_require__.bind(__webpack_require__, 51366)));var DashboardLightBulb=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 9800).then(__webpack_require__.bind(__webpack_require__, 89800)));var DashboardDeviceScriptManager=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(6775)]).then(__webpack_require__.bind(__webpack_require__, 56775)));var DashboardCloudAdapter=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(317), __webpack_require__.e(4537)]).then(__webpack_require__.bind(__webpack_require__, 24537)));var DashboardPlanarPosition=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 1583).then(__webpack_require__.bind(__webpack_require__, 6812)));var DashboardSerial=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 1056).then(__webpack_require__.bind(__webpack_require__, 61056)));var DashboardRos=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 3664).then(__webpack_require__.bind(__webpack_require__, 23664)));var DashboardIndexedScreen=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8794).then(__webpack_require__.bind(__webpack_require__, 18794)));// icons
var PowerSettingsNewIcon=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 9858).then(__webpack_require__.bind(__webpack_require__, 39858)));var MusicNoteIcon=/*#__PURE__*/(0,react.lazy)(()=>Promise.resolve(/* import() */).then(__webpack_require__.bind(__webpack_require__, 64362)));var AppsIcon=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 4492).then(__webpack_require__.bind(__webpack_require__, 94492)));var SensorsIcon=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 1671).then(__webpack_require__.bind(__webpack_require__, 71671)));var MemoryIcon=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 6895).then(__webpack_require__.bind(__webpack_require__, 6895)));var CloudQueueIcon=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 9418).then(__webpack_require__.bind(__webpack_require__, 39418)));var SerialIcon=/*#__PURE__*/(0,react.lazy)(()=>Promise.resolve(/* import() */).then(__webpack_require__.bind(__webpack_require__, 67752)));var serviceViews={[constants/* SRV_ROLE_MANAGER */.igi]:{component:DashboardRoleManager,weight:()=>2},[constants/* SRV_BUZZER */.J1$]:{component:DashboardBuzzer,weight:()=>4,expandable:true,icon:MusicNoteIcon},[constants/* SRV_LED_STRIP */.w1B]:{component:DashboardLEDStrip,weight:()=>3,expandable:true},[constants/* SRV_INDEXED_SCREEN */.BEb]:{component:DashboardIndexedScreen,weight:()=>3,expandable:true},[constants/* SRV_LED */.i04]:{component:DashboardLED,weight:()=>3,expandable:true},[constants/* SRV_ACCELEROMETER */.QF7]:{component:DashboardAccelerometer,weight:()=>3,expandable:true},[constants/* SRV_ROTARY_ENCODER */.lNp]:{component:DashboardRotaryEncoder,bundled:true,weight:()=>2},[constants/* SRV_BUTTON */.XJR]:{component:DashboardButton,bundled:true},[constants/* SRV_SERVO */.$X_]:{component:DashboardServo},[constants/* SRV_SWITCH */.Crg]:{component:DashboardSwitch,bundled:true},[constants/* SRV_TRAFFIC_LIGHT */.jHN]:{component:DashboardTrafficLight},[constants/* SRV_CHARACTER_SCREEN */.IB4]:{component:DashboardCharacterScreen,weight:()=>3,expandable:true},[constants/* SRV_CURSOR_CHARACTER_SCREEN */.pZj]:{component:DashboardCursorCharacterScreen,weight:()=>3,expandable:true},[constants/* SRV_BRAILLE_DISPLAY */.IvW]:{component:DashboardBrailleDisplay,weight:()=>2,expandable:true},[constants/* SRV_RAIN_GAUGE */.NnQ]:{component:DashboardRainGauge},[constants/* SRV_DOT_MATRIX */.GDq]:{component:DashboardDotMatrix,weight:()=>3,expandable:true,icon:AppsIcon},[constants/* SRV_WIND_DIRECTION */.M$m]:{component:DashboardWindDirection},[constants/* SRV_MATRIX_KEYPAD */.UB9]:{component:DashboardMatrixKeypad},[constants/* SRV_REFLECTED_LIGHT */.tky]:{component:DashboardReflectedLight},[constants/* SRV_POWER */.mQG]:{component:DashboardPower,expandable:true,icon:PowerSettingsNewIcon},[constants/* SRV_SPEECH_SYNTHESIS */.ydR]:{component:DashboardSpeechSynthesis},[constants/* SRV_SOIL_MOISTURE */.Bj3]:{component:DashboardSoilMoisture},[constants/* SRV_REAL_TIME_CLOCK */.XXX]:{component:DashboardRealTimeClock,expandable:true},[constants/* SRV_SAT_NAV */.kd3]:{component:DashboardSatNav},[constants/* SRV_LED_SINGLE */.k$K]:{component:DashboardLEDSingle},[constants/* SRV_GAMEPAD */.fNW]:{component:DashboardGamepad,bundled:true,weight:()=>3},[constants/* SRV_SEVEN_SEGMENT_DISPLAY */.hvg]:{component:DashboardSevenSegmentDisplay,expandable:true},[constants/* SRV_MOTION */.yRl]:{component:DashboardMotion},[constants/* SRV_WATER_LEVEL */.Szz]:{component:DashboardWaterLevel},[constants/* SRV_COLOR */.Coy]:{component:DashboardColor,weight:()=>1},[constants/* SRV_SOUND_PLAYER */.OrM]:{component:DashboardSoundPlayer,weight:()=>1,expandable:true,icon:MusicNoteIcon},[constants/* SRV_SOUND_LEVEL */.GvX]:{component:DashboardSoundLevel,expandable:true},[constants/* SRV_RNG */.NMZ]:{component:DashboardRandomNumberGenerator},[constants/* SRV_COMPASS */.JTB]:{component:DashboardCompass},[constants/* SRV_GYROSCOPE */.R0$]:{component:DashboardGyroscope,weight:()=>3,expandable:true},[constants/* SRV_SOUND_SPECTRUM */.vsp]:{component:DashboardSoundSpectrum,weight:()=>2},[constants/* SRV_SOLENOID */.b68]:{component:DashboardSolenoid},[constants/* SRV_BIT_RADIO */.BYF]:{component:DashboardBitRadio,weight:()=>4,expandable:true,icon:SensorsIcon},[constants/* SRV_SERIAL */.DEy]:{component:DashboardSerial,weight:()=>2,icon:SerialIcon},[constants/* SRV_ROS */.YLZ]:{component:DashboardRos,expandable:true,weight:()=>4},[constants/* SRV_HID_KEYBOARD */.Hg9]:{component:DashboardHIDKeyboard,weight:()=>4,expandable:true},[constants/* SRV_HID_MOUSE */.Eef]:{component:DashboardHIDMouse,weight:()=>2},[constants/* SRV_HID_JOYSTICK */.vyo]:{component:DashboardHIDJoystick,weight:()=>2},[constants/* SRV_CLOUD_CONFIGURATION */.MW3]:{component:DashboardCloudConfiguration,weight:()=>2},[constants/* SRV_WIFI */.zti]:{component:DashboardWifi,weight:()=>4},[constants/* SRV_VIBRATION_MOTOR */.X8d]:{component:DashboardVibrationMotor,weight:()=>3},[constants/* SRV_CODAL_MESSAGE_BUS */.$6j]:{component:DashboardCODALMessageBus,weight:()=>2},[constants/* SRV_RELAY */.E4D]:{component:DashboardRelay},[constants/* SRV_GPIO */.xXh]:{component:DashboardGPIO,weight:()=>4},[constants/* SRV_LIGHT_BULB */.yWt]:{component:DashboardLightBulb},[constants/* SRV_PLANAR_POSITION */.T4d]:{component:DashboardPlanarPosition,weight:()=>1},[constants/* SRV_DEVICE_SCRIPT_MANAGER */.I5]:{component:DashboardDeviceScriptManager,expandable:true,icon:MemoryIcon},[constants/* SRV_CLOUD_ADAPTER */.Iin]:{component:DashboardCloudAdapter,weight:()=>4,expandable:true,icon:CloudQueueIcon}};function isExpandableView(serviceClass){var _serviceViews$service;return!!((_serviceViews$service=serviceViews[serviceClass])!==null&&_serviceViews$service!==void 0&&_serviceViews$service.expandable);}function hasServiceView(serviceClass){return!!serviceViews[serviceClass];}function DashboardServiceWidget(props){var{service}=props;var{specification}=service;var{component,bundled}=serviceViews[specification.classIdentifier]||{};var server=(0,useServiceServer/* default */.Z)(service);var color=server?"secondary":"primary";var useFwdWidget=hasCustomFwdWidget(service.device);// for FwdEdu widgets that replace Default widgets
if(useFwdWidget)return/*#__PURE__*/(0,react.createElement)(FwdEduSubstituteWidget,props);// no special support
if(!component)return/*#__PURE__*/(0,react.createElement)(DashboardServiceDefaultWidget,props);// precompiled
if(bundled)return/*#__PURE__*/(0,react.createElement)(component,props);// lazy loading
return/*#__PURE__*/react.createElement(Suspense/* default */.Z,{fallback:/*#__PURE__*/react.createElement(CircularProgress/* default */.Z,{"aria-label":"loading...",color:color,disableShrink:true,variant:"indeterminate",size:"1rem"})},/*#__PURE__*/(0,react.createElement)(component,props));}function dashboardServiceWeight(service){var _view$weight;var view=serviceViews[service.serviceClass];return view===null||view===void 0?void 0:(_view$weight=view.weight)===null||_view$weight===void 0?void 0:_view$weight.call(view,service);}function dashboardServiceIcon(serviceClass){var _serviceViews$service2;return(_serviceViews$service2=serviceViews[serviceClass])===null||_serviceViews$service2===void 0?void 0:_serviceViews$service2.icon;}
// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(2658);
// EXTERNAL MODULE: ./src/components/services/useStatusCode.ts
var useStatusCode = __webpack_require__(71612);
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/dist/specconstants.ts
var specconstants = __webpack_require__(36807);
// EXTERNAL MODULE: ./jacdac-ts/jacdac-spec/spectool/jdspec.ts
var jdspec = __webpack_require__(18763);
// EXTERNAL MODULE: ./src/components/ui/Alert.tsx
var Alert = __webpack_require__(46259);
;// CONCATENATED MODULE: ./src/components/services/StatusCodeAlert.tsx
var StatusCodeAlert_excluded=["service"];var codes={[specconstants/* SRV_WIFI */.zti]:{[specconstants/* SystemStatusCodes.WaitingForInput */._kj.WaitingForInput]:()=>"Waiting for WiFi credentials."}};var severities={[specconstants/* SystemStatusCodes.Sleeping */._kj.Sleeping]:"info",[specconstants/* SystemStatusCodes.Initializing */._kj.Initializing]:"info",[specconstants/* SystemStatusCodes.Calibrating */._kj.Calibrating]:"info"};function StatusCodeAlert(props){var _codes$serviceClass,_codes$serviceClass$c;var{service}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,StatusCodeAlert_excluded);var{serviceClass}=service;var{code,vendorCode}=(0,useStatusCode/* default */.Z)(service,rest);if((code===specconstants/* SystemStatusCodes.Ready */._kj.Ready||code===specconstants/* SystemStatusCodes.Sleeping */._kj.Sleeping||code===specconstants/* SystemStatusCodes.Initializing */._kj.Initializing)&&vendorCode===0)return null;var severity=severities[code]||"warning";return/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:severity},!!code&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption"},(0,jdspec/* humanify */.lW)(((_codes$serviceClass=codes[serviceClass])===null||_codes$serviceClass===void 0?void 0:(_codes$serviceClass$c=_codes$serviceClass[code])===null||_codes$serviceClass$c===void 0?void 0:_codes$serviceClass$c.call(_codes$serviceClass,service))||specconstants/* SystemStatusCodes */._kj[code]||"?")),!!vendorCode&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption"},"vendor error: 0x",vendorCode.toString(16)));}
// EXTERNAL MODULE: ./node_modules/@mui/material/Tooltip/Tooltip.js + 58 modules
var Tooltip = __webpack_require__(27304);
// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js
var styled = __webpack_require__(90948);
// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules
var Button = __webpack_require__(76914);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/pretty.ts
var pretty = __webpack_require__(34743);
// EXTERNAL MODULE: ./src/components/services/useRoleManagerClient.ts
var useRoleManagerClient = __webpack_require__(23239);
// EXTERNAL MODULE: ./src/jacdac/useEventRaised.ts
var useEventRaised = __webpack_require__(88286);
;// CONCATENATED MODULE: ./src/components/services/useServiceRole.ts
function useServiceRole(service){return (0,useEventRaised/* default */.Z)(constants/* ROLE_CHANGE */.X5h,service,_=>_===null||_===void 0?void 0:_.role);}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/rolemanager.ts
var rolemanager = __webpack_require__(97031);
;// CONCATENATED MODULE: ./src/components/services/ServiceRole.tsx
var SelectRoleDialog=/*#__PURE__*/(0,react.lazy)(()=>Promise.all(/* import() */[__webpack_require__.e(9351), __webpack_require__.e(317), __webpack_require__.e(4097)]).then(__webpack_require__.bind(__webpack_require__, 64097)));var MAX_NAME_LENGTH=20;var RoleButton=(0,styled/* default */.ZP)(Button/* default */.Z)({textTransform:"none"});function ServiceRole(props){var{service}=props;var{0:showSelectRoleDialog,1:setShowSelectRoleDialog}=(0,react.useState)(false);var roleManager=(0,useRoleManagerClient/* default */.Z)();var role=useServiceRole(service);var handleOpen=()=>setShowSelectRoleDialog(true);var handleClose=()=>setShowSelectRoleDialog(false);var hasRoleForService=(0,useChange/* default */.Z)(roleManager,_=>_===null||_===void 0?void 0:_.hasRoleForService(service),[service]);// hide if no role manager or role not compatible with required roles
if(!hasRoleForService)return null;var name=(0,pretty/* isDeviceId */.fo)(role)?(0,pretty/* shortDeviceId */.xV)(role):(0,utils/* ellipse */.hr)((0,rolemanager/* escapeRoleName */.Z1)(role),MAX_NAME_LENGTH)||"...";return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement(RoleButton,{title:role||"Choose role for service",size:"small",onClick:handleOpen},name),showSelectRoleDialog&&/*#__PURE__*/react.createElement(Suspense/* default */.Z,null,/*#__PURE__*/react.createElement(SelectRoleDialog,{service:service,onClose:handleClose})));}
// EXTERNAL MODULE: ./src/components/services/useInstanceName.ts
var useInstanceName = __webpack_require__(28709);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Edit.js
var Edit = __webpack_require__(77957);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardServiceWidgetItemHeader.tsx
var DashboardServiceWidgetItemHeader_excluded=["service","expanded","toggleExpanded"];function DashboardServiceWidgetItemHeader(props){var{service,expanded,toggleExpanded}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,DashboardServiceWidgetItemHeader_excluded);var{serviceClass}=service;var instanceName=(0,useInstanceName/* default */.Z)(service,rest);var icon=dashboardServiceIcon(serviceClass);var iconProps={titleAccess:(0,pretty/* serviceName */.HV)(serviceClass),color:"disabled"};return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,spacing:1,alignItems:"center"},icon&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Tooltip/* default */.Z,{title:(0,pretty/* serviceName */.HV)(serviceClass)},/*#__PURE__*/react.createElement(react.Suspense,{fallback:null},/*#__PURE__*/(0,react.createElement)(icon,iconProps)))),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:true},/*#__PURE__*/react.createElement(ServiceRole,{service:service})),instanceName&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Typography/* default */.Z,{className:"no-pointer-events",variant:"caption",component:"span",style:{float:"right"}},instanceName)),expanded!==undefined&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{size:"small",title:expanded?"Hide configuration":"Show configuration",onClick:toggleExpanded},/*#__PURE__*/react.createElement(Edit/* default */.Z,null)))));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardServiceWidgetItem.tsx
var DashboardServiceWidgetItem_excluded=["service","controlled"];function DashboardServiceWidgetItem(props){var{service,controlled}=props,rest=(0,objectWithoutPropertiesLoose/* default */.Z)(props,DashboardServiceWidgetItem_excluded);var{serviceClass}=service;var expandable=props.expandable||isExpandableView(serviceClass);var{0:expanded,1:setExpanded}=(0,react.useState)(!controlled&&expandable?false:undefined);var statusCodeAlert=/*#__PURE__*/react.createElement(StatusCodeAlert,Object.assign({service:service},rest));var toggleExpanded=()=>setExpanded(e=>!e);(0,react.useEffect)(()=>{setExpanded(!controlled&&expandable?false:undefined);},[controlled,expandable]);return/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true},/*#__PURE__*/react.createElement(DashboardServiceWidgetItemHeader,Object.assign({},props,{expanded:expanded,toggleExpanded:toggleExpanded})),statusCodeAlert,/*#__PURE__*/react.createElement(DashboardServiceWidget,Object.assign({},props,{expanded:expanded})));}
// EXTERNAL MODULE: ./src/components/devices/useDeviceName.ts
var useDeviceName = __webpack_require__(83100);
;// CONCATENATED MODULE: ./src/components/hooks/useIntersectionObserver.ts
function useIntersectionObserver(elementRef,options){var{0:entry,1:setEntry}=(0,react.useState)();var{threshold=0,root=null,rootMargin="0%",freezeOnceVisible}=options||{};var frozen=(entry===null||entry===void 0?void 0:entry.isIntersecting)&&freezeOnceVisible;var updateEntry=_ref=>{var[entry]=_ref;setEntry(entry);};(0,react.useEffect)(()=>{var node=elementRef===null||elementRef===void 0?void 0:elementRef.current;// DOM Ref
var hasIOSupport=!!window.IntersectionObserver;if(!hasIOSupport||frozen||!node)return;var observerParams={threshold,root,rootMargin};var observer=new IntersectionObserver(updateEntry,observerParams);//console.log(`observe`, { node })
observer.observe(node);return()=>observer.disconnect();},[elementRef,threshold,root,rootMargin,frozen]);return entry;}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/eventsource.ts
var eventsource = __webpack_require__(53304);
;// CONCATENATED MODULE: ./src/components/alert/DeviceLostAlert.tsx
function DeviceLostAlert(props){var{device}=props;var lost=(0,useEventRaised/* default */.Z)([constants/* LOST */.XWw,constants/* FOUND */.a6y],device,dev=>!!(dev!==null&&dev!==void 0&&dev.lost));var flashing=(0,useChange/* default */.Z)(device,_=>(_===null||_===void 0?void 0:_.bootloader)||!!(_!==null&&_!==void 0&&_.firmwareUpdater));if(!lost||flashing)return null;return/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:"info"},"Device lost...");}
// EXTERNAL MODULE: ./node_modules/@mui/material/CardHeader/CardHeader.js + 1 modules
var CardHeader = __webpack_require__(18515);
// EXTERNAL MODULE: ./src/components/devices/DeviceName.tsx
var DeviceName = __webpack_require__(9400);
// EXTERNAL MODULE: ./src/components/devices/DeviceAvatar.tsx + 1 modules
var DeviceAvatar = __webpack_require__(30841);
// EXTERNAL MODULE: ./src/components/devices/DeviceActions.tsx
var DeviceActions = __webpack_require__(42714);
// EXTERNAL MODULE: ./src/jacdac/useDeviceDescription.ts
var useDeviceDescription = __webpack_require__(69461);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDeviceCardHeader.tsx
function DashboardDeviceCardHeader(props){var{device,showAvatar,showReset}=props;var description=(0,useDeviceDescription/* default */.Z)(device);return/*#__PURE__*/react.createElement(CardHeader/* default */.Z,{style:{paddingBottom:0},avatar:showAvatar&&/*#__PURE__*/react.createElement(DeviceAvatar/* default */.Z,{device:device}),action:/*#__PURE__*/react.createElement(DeviceActions/* default */.Z,{device:device,showStop:true,hideIdentity:true,showReset:showReset,showSettings:false}),title:/*#__PURE__*/react.createElement(DeviceName/* default */.Z,{showShortId:false,device:device}),subheader:/*#__PURE__*/react.createElement(react.Fragment,null,description&&/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"caption",gutterBottom:true},description))});}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDevice.tsx
var DeviceProxyAlert=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 2717).then(__webpack_require__.bind(__webpack_require__, 62717)));var DeviceBootloaderAlert=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 8204).then(__webpack_require__.bind(__webpack_require__, 78204)));var ignoredServices=[constants/* SRV_CONTROL */.gm9,constants/* SRV_LOGGER */.w9j,constants/* SRV_SETTINGS */.B9b,constants/* SRV_PROTO_TEST */.$Bn,constants/* SRV_PROXY */.Ahc,constants/* SRV_INFRASTRUCTURE */.QWn,constants/* SRV_UNIQUE_BRAIN */.U9t];function DashboardDevice(props){var{device,serviceFilter,variant,showAvatar,showHeader,showReset,showDeviceProxyAlert,alwaysVisible,controlled}=props;var name=(0,useDeviceName/* default */.Z)(device);var services=(0,useChange/* default */.Z)(device,_=>_===null||_===void 0?void 0:_.services({specification:true}).filter(service=>ignoredServices.indexOf(service.serviceClass)<0&&!service.isMixin&&(!serviceFilter||serviceFilter(service))));// refresh when visible
var serviceGridRef=(0,react.useRef)();var intersection=useIntersectionObserver(serviceGridRef);var visible=alwaysVisible||!intersection||!!intersection.isIntersecting;var ServiceWidgets=(0,react.useCallback)(()=>/*#__PURE__*/react.createElement(Grid/* default */.ZP,{ref:serviceGridRef,component:"div",container:true,spacing:2,justifyContent:"center",alignItems:"flex-end",alignContent:"space-between"},services===null||services===void 0?void 0:services.map(service=>/*#__PURE__*/react.createElement(DashboardServiceWidgetItem,{key:service.nodeId,service:service,services:services,variant:variant,visible:visible,controlled:controlled}))),[(0,eventsource/* dependencyId */.BX)(services),variant,visible,controlled]);if(!showHeader)return/*#__PURE__*/react.createElement(Paper/* default */.Z,{style:{padding:"0.25em"},variant:"outlined"},/*#__PURE__*/react.createElement(ServiceWidgets,null));return/*#__PURE__*/react.createElement(Card/* default */.Z,{"aria-live":"polite","aria-label":"device "+name+" started"},/*#__PURE__*/react.createElement(DashboardDeviceCardHeader,{device:device,showAvatar:showAvatar,showReset:showReset}),/*#__PURE__*/react.createElement(CardContent/* default */.Z,{style:{paddingTop:0}},/*#__PURE__*/react.createElement(DeviceLostAlert,{device:device}),/*#__PURE__*/react.createElement(Suspense/* default */.Z,{fallback:null},/*#__PURE__*/react.createElement(DeviceBootloaderAlert,{device:device})),showDeviceProxyAlert&&/*#__PURE__*/react.createElement(Suspense/* default */.Z,null,/*#__PURE__*/react.createElement(DeviceProxyAlert,{device:device})),/*#__PURE__*/react.createElement(ServiceWidgets,null)));}
// EXTERNAL MODULE: ./src/components/AppContext.tsx
var AppContext = __webpack_require__(5355);
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDeviceItem.tsx
var DashboardDeviceItem_excluded=["device"];function DashboardDeviceItem(props){var{device}=props,other=(0,objectWithoutPropertiesLoose/* default */.Z)(props,DashboardDeviceItem_excluded);var{drawerType}=(0,react.useContext)(AppContext/* default */.ZP);var breakpoints=(0,useChange/* default */.Z)(device,()=>{var breakpointWeight=device.services().map(srv=>{return dashboardServiceWeight(srv)||(srv.readingRegister||srv.valueRegister||srv.intensityRegister?1:0);}).reduce((c,v)=>c+v,0);if(breakpointWeight>3||drawerType!==AppContext/* DrawerType.None */.jw.None)return{xs:12,sm:12,md:12,lg:6,xl:6};else if(breakpointWeight==3)return{xs:12,sm:12,md:4,lg:4,xl:4};else if(breakpointWeight==2)return{xs:12,sm:6,md:4,lg:3,xl:4};else return{xs:6,sm:4,md:3,lg:2,xl:"auto"};},[drawerType],(a,b)=>a.xs==b.xs&&a.sm==b.sm&&a.md==b.md&&a.sm==b.sm&&a.lg==b.lg&&a.xl==b.xl);// based on size, expanded or reduce widget size
return/*#__PURE__*/react.createElement(Grid/* default */.ZP,Object.assign({item:true},breakpoints),/*#__PURE__*/react.createElement(DashboardDevice,Object.assign({device:device},other)));}
;// CONCATENATED MODULE: ./src/components/dashboard/DashboardDeviceGroup.tsx
var DashboardDeviceGroup_excluded=["title","action","devices","children"];function DeviceGroup(props){var{title,action,devices,children}=props,other=(0,objectWithoutPropertiesLoose/* default */.Z)(props,DashboardDeviceGroup_excluded);var sectionId=(0,react.useId)();if(!action&&!(devices!==null&&devices!==void 0&&devices.length))return null;return/*#__PURE__*/react.createElement("section",{id:sectionId},/*#__PURE__*/react.createElement(Grid/* default */.ZP,{sx:{mb:1},container:true,spacing:1},/*#__PURE__*/react.createElement(GridHeader/* default */.Z,{title:title,action:action}),children,devices===null||devices===void 0?void 0:devices.map(device=>/*#__PURE__*/react.createElement(DashboardDeviceItem,Object.assign({key:device.id,device:device},other)))));}
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Clear.js
var Clear = __webpack_require__(63343);
// EXTERNAL MODULE: ./src/components/alert/ConnectAlert.tsx
var ConnectAlert = __webpack_require__(78055);
// EXTERNAL MODULE: ./src/components/buttons/ConnectButtons.tsx
var ConnectButtons = __webpack_require__(13456);
// EXTERNAL MODULE: ./jacdac-ts/src/servers/servers.ts + 5 modules
var servers = __webpack_require__(2283);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Add.js
var Add = __webpack_require__(96540);
// EXTERNAL MODULE: ./src/components/SimulatorsDialogContext.tsx
var SimulatorsDialogContext = __webpack_require__(22268);
// EXTERNAL MODULE: ./src/jacdac/useBus.ts
var useBus = __webpack_require__(26040);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/RadioButtonChecked.js
var RadioButtonChecked = __webpack_require__(8857);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Water.js
var Water = __webpack_require__(8433);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/DeviceThermostat.js
var DeviceThermostat = __webpack_require__(38192);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Grass.js
var Grass = __webpack_require__(76750);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/MusicNote.js
var MusicNote = __webpack_require__(64362);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/LinearScale.js
var LinearScale = __webpack_require__(90469);
// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Tungsten.js
var Tungsten = __webpack_require__(48852);
;// CONCATENATED MODULE: ./src/components/alert/SimulateDeviceAlert.tsx
function SimulateDeviceHint(){var bus=(0,useBus/* default */.Z)();var handleStartSimulator=serviceClass=>()=>(0,servers/* startServiceProviderFromServiceClass */.V6)(bus,serviceClass);var{toggleShowDeviceHostsDialog}=(0,react.useContext)(SimulatorsDialogContext/* default */.Z);var handleShowStartSimulator=()=>toggleShowDeviceHostsDialog();return/*#__PURE__*/react.createElement(react.Fragment,null,"Simulate",/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.button",onClick:handleStartSimulator(constants/* SRV_BUTTON */.XJR),title:"button","aria-label":"start button simulator"},/*#__PURE__*/react.createElement(RadioButtonChecked/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.humidity",onClick:handleStartSimulator(constants/* SRV_HUMIDITY */.JbI),title:"humidity","aria-label":"start humidity sensor"},/*#__PURE__*/react.createElement(Water/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.thermometer",onClick:handleStartSimulator(constants/* SRV_TEMPERATURE */.ToE),title:"thermometer","aria-label":"start thermometer"},/*#__PURE__*/react.createElement(DeviceThermostat/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.soilmoisture",onClick:handleStartSimulator(constants/* SRV_SOIL_MOISTURE */.Bj3),title:"soil moisture","aria-label":"start soil moisture simulator"},/*#__PURE__*/react.createElement(Grass/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.buzzer",onClick:handleStartSimulator(constants/* SRV_BUZZER */.J1$),title:"buzzer","aria-label":"start buzzer simulator"},/*#__PURE__*/react.createElement(MusicNote["default"],null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.potentiometer",onClick:handleStartSimulator(constants/* SRV_POTENTIOMETER */.GQv),title:"slider","aria-label":"start slider simulator"},/*#__PURE__*/react.createElement(LinearScale/* default */.Z,null)),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.led",onClick:handleStartSimulator(constants/* SRV_LED */.i04),title:"LED","aria-label":"start LED simulator"},/*#__PURE__*/react.createElement(Tungsten/* default */.Z,null)),"or click \xA0",/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"simulator.hint.start",title:"start simulator",onClick:handleShowStartSimulator},/*#__PURE__*/react.createElement(Add/* default */.Z,null)),".");}function SimulateDeviceAlert(){return/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:"info"},/*#__PURE__*/react.createElement(SimulateDeviceHint,null));}
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/flags.ts
var flags = __webpack_require__(86160);
// EXTERNAL MODULE: ./node_modules/@mui/material/Chip/Chip.js + 2 modules
var Chip = __webpack_require__(90461);
;// CONCATENATED MODULE: ./src/components/buttons/StartSimulatorButton.tsx
function StartSimulatorButton(props){var{trackName,useChip}=props;var{toggleShowDeviceHostsDialog}=(0,react.useContext)(SimulatorsDialogContext/* default */.Z);var handleShowStartSimulator=()=>toggleShowDeviceHostsDialog({trackName});if(useChip)return/*#__PURE__*/react.createElement(Chip/* default */.Z,{label:"simulator",title:(0,translations.tL)("startSimulator"),variant:"outlined",icon:/*#__PURE__*/react.createElement(Add/* default */.Z,null),onClick:handleShowStartSimulator});else return/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{title:(0,translations.tL)("startSimulator"),trackName:trackName,onClick:handleShowStartSimulator},/*#__PURE__*/react.createElement(Add/* default */.Z,null));}
;// CONCATENATED MODULE: ./src/components/dashboard/filters.ts
function defaultDeviceSort(l,r){var srvScore=srv=>srv.packets.reduce((prev,pkt)=>prev+((0,spec/* isReading */.vz)(pkt)?10:(0,spec/* isValueOrIntensity */.sX)(pkt)?1:0),0)||0;var score=srvs=>srvs.reduce((prev,srv)=>srvScore(srv),0);var ls=score(l.services().slice(1).map(srv=>srv.specification).filter(spec=>!!spec));var rs=score(r.services().slice(1).map(srv=>srv.specification).filter(spec=>!!spec));if(ls!==rs)return-ls+rs;return (0,utils/* strcmp */.eT)(l.deviceId,r.deviceId);}// eslint-disable-next-line @typescript-eslint/no-unused-vars
function defaultDeviceFilter(d){return true;}
// EXTERNAL MODULE: ./src/components/HostedSimulatorsContext.tsx
var HostedSimulatorsContext = __webpack_require__(55630);
// EXTERNAL MODULE: ./src/components/buttons/StartMissingSimulatorsButton.tsx
var StartMissingSimulatorsButton = __webpack_require__(98815);
;// CONCATENATED MODULE: ./src/jacdac/useBusWithMode.ts
/**
 * Grabs the Jacdac singleton bus from the current Jacdac context and configures it.
 * Throws an error if bus is missing.
 */function useBusWithMode(options){var{autoConnect,passive,streaming}=options;var bus=(0,useBus/* default */.Z)();// enable auto-connect if needed
(0,react.useEffect)(()=>{var unsubs=[];if(streaming){bus.streaming=true;unsubs.push(()=>{bus.streaming=false;});}if(passive){bus.passive=true;unsubs.push(()=>{bus.passive=false;});}if(autoConnect){bus.autoConnect=true;unsubs.push(()=>{bus.autoConnect=false;});}return()=>unsubs.forEach(unsub=>unsub());},[autoConnect,passive,streaming]);return bus;}
// EXTERNAL MODULE: ./src/components/PacketsContext.tsx
var PacketsContext = __webpack_require__(12457);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.flat-map.js
var es_array_flat_map = __webpack_require__(86535);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.unscopables.flat-map.js
var es_array_unscopables_flat_map = __webpack_require__(99244);
;// CONCATENATED MODULE: ./src/components/devices/DevicePowerChips.tsx
function ServicePowerChip(props){var _humanify;var{service}=props;var allowedRegister=(0,useRegister/* default */.Z)(service,constants/* PowerReg.Allowed */.$xp.Allowed);var powerStatusRegister=(0,useRegister/* default */.Z)(service,constants/* PowerReg.PowerStatus */.$xp.PowerStatus);var allowed=(0,useRegisterValue/* useRegisterBoolValue */.I8)(allowedRegister,{visible:true});var[powerStatus]=(0,useRegisterValue/* useRegisterUnpackedValue */.Pf)(powerStatusRegister,{visible:true});var deviceName=service.device.shortId;if(allowed===undefined||powerStatus===undefined)return null;var off=!allowed;var on=!off&&powerStatus===constants/* PowerPowerStatus.Powering */.p6N.Powering;var status=off?"off":on?"on":(_humanify=(0,jdspec/* humanify */.lW)(constants/* PowerPowerStatus */.p6N[powerStatus]))===null||_humanify===void 0?void 0:_humanify.toLowerCase();return/*#__PURE__*/react.createElement(Chip/* default */.Z,{sx:{mr:0.5},label:status,variant:"outlined",title:deviceName+": power '"+status+"'",avatar:/*#__PURE__*/react.createElement(DeviceAvatar/* default */.Z,{device:service.device})});}function DevicePowerChips(props){var{devices}=props;var powers=devices.flatMap(dev=>dev.services({serviceClass:constants/* SRV_POWER */.mQG}));if(!(powers!==null&&powers!==void 0&&powers.length))return null;return/*#__PURE__*/react.createElement(react.Fragment,null,powers.map(service=>/*#__PURE__*/react.createElement(ServicePowerChip,{key:service.id,service:service})));}
;// CONCATENATED MODULE: ./src/components/dashboard/Dashboard.tsx
var Dashboard_excluded=["hideSimulators","showConnect","showStartSimulators","showStartRoleSimulators","showHeader","showAvatar","showSimulatorHeader","showSimulatorAvatar","showDeviceHeader","showDeviceAvatar","deviceSort","deviceFilter"];// tslint:disable-next-line: no-submodule-imports match-default-export-name
// tslint:disable-next-line: no-submodule-imports match-default-export-name
function Dashboard(props){var{hideSimulators,showConnect,showStartSimulators,showStartRoleSimulators,showHeader,showAvatar,showSimulatorHeader,showSimulatorAvatar,showDeviceHeader,showDeviceAvatar,deviceSort=defaultDeviceSort,deviceFilter=defaultDeviceFilter}=props,other=(0,objectWithoutPropertiesLoose/* default */.Z)(props,Dashboard_excluded);var{tracing}=(0,react.useContext)(PacketsContext/* default */.Z);var bus=useBusWithMode({autoConnect:!tracing});var{isHostedSimulator,clearHostedSimulators}=(0,HostedSimulatorsContext/* default */.ZP)();var devices=(0,useDevices/* default */.Z)({announced:true,ignoreInfrastructure:!flags/* Flags.diagnostics */.v.diagnostics}).filter(deviceFilter).sort(deviceSort);var[simulators,physicals]=(0,utils/* splitFilter */.ap)(devices,d=>!!bus.findServiceProvider(d.deviceId)||isHostedSimulator(d.deviceId));var handleClearSimulators=()=>{clearHostedSimulators();bus.clearServiceProviders();};return/*#__PURE__*/react.createElement(react.Fragment,null,!hideSimulators&&/*#__PURE__*/react.createElement(DeviceGroup,Object.assign({title:(0,translations.tL)("simulators"),action:/*#__PURE__*/react.createElement(react.Fragment,null,showStartRoleSimulators&&/*#__PURE__*/react.createElement(StartMissingSimulatorsButton/* default */.Z,{trackName:"dashboard.simulators.missing",disabledChildren:null},"$",(0,translations.tL)("autoStart")),/*#__PURE__*/react.createElement(StartSimulatorButton,{trackName:"dashboard.simulators.start"}),/*#__PURE__*/react.createElement(IconButtonWithTooltip/* default */.Z,{trackName:"dashboard.simulators.clear",title:(0,translations.tL)("clearSimulators"),onClick:handleClearSimulators},/*#__PURE__*/react.createElement(Clear/* default */.Z,null))," ",/*#__PURE__*/react.createElement(DevicePowerChips,{devices:simulators})),devices:simulators,showHeader:showHeader||showSimulatorHeader,showAvatar:showAvatar||showSimulatorAvatar},other),showStartSimulators&&!(simulators!==null&&simulators!==void 0&&simulators.length)&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(SimulateDeviceAlert,null))),/*#__PURE__*/react.createElement(DeviceGroup,Object.assign({title:(0,translations.tL)("devices"),action:/*#__PURE__*/react.createElement(react.Fragment,null,showConnect&&/*#__PURE__*/react.createElement(ConnectButtons/* default */.Z,{full:"disconnected",transparent:true}),/*#__PURE__*/react.createElement(DevicePowerChips,{devices:physicals})),devices:physicals,showHeader:showHeader||showDeviceHeader,showAvatar:showAvatar||showDeviceAvatar},other),showConnect&&!physicals.length&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(ConnectAlert/* default */.Z,{closeable:true}))));}

/***/ }),

/***/ 47644:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ DashboardRegisterValueFallback; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _jacdac_ts_jacdac_spec_spectool_jdspec__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18763);
/* harmony import */ var _hooks_useServiceServer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(75938);
/* harmony import */ var _ui_IconButtonWithProgress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14955);
function DashboardRegisterValueFallback(props){var{register}=props;var service=register.service;var server=(0,_hooks_useServiceServer__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(service);var color=server?"secondary":"primary";var handleRefresh=()=>register===null||register===void 0?void 0:register.sendGetAsync();var registerName=(0,_jacdac_ts_jacdac_spec_spectool_jdspec__WEBPACK_IMPORTED_MODULE_1__/* .humanify */ .lW)(register.name);// try forcing a refresh
(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{register===null||register===void 0?void 0:register.sendGetAsync();},[register]);return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_IconButtonWithProgress__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z,{color:color,title:"refresh "+registerName,indeterminate:true,onClick:handleRefresh});}

/***/ }),

/***/ 42714:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ DeviceActions; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(15861);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _mui_icons_material_Fingerprint__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(80610);
/* harmony import */ var _CmdButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10662);
/* harmony import */ var _hooks_useServiceProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23662);
/* harmony import */ var _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(50594);
/* harmony import */ var _mui_icons_material_Settings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(94229);
/* harmony import */ var _jacdac_ts_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36807);
/* harmony import */ var _jacdac_useChange__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(63339);
/* harmony import */ var gatsby_link__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(71562);
/* harmony import */ var _mui_icons_material_Cable__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(62394);
/* harmony import */ var _DeviceResetButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(78588);
/* harmony import */ var _HostedSimulatorsContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(55630);
/* harmony import */ var _jacdac_useBus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26040);
// tslint:disable-next-line: no-submodule-imports match-default-export-name
function DeviceActions(props){var{device,showSettings,showReset,children,hideIdentity,showStop,showProxy}=props;var bus=(0,_jacdac_useBus__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)();var{removeHostedSimulator,isHostedSimulator}=(0,_HostedSimulatorsContext__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .ZP)();var{deviceId}=device;var provider=(0,_hooks_useServiceProvider__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(device);var settings=(0,_jacdac_useChange__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(device,_=>{var _$services;return(_$services=_.services({serviceClass:_jacdac_ts_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_3__/* .SRV_SETTINGS */ .B9b}))===null||_$services===void 0?void 0:_$services[0];});var _showProxy=(0,_jacdac_useChange__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(device,_=>showProxy&&_.hasService(_jacdac_ts_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_3__/* .SRV_UNIQUE_BRAIN */ .U9t));var handleIdentify=/*#__PURE__*/function(){var _ref=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(){return yield device.identify();});return function handleIdentify(){return _ref.apply(this,arguments);};}();var handleProxy=/*#__PURE__*/function(){var _ref2=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(){return yield device.startProxy();});return function handleProxy(){return _ref2.apply(this,arguments);};}();var handleStop=/*#__PURE__*/function(){var _ref3=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(){removeHostedSimulator(deviceId);bus.removeServiceProvider(provider);bus.removeDevice(deviceId);});return function handleStop(){return _ref3.apply(this,arguments);};}();var handleSettings=/*#__PURE__*/function(){var _ref4=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(function*(){(0,gatsby_link__WEBPACK_IMPORTED_MODULE_9__/* .navigate */ .c4)("/tools/settings");});return function handleSettings(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,children,showStop&&(provider||isHostedSimulator(deviceId))&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{trackName:"device.stop",size:"small",title:"stop simulator",onClick:handleStop,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z,null)}),!hideIdentity&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{trackName:"device.identify",size:"small",title:"identify",onClick:handleIdentify,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Fingerprint__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z,null)}),showSettings&&!!settings&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{trackName:"device.settings",size:"small",title:"settings",onClick:handleSettings,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Settings__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z,null)}),_showProxy&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{trackName:"device.proxy",size:"small",title:"enter dongle mode",onClick:handleProxy,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Cable__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z,null)}),showReset&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DeviceResetButton__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,{device:device}));}

/***/ }),

/***/ 30841:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": function() { return /* binding */ DeviceAvatar; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(15861);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./src/components/CmdButton.tsx
var CmdButton = __webpack_require__(10662);
// EXTERNAL MODULE: ./src/components/hooks/useServiceProvider.ts
var useServiceProvider = __webpack_require__(23662);
// EXTERNAL MODULE: ./src/components/devices/useDeviceName.ts
var useDeviceName = __webpack_require__(83100);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/utils.ts
var utils = __webpack_require__(46196);
// EXTERNAL MODULE: ./src/jacdac/useChange.ts
var useChange = __webpack_require__(63339);
// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules
var Dialog = __webpack_require__(3838);
// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules
var DialogContent = __webpack_require__(77750);
// EXTERNAL MODULE: ./node_modules/@mui/material/Grid/Grid.js + 2 modules
var Grid = __webpack_require__(15725);
// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules
var Typography = __webpack_require__(2658);
// EXTERNAL MODULE: ./node_modules/gatsby-theme-material-ui/index.js
var gatsby_theme_material_ui = __webpack_require__(16821);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/catalog.ts + 1 modules
var catalog = __webpack_require__(5018);
// EXTERNAL MODULE: ./jacdac-ts/src/jdom/constants.ts
var constants = __webpack_require__(3964);
// EXTERNAL MODULE: ./src/jacdac/useDeviceDescription.ts
var useDeviceDescription = __webpack_require__(69461);
// EXTERNAL MODULE: ./src/jacdac/useDeviceSpecification.ts
var useDeviceSpecification = __webpack_require__(11352);
// EXTERNAL MODULE: ./src/components/devices/DeviceName.tsx
var DeviceName = __webpack_require__(9400);
// EXTERNAL MODULE: ./src/components/hooks/useInterval.ts
var useInterval = __webpack_require__(52302);
// EXTERNAL MODULE: ./src/components/ui/Alert.tsx
var Alert = __webpack_require__(46259);
// EXTERNAL MODULE: ./src/components/ui/DialogTitleWithClose.tsx + 1 modules
var DialogTitleWithClose = __webpack_require__(64720);
// EXTERNAL MODULE: ./src/components/ui/Suspense.tsx + 2 modules
var Suspense = __webpack_require__(19811);
;// CONCATENATED MODULE: ./src/components/dialogs/IdentifyDialog.tsx
var LazyDeviceImage=/*#__PURE__*/(0,react.lazy)(()=>__webpack_require__.e(/* import() */ 1022).then(__webpack_require__.bind(__webpack_require__, 71022)));function IdentifyDialog(props){var{device,open,onClose}=props;var description=(0,useDeviceDescription/* default */.Z)(device);var handleSendIdentify=(0,react.useCallback)(/*#__PURE__*/(0,asyncToGenerator/* default */.Z)(function*(){return yield device.identify();}),[device]);var handleCloseIdentify=()=>onClose();var{statusLightFlags}=device;var blue=statusLightFlags===constants/* ControlAnnounceFlags.StatusLightRgbFade */.P99.StatusLightRgbFade||statusLightFlags===constants/* ControlAnnounceFlags.StatusLightRgbNoFade */.P99.StatusLightRgbNoFade;(0,useInterval/* default */.Z)(open,handleSendIdentify,5000,[device]);var specification=(0,useDeviceSpecification/* default */.ZP)(device);return/*#__PURE__*/react.createElement(Dialog/* default */.Z,{open:open,onClose:handleCloseIdentify},/*#__PURE__*/react.createElement(DialogTitleWithClose/* default */.Z,{onClose:handleCloseIdentify},"Identifying"," ",/*#__PURE__*/react.createElement(DeviceName/* default */.Z,{device:device,onLinkClick:handleCloseIdentify}),"..."),/*#__PURE__*/react.createElement(DialogContent/* default */.Z,null,/*#__PURE__*/react.createElement(Grid/* default */.ZP,{container:true,alignItems:"center",alignContent:"center"},specification&&/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(gatsby_theme_material_ui/* Link */.rU,{color:"textPrimary",to:"/devices/"+(0,catalog/* identifierToUrlPath */.uM)(specification.id)+"/",underline:"hover"},/*#__PURE__*/react.createElement(Typography/* default */.Z,{variant:"subtitle1"},[specification.company,description||specification.name,specification!==null&&specification!==void 0&&specification.version?"v"+specification.version:undefined].filter(s=>!!s).join(" ")))),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:12},/*#__PURE__*/react.createElement(Suspense/* default */.Z,null,/*#__PURE__*/react.createElement(LazyDeviceImage,{device:device}))),/*#__PURE__*/react.createElement(Grid/* default */.ZP,{item:true,xs:true},/*#__PURE__*/react.createElement(Alert/* default */.Z,{severity:"info"},"Look for four blinks in around 2 seconds with the",blue?" blue":" "," LED.")))));}
// EXTERNAL MODULE: ./src/components/devices/DeviceIcon.tsx + 4 modules
var DeviceIcon = __webpack_require__(75091);
;// CONCATENATED MODULE: ./src/components/devices/DeviceAvatar.tsx
function DeviceAvatar(props){var{device,size,center}=props;var{0:identifyDialog,1:setIdentifyDialog}=(0,react.useState)(false);var name=(0,useDeviceName/* default */.Z)(device);var server=(0,useServiceProvider/* default */.Z)(device);var statusLight=(0,useChange/* default */.Z)(device,_=>_===null||_===void 0?void 0:_.statusLight);var color=(0,useChange/* default */.Z)(statusLight,_=>_===null||_===void 0?void 0:_.color);var style=color?{outlineColor:(0,utils/* rgbaToHtmlColor */.Qo)(color,0.4),outlineStyle:"solid",outlineWidth:"3px"}:undefined;var handleOpenIdentify=/*#__PURE__*/function(){var _ref=(0,asyncToGenerator/* default */.Z)(function*(){return setIdentifyDialog(true);});return function handleOpenIdentify(){return _ref.apply(this,arguments);};}();var handleCloseIdentify=()=>setIdentifyDialog(false);return/*#__PURE__*/react.createElement(react.Fragment,null,/*#__PURE__*/react.createElement(CmdButton/* default */.Z,{trackName:"device.identify",style:style,size:"small",title:"identify "+(server?"simulator":"device")+" "+name,onClick:handleOpenIdentify,icon:/*#__PURE__*/react.createElement(DeviceIcon/* default */.Z,{device:device,size:size,avatar:center!==false})}),identifyDialog&&/*#__PURE__*/react.createElement(IdentifyDialog,{device:device,open:identifyDialog,onClose:handleCloseIdentify}));}

/***/ }),

/***/ 9400:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ DeviceName; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2658);
/* harmony import */ var gatsby_material_ui_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3146);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);
/* harmony import */ var _jacdac_ts_src_jdom_catalog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5018);
/* harmony import */ var _jacdac_useDeviceSpecification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11352);
/* harmony import */ var _useDeviceName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(83100);
function DeviceName(props){var{device,serviceIndex,showShortId,linkToSpecification,onLinkClick}=props;var specification=(0,_jacdac_useDeviceSpecification__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP)(device);var name=(0,_useDeviceName__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(device)||"";var{shortId}=device;var Name=()=>/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement("span",null,name),!name&&showShortId&&shortId,showShortId&&name&&name!==shortId&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,{component:"span",variant:"body2",spellCheck:false}," ",shortId),serviceIndex!==undefined&&"["+serviceIndex+"]");if(linkToSpecification&&specification)return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(gatsby_material_ui_components__WEBPACK_IMPORTED_MODULE_0__/* .Link */ .rU,{onClick:onLinkClick,color:"textPrimary",to:"/devices/"+(0,_jacdac_ts_src_jdom_catalog__WEBPACK_IMPORTED_MODULE_2__/* .identifierToUrlPath */ .uM)(specification.id)+"/",underline:"hover"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Name,null));else return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Name,null);}

/***/ }),

/***/ 78588:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ DeviceResetButton; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15861);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _CmdButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10662);
/* harmony import */ var _mui_icons_material_RestartAlt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(34282);
function DeviceResetButton(props){var{device,showLabel}=props;var handleReset=/*#__PURE__*/function(){var _ref=(0,_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(function*(){return yield device.reset();});return function handleReset(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_CmdButton__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{disabled:!device,trackName:"device.reset",size:"small",title:"reset",onClick:handleReset,icon:/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_RestartAlt__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z,null)},showLabel?"Reset":null);}

/***/ }),

/***/ 83100:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useDeviceName; }
/* harmony export */ });
function useDeviceName(device,includeShortId){var name=device.friendlyName;var r=name;if(includeShortId&&name&&name!==device.shortId)r+=" ("+device.shortId+")";return r;}

/***/ }),

/***/ 68455:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useAnimationFrame; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function useAnimationFrame(callback,deps){var requestRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();var previousTimeRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();var animate=time=>{var active=true;if(previousTimeRef.current!=undefined){var deltaTime=time-previousTimeRef.current;active=callback(deltaTime);}previousTimeRef.current=time;if(active)requestRef.current=requestAnimationFrame(animate);// we're done
else requestRef.current=undefined;};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(callback){previousTimeRef.current=undefined;requestRef.current=requestAnimationFrame(animate);}return()=>requestRef.current!==undefined&&cancelAnimationFrame(requestRef.current);},deps||[]);}

/***/ }),

/***/ 34452:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useEvent; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function useEvent(service,identifier){return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>service===null||service===void 0?void 0:service.event(identifier),[service,identifier]);}

/***/ }),

/***/ 52302:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useInterval; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15785);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function useInterval(enabled,handler,delay,deps){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(enabled&&delay>0){var id=setInterval(handler,delay);handler();return()=>clearInterval(id);}},[enabled,handler,delay].concat((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(deps||[])));}

/***/ }),

/***/ 75938:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useServiceServer; }
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15785);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _useServiceProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(23662);
function useServiceServer(service,createTwin,deps){var device=service===null||service===void 0?void 0:service.device;var provider=(0,_useServiceProvider__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(device);var twin=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{if(provider)return undefined;var twin=service===null||service===void 0?void 0:service.twin;if(!twin&&service&&createTwin){twin=createTwin();if(twin)service.twin=twin;}return twin;},[device,provider,service===null||service===void 0?void 0:service.changeId].concat((0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(deps||[])));return(provider===null||provider===void 0?void 0:provider.service(service===null||service===void 0?void 0:service.serviceIndex))||twin;}

/***/ }),

/***/ 56212:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useSvgButtonProps; }
/* harmony export */ });
/* harmony import */ var _useFireKey__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(38846);
function useSvgButtonProps(label,onDown,onUp){var disabled=!onDown&&!onUp;var fireDownOnEnter=(0,_useFireKey__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(onDown);var fireUpOnEnter=(0,_useFireKey__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(onUp);var preventify=handler=>{if(handler)return event=>{event.preventDefault();handler(event);};else return undefined;};return{className:disabled?undefined:"clickeable",role:disabled?undefined:"button",tabIndex:disabled?undefined:0,["aria-label"]:label,onPointerDown:preventify(onDown),onPointerUp:preventify(onUp),onPointerLeave:preventify(onUp),onKeyDown:fireDownOnEnter,onKeyUp:fireUpOnEnter};}

/***/ }),

/***/ 22907:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useThrottledValue; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _useAnimationFrame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68455);
function useThrottledValue(value,maxRate,maxCycles){if(maxCycles===void 0){maxCycles=2;}var{0:actual,1:setActual}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value);var animated=actual;(0,_useAnimationFrame__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(time=>{// no valid rate
if(isNaN(maxRate)||isNaN(animated)){setActual(value);return false;}// not a value yet
if(isNaN(value)){return false;}// increment towards value
var dt=time/1000;// s
var error=value-animated;var maxError=maxRate*dt;// deg
var active=true;animated+=Math.sign(error)*Math.min(Math.abs(error),maxError);// close to goal, finish animation
if(Math.abs(value-animated)/maxRate<0.01){animated=value;active=false;}// very far from goal, get closer immediately
if(!isNaN(maxCycles)){var maxErrorRange=maxRate*maxCycles;animated=Math.max(value-maxErrorRange,Math.min(value+maxErrorRange,animated));}// store and update ui
setActual(animated);return active;},[value,maxRate,maxCycles]);return actual;}

/***/ }),

/***/ 28709:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useInstanceName; }
/* harmony export */ });
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9680);
/* harmony import */ var _hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22878);
function useInstanceName(service,options){var instanceNameRegister=(0,_hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(service,_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__/* .SystemReg.InstanceName */ .ZJq.InstanceName);var[instanceName]=(0,_jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__/* .useRegisterUnpackedValue */ .Pf)(instanceNameRegister,options);return instanceName;}

/***/ }),

/***/ 23239:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useRoleManagerClient; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(26040);
function useRoleManagerClient(){var bus=(0,_jacdac_useBus__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)();var{0:mgr,1:setMgr}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(bus.roleManager);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>bus.subscribe(_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_1__/* .ROLE_MANAGER_CHANGE */ .kqR,()=>setMgr(bus.roleManager)),[bus]);return mgr;}

/***/ }),

/***/ 71612:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useStatusCode; }
/* harmony export */ });
/* harmony import */ var _jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3964);
/* harmony import */ var _jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9680);
/* harmony import */ var _hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22878);
function useStatusCode(service,options){var register=(0,_hooks_useRegister__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(service,_jacdac_ts_src_jdom_constants__WEBPACK_IMPORTED_MODULE_0__/* .SystemReg.StatusCode */ .ZJq.StatusCode);var[code=0,vendorCode=0]=(0,_jacdac_useRegisterValue__WEBPACK_IMPORTED_MODULE_1__/* .useRegisterUnpackedValue */ .Pf)(register,options);return{code,vendorCode};}

/***/ }),

/***/ 2976:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ LoadingProgress; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59062);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function LoadingProgress(props){var{size}=props;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{disableShrink:true,variant:"indeterminate",size:size||"1em","aria-label":"loading"});}

/***/ }),

/***/ 79211:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ ButtonWidget; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _SvgWidget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98816);
/* harmony import */ var _useWidgetTheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2874);
/* harmony import */ var _hooks_useSvgButtonProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56212);
function ButtonWidget(props){var{checked,label,color,size,onDown,onUp}=props;var{background,controlBackground,active}=(0,_useWidgetTheme__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(color);var buttonProps=(0,_hooks_useSvgButtonProps__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(label,onDown,onUp);var w=64;var mo=checked?3:5;var r=w/2;var cx=r;var cy=r;var ri=r-mo;var rn=8;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SvgWidget__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{width:w,size:size},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:0,y:0,rx:2,ry:2,width:w,height:w,fill:background}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:rn,cy:rn,r:rn>>1,fill:controlBackground}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:w-rn,cy:rn,r:rn>>1,fill:controlBackground}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:w-rn,cy:w-rn,r:rn>>1,fill:controlBackground}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{cx:rn,cy:w-rn,r:rn>>1,fill:controlBackground}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",Object.assign({cx:cx,cy:cy,r:ri,fill:checked?active:controlBackground},buttonProps)));}

/***/ }),

/***/ 27362:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Q": function() { return /* binding */ DEFAULT_COLORS; },
/* harmony export */   "Z": function() { return /* binding */ ColorButtons; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2734);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15725);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6867);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _jacdac_ts_src_jdom_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46196);
/* harmony import */ var _mui_icons_material_Circle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(91535);
var DEFAULT_COLORS=[{name:"red",value:0xff0000},{name:"blue",value:0x0000ff},{name:"green",value:0x00ff00},{name:"black",value:0x010101}];function ColorButtons(props){var theme=(0,_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)();var{children,colors=DEFAULT_COLORS,color,onColorChange}=props;var handleSetColor=col=>()=>onColorChange(col);return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP,{container:true,spacing:1},colors.map(_ref=>{var{name,value}=_ref;var selected=value===color;var c=(0,_jacdac_ts_src_jdom_utils__WEBPACK_IMPORTED_MODULE_1__/* .rgbToHtmlColor */ .b)(value);var title=value===color?name+" (selected)":name;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .ZP,{key:name,item:true,xs:true},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z,{style:{color:c},onClick:handleSetColor(value),"aria-label":title,title:title,sx:{backgroundColor:selected?c:theme.palette.grey[300]}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_icons_material_Circle__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z,null)));}),children);}

/***/ }),

/***/ 13070:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ GaugeWidget; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _useWidgetTheme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2874);
/* harmony import */ var _SvgWidget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(98816);
/* harmony import */ var _svgutils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(65885);
/* harmony import */ var _PowerButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15073);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15725);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(92486);
function GaugeWidget(props){var{value,color,size,min,max,step,variant,valueLabel,off,toggleOff,onChange,tabIndex,label}=props;var{active,textProps,controlBackground}=(0,_useWidgetTheme__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(color);var sliderPathRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();var w=120;var h=120;var m=8;var roff=20;var riff=10;var sw=m<<1;var cx=w>>1;var cy=h>>1;var r=(w>>1)-m;var sa=-135;var ea=135;var _step=step||(max-min)/10;var displayValue=value;//useThrottledValue(value, (max - min) * 10)
var computeArc=v=>{if(variant==="fountain"){var mid=(ea+sa)/2;var fraction=v/(max-min)*(ea-sa);if(fraction<0)return (0,_svgutils__WEBPACK_IMPORTED_MODULE_4__/* .describeArc */ .x8)(cx,cy,r,mid+fraction,mid);else return (0,_svgutils__WEBPACK_IMPORTED_MODULE_4__/* .describeArc */ .x8)(cx,cy,r,mid,mid+fraction);}else{var _fraction=(v-min)/(max-min);var va=sa+_fraction*(ea-sa);return (0,_svgutils__WEBPACK_IMPORTED_MODULE_4__/* .describeArc */ .x8)(cx,cy,r,sa,va);}};var db=(0,_svgutils__WEBPACK_IMPORTED_MODULE_4__/* .describeArc */ .x8)(cx,cy,r,sa,ea);var dvalue=computeArc(value);var dactual=computeArc(displayValue);var lineCap="round";var tvalue=valueLabel!==undefined?valueLabel(value):value===undefined?"":value+"";var clickeable=!!onChange;var handlePointerDown=ev=>{ev.preventDefault();if(!ev.buttons)return;var svg=sliderPathRef.current.ownerSVGElement;var pos=(0,_svgutils__WEBPACK_IMPORTED_MODULE_4__/* .svgPointerPoint */ .PW)(svg,ev);var closest=(0,_svgutils__WEBPACK_IMPORTED_MODULE_4__/* .closestPoint */ .JI)(sliderPathRef.current,_step,pos);onChange(min+(1-closest)*(max-min));};var pointerStyle=clickeable&&{cursor:"pointer"};var pathProps={onPointerDown:clickeable?handlePointerDown:undefined,onPointerMove:clickeable?handlePointerDown:undefined,style:clickeable?pointerStyle:undefined};var handleSliderChange=(ev,newValue)=>onChange(newValue);return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .ZP,{container:true,direction:"column"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .ZP,{item:true},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_SvgWidget__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z,{tabIndex:tabIndex,width:w,height:h,size:size},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",Object.assign({ref:sliderPathRef,strokeWidth:sw,stroke:controlBackground,d:db,strokeLinecap:lineCap,fill:"transparent"},pathProps)),!off&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",Object.assign({strokeWidth:sw,stroke:active,strokeLinecap:lineCap,d:dvalue,opacity:0.2,fill:"transparent"},pathProps)),!off&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",Object.assign({strokeWidth:sw,stroke:active,strokeLinecap:lineCap,d:dactual,fill:"transparent"},pathProps)),off!==undefined?/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_PowerButton__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z,{off:off,label:tvalue,cx:cx,cy:cy,r:roff,ri:riff,color:color,onClick:toggleOff}):/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",Object.assign({},textProps,{x:cx,y:cy,"aria-label":tvalue}),tvalue))),clickeable&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .ZP,{item:true},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .ZP,{"aria-label":label,disabled:off,color:color,min:min,max:max,step:_step,valueLabelDisplay:"off",value:value,onChange:onChange?handleSliderChange:undefined})));}

/***/ }),

/***/ 86992:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ OptionalTooltip; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27304);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function OptionalTooltip(props){var{children,title,placement}=props;if(!title)return children;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_mui_material__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,{describeChild:true,title:title,placement:placement},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,children));}

/***/ }),

/***/ 15073:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ PowerButton; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _hooks_useSvgButtonProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56212);
/* harmony import */ var _svgutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(65885);
/* harmony import */ var _useWidgetTheme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2874);
function PowerButton(props){var{cx,cy,r,ri,onClick,off,color,label,strokeWidth,borderStroke}=props;var{background,active,controlBackground,textProps}=(0,_useWidgetTheme__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(color);var a=135;var d=(0,_svgutils__WEBPACK_IMPORTED_MODULE_2__/* .describeArc */ .x8)(cx,cy,ri,-a,a,true);var btnlabel=off?"turn on":"turn off";var buttonProps=(0,_hooks_useSvgButtonProps__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(btnlabel,onClick);var sw=strokeWidth||3;var iconStroke=off?background:active;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{"aria-label":label},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",null,btnlabel),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",Object.assign({cx:cx,cy:cy,r:r,fill:controlBackground,strokeWidth:sw,stroke:borderStroke||background},buttonProps)),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{transform:"rotate(180, "+cx+", "+cy+")"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:d,strokeLinecap:"round",fill:"none",strokeWidth:sw,stroke:iconStroke,style:{userSelect:"none",pointerEvents:"none"}}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line",{strokeLinecap:"round",x1:cx,y1:cy+ri/4,x2:cx,y2:cy+ri,stroke:iconStroke,strokeWidth:sw,style:{userSelect:"none",pointerEvents:"none"}})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("text",Object.assign({"aria-label":label,x:cx,y:cy+r+8},textProps,{fontSize:"80%"}),label));}

/***/ }),

/***/ 98816:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ SvgWidget; }
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
function SvgWidget(props){var{width,height,size="100%",background,children,role,title,viewBox,tabIndex,svgRef}=props;var h=height||width;var aspectRatio=width/height;var vertical=aspectRatio<1;return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{position:"relative",height:vertical?size:undefined,width:vertical?undefined:size}},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{ref:svgRef,xmlns:"http://www.w3.org/2000/svg",tabIndex:tabIndex,viewBox:viewBox||"0 0 "+width+" "+h,"aria-label":title,style:{height:vertical?"100%":undefined,width:vertical?undefined:"100%"},role:role||"group"},background&&/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:0,y:0,width:width,height:height,fill:background,rx:1,ry:1}),children));}

/***/ }),

/***/ 65885:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PW": function() { return /* binding */ svgPointerPoint; },
/* harmony export */   "JI": function() { return /* binding */ closestPoint; },
/* harmony export */   "op": function() { return /* binding */ polarToCartesian; },
/* harmony export */   "x8": function() { return /* binding */ describeArc; }
/* harmony export */ });
function svgPointerPoint(svg,event){var point=svg.createSVGPoint();point.x=event.clientX;point.y=event.clientY;var res=point.matrixTransform(svg.getScreenCTM().inverse());return res;}function closestPoint(pathNode,step,point){var pathLength=pathNode.getTotalLength();var distance2=p=>{var dx=p.x-point.x;var dy=p.y-point.y;return dx*dx+dy*dy;};var bestLength=0;var bestDistance=Infinity;for(var scanLength=0;scanLength<=pathLength;scanLength+=step){var scan=pathNode.getPointAtLength(scanLength);var scanDistance=distance2(scan);if(scanDistance<bestDistance){bestLength=scanLength;bestDistance=scanDistance;}}return bestLength/pathLength;}function polarToCartesian(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180.0;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)};}function describeArc(x,y,radius,startAngle,endAngle,large){var start=polarToCartesian(x,y,radius,endAngle);var end=polarToCartesian(x,y,radius,startAngle);var largeArcFlag=large!==true&&endAngle-startAngle<=180?"0":"1";var d=["M",start.x,start.y,"A",radius,radius,0,largeArcFlag,0,end.x,end.y].join(" ");return d;}

/***/ }),

/***/ 89196:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useWidgetSize; }
/* harmony export */ });
function useWidgetSize(variant,widgetCount){var icon=variant==="icon";var mini=icon;var widgetSize;switch(widgetCount||1){case 1:case 2:widgetSize=mini?"12em":"16em";break;case 3:case 4:case 5:case 6:widgetSize=mini?"10em":"14em";break;default:widgetSize=mini?"4em":"5em";break;}return widgetSize;}

/***/ }),

/***/ 2874:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useWidgetTheme; }
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2734);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);
/* harmony import */ var _ui_DarkModeContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50553);
function useWidgetTheme(color){var theme=(0,_mui_material__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)();var{palette}=theme;var{background}=palette;var{darkMode}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_ui_DarkModeContext__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .ZP);var active=color==="primary"?palette.primary.main:color==="secondary"?palette.secondary.main:palette.info.main;var backgroundColor=darkMode==="dark"?background.default:palette.grey[800];var controlBackground=darkMode==="dark"?palette.grey[800]:palette.grey[400];var textPrimary=palette.text.primary;var textProps={fill:textPrimary,alignmentBaseline:"central",dominantBaseline:"middle",textAnchor:"middle",pointerEvents:"none",letterSpacing:0,style:{userSelect:"none",pointerEvents:"none"}};return{background:backgroundColor,controlBackground,active,textPrimary,textProps};}

/***/ }),

/***/ 69461:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ useDeviceDescription; }
/* harmony export */ });
/* harmony import */ var _jacdac_ts_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36807);
/* harmony import */ var _components_hooks_useRegister__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22878);
/* harmony import */ var _useDeviceSpecification__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11352);
/* harmony import */ var _useRegisterValue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9680);
function useDeviceDescription(device){var specification=(0,_useDeviceSpecification__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .ZP)(device);var reg=(0,_components_hooks_useRegister__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(device===null||device===void 0?void 0:device.service(0),_jacdac_ts_jacdac_spec_dist_specconstants__WEBPACK_IMPORTED_MODULE_0__/* .ControlReg.DeviceDescription */ .toU.DeviceDescription);var[res]=(0,_useRegisterValue__WEBPACK_IMPORTED_MODULE_2__/* .useRegisterUnpackedValue */ .Pf)(reg);return res||(specification===null||specification===void 0?void 0:specification.name);}

/***/ })

}]);
//# sourceMappingURL=36ac01238f33c59ef4bf5e573dc09d41bc1feb4f-b2784532e625bd62d1a7.js.map