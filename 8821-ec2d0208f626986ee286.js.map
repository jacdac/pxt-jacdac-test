{"version":3,"file":"8821-ec2d0208f626986ee286.js","mappings":";;;;;;;AAAa;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;AACnF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;AACf,4CAA4C,mBAAO,CAAC,KAAuB;AAC3E,kBAAkB,mBAAO,CAAC,KAAmB;AAC7C;AACA;AACA,CAAC;AACD,SAAe;;;;;;;;;;;;;;;;;;ACJA,wCAAgE,CAC3E,GAAM,UAAN,MACA,GAAMA,CAAAA,QAAQ,CAAGC,4CAAjB,GACA,GAAMC,CAAAA,OAAO,CAAGF,QAAQ,CAAxB,QACA,GAAM,uBAAsBG,+CAAQ,CAApC,EAAoC,CAApC,CACA,GAAM,qBAAoBA,+CAAQ,CAAlC,EAAkC,CAAlC,CAEA,GAAMC,CAAAA,OAAO,CAAGC,QAAQ,CAAxB,MAAwB,CAAxB,CACA,GAAMC,CAAAA,MAAM,CAAGD,QAAQ,CAAvB,KAAuB,CAAvB,CAEA,GAAME,CAAAA,QAAQ,CAAGC,KAAK,CAALA,OAAK,CAALA,EAAkBA,KAAK,CAAxC,MAAwC,CAAxC,CAEA,GAAMC,CAAAA,kBAAkB,CAAIC,EAAD,EACvBC,SAAS,CAACD,EAAE,CAAFA,MAAAA,CAAAA,KAAAA,CADd,IACcA,EAAD,CADb,CAEA,GAAME,CAAAA,iBAAiB,CAAIF,EAAD,EACtBG,QAAQ,CAACH,EAAE,CAAFA,MAAAA,CAAAA,KAAAA,CADb,IACaA,EAAD,CADZ,CAEA,GAAMI,CAAAA,UAAU,mIAAG,wBACTC,CAAAA,OAAO,CAAPA,kBAAAA,CACFC,8GADED,CAEF,SAFEA,MAEF,CAFEA,CADS,IACTA,CADS,CAAH,SAAVD,SAAAA,CAAAA,UAAAA,EAAU,qCAAhB,CAAgB,EAAhB,CAOA,mBACI,kHAAM,SAAS,CAAf,KAAgB,OAAO,CAAvB,EAA4B,SAAS,CAArC,oBACI,kHAAM,IAAI,CAAV,KAAW,EAAE,CAAb,GAAmB,EAAE,CAArB,gBACI,iHACI,IAAI,CADR,SAEI,EAAE,CAFN,SAGI,KAAK,CAHT,SAII,KAAK,CAJT,OAKI,QAAQ,CALZ,mBAMI,KAAK,CAAE,CAAC,CAAD,QAAYN,KAAK,CAN5B,OAM4B,CAN5B,CAOI,UAAU,CACNA,KAAK,CAALA,OAAK,CAALA,CAAAA,mCAAAA,CAVhB,uBAEQ,EADJ,CADJ,cAgBI,kHAAM,IAAI,CAAV,KAAW,EAAE,CAAb,GAAmB,EAAE,CAArB,gBACI,iHACI,IAAI,CADR,SAEI,EAAE,CAFN,QAGI,KAAK,CAHT,QAII,KAAK,CAJT,MAKI,QAAQ,CALZ,kBAMI,KAAK,CAAE,CAAC,CAAD,OAAWA,KAAK,CAN3B,MAM2B,CAN3B,CAOI,UAAU,CACNA,KAAK,CAALA,MAAK,CAALA,CAAAA,kCAAAA,CAzBhB,sBAiBQ,EADJ,CAhBJ,cA+BI,kHAAM,IAAI,CAAV,mBACI,8GACI,KAAK,CADT,eAEI,QAAQ,CAFZ,SAGI,OAAO,CAHX,yBAKI,2HAtChB,IAsCgB,CALJ,CADJ,CA/BJ,CADJ,CA2CH","sources":["webpack://jacdac-docs/./node_modules/@mui/icons-material/Send.js","webpack://jacdac-docs/./src/components/dashboard/DashboardCODALMessageBus.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\nexports.default = _default;","import React, { ChangeEvent, useState } from \"react\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { CodalMessageBusCmd } from \"../../../jacdac-ts/jacdac-spec/dist/specconstants\"\nimport { useId } from \"react\"\nimport { Grid, TextField } from \"@mui/material\"\nimport SendIcon from \"@mui/icons-material/Send\"\nimport CmdButton from \"../CmdButton\"\n\nexport default function DashboardCODALMessageBus(props: DashboardServiceProps) {\n    const { service } = props\n    const sourceId = useId()\n    const valueId = sourceId + \"value\"\n    const [source, setSource] = useState(\"\")\n    const [value, setValue] = useState(\"\")\n\n    const nsource = parseInt(source)\n    const nvalue = parseInt(value)\n\n    const disabled = isNaN(nsource) || isNaN(nvalue)\n\n    const handleSourceChange = (ev: ChangeEvent<HTMLInputElement>) =>\n        setSource(ev.target.value.trim())\n    const handleValueChange = (ev: ChangeEvent<HTMLInputElement>) =>\n        setValue(ev.target.value.trim())\n    const handleSend = async () =>\n        await service.sendCmdPackedAsync(\n            CodalMessageBusCmd.Send,\n            [nsource, nvalue],\n            true\n        )\n\n    return (\n        <Grid container spacing={1} direction=\"row\">\n            <Grid item xs={12} md={5}>\n                <TextField\n                    type=\"number\"\n                    id={sourceId}\n                    label=\"Source\"\n                    value={source}\n                    onChange={handleSourceChange}\n                    error={!!source && isNaN(nsource)}\n                    helperText={\n                        isNaN(nsource)\n                            ? \"source must be an unsigned number\"\n                            : \"source of the message\"\n                    }\n                />\n            </Grid>\n            <Grid item xs={12} md={5}>\n                <TextField\n                    type=\"number\"\n                    id={valueId}\n                    label=\"Value\"\n                    value={value}\n                    onChange={handleValueChange}\n                    error={!!value && isNaN(nvalue)}\n                    helperText={\n                        isNaN(nvalue)\n                            ? \"value must be an unsigned number\"\n                            : \"value of the message\"\n                    }\n                />\n            </Grid>\n            <Grid item>\n                <CmdButton\n                    title=\"send message\"\n                    disabled={disabled}\n                    onClick={handleSend}\n                >\n                    <SendIcon />\n                </CmdButton>\n            </Grid>\n        </Grid>\n    )\n}\n"],"names":["sourceId","useId","valueId","useState","nsource","parseInt","nvalue","disabled","isNaN","handleSourceChange","ev","setSource","handleValueChange","setValue","handleSend","service","CodalMessageBusCmd"],"sourceRoot":""}